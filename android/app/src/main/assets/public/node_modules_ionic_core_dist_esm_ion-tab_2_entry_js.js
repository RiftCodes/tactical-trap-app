"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-tab_2_entry_js"],{

/***/ 5427:
/*!**************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-tab_2.entry.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ion_tab: () => (/* binding */ Tab),
/* harmony export */   ion_tabs: () => (/* binding */ Tabs)
/* harmony export */ });
/* harmony import */ var C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 9204);
/* harmony import */ var _index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-527b9e34.js */ 4514);
/* harmony import */ var _framework_delegate_2eea1763_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./framework-delegate-2eea1763.js */ 9199);
/* harmony import */ var _helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./helpers-78efeec3.js */ 9522);

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */



const tabCss = ":host(.tab-hidden){display:none !important}";
const IonTabStyle0 = tabCss;
const Tab = class {
  constructor(hostRef) {
    (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.loaded = false;
    this.active = false;
    this.delegate = undefined;
    this.tab = undefined;
    this.component = undefined;
  }
  componentWillLoad() {
    var _this = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this.active) {
        yield _this.setActive();
      }
    })();
  }
  /** Set the active component for the tab */
  setActive() {
    var _this2 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this2.prepareLazyLoaded();
      _this2.active = true;
    })();
  }
  changeActive(isActive) {
    if (isActive) {
      this.prepareLazyLoaded();
    }
  }
  prepareLazyLoaded() {
    if (!this.loaded && this.component != null) {
      this.loaded = true;
      try {
        return (0,_framework_delegate_2eea1763_js__WEBPACK_IMPORTED_MODULE_2__.a)(this.delegate, this.el, this.component, ['ion-page']);
      } catch (e) {
        console.error(e);
      }
    }
    return Promise.resolve(undefined);
  }
  render() {
    const {
      tab,
      active,
      component
    } = this;
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.e, {
      key: '2107ece2f1ebdf748bac8adb78a9ad67e7fc9057',
      role: "tabpanel",
      "aria-hidden": !active ? 'true' : null,
      "aria-labelledby": `tab-button-${tab}`,
      class: {
        'ion-page': component === undefined,
        'tab-hidden': !active
      }
    }, (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      key: 'b4a1bc1aa79f6b82b8f77b544bcb74e65229b541'
    }));
  }
  get el() {
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
  static get watchers() {
    return {
      "active": ["changeActive"]
    };
  }
};
Tab.style = IonTabStyle0;
const tabsCss = ":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}";
const IonTabsStyle0 = tabsCss;
const Tabs = class {
  constructor(hostRef) {
    (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionNavWillLoad = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionNavWillLoad", 7);
    this.ionTabsWillChange = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionTabsWillChange", 3);
    this.ionTabsDidChange = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionTabsDidChange", 3);
    this.transitioning = false;
    this.onTabClicked = ev => {
      const {
        href,
        tab
      } = ev.detail;
      if (this.useRouter && href !== undefined) {
        const router = document.querySelector('ion-router');
        if (router) {
          router.push(href);
        }
      } else {
        this.select(tab);
      }
    };
    this.selectedTab = undefined;
    this.useRouter = false;
  }
  componentWillLoad() {
    var _this3 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!_this3.useRouter) {
        /**
         * JavaScript and StencilJS use `ion-router`, while
         * the other frameworks use `ion-router-outlet`.
         *
         * If either component is present then tabs will not use
         * a basic tab-based navigation. It will use the history
         * stack or URL updates associated with the router.
         */
        _this3.useRouter = (!!_this3.el.querySelector('ion-router-outlet') || !!document.querySelector('ion-router')) && !_this3.el.closest('[no-router]');
      }
      if (!_this3.useRouter) {
        const tabs = _this3.tabs;
        if (tabs.length > 0) {
          yield _this3.select(tabs[0]);
        }
      }
      _this3.ionNavWillLoad.emit();
    })();
  }
  componentWillRender() {
    const tabBar = this.el.querySelector('ion-tab-bar');
    if (tabBar) {
      const tab = this.selectedTab ? this.selectedTab.tab : undefined;
      tabBar.selectedTab = tab;
    }
  }
  /**
   * Select a tab by the value of its `tab` property or an element reference. This method is only available for vanilla JavaScript projects. The Angular, React, and Vue implementations of tabs are coupled to each framework's router.
   *
   * @param tab The tab instance to select. If passed a string, it should be the value of the tab's `tab` property.
   */
  select(tab) {
    var _this4 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const selectedTab = getTab(_this4.tabs, tab);
      if (!_this4.shouldSwitch(selectedTab)) {
        return false;
      }
      yield _this4.setActive(selectedTab);
      yield _this4.notifyRouter();
      _this4.tabSwitch();
      return true;
    })();
  }
  /**
   * Get a specific tab by the value of its `tab` property or an element reference. This method is only available for vanilla JavaScript projects. The Angular, React, and Vue implementations of tabs are coupled to each framework's router.
   *
   * @param tab The tab instance to select. If passed a string, it should be the value of the tab's `tab` property.
   */
  getTab(tab) {
    var _this5 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return getTab(_this5.tabs, tab);
    })();
  }
  /**
   * Get the currently selected tab. This method is only available for vanilla JavaScript projects. The Angular, React, and Vue implementations of tabs are coupled to each framework's router.
   */
  getSelected() {
    return Promise.resolve(this.selectedTab ? this.selectedTab.tab : undefined);
  }
  /** @internal */
  setRouteId(id) {
    var _this6 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const selectedTab = getTab(_this6.tabs, id);
      if (!_this6.shouldSwitch(selectedTab)) {
        return {
          changed: false,
          element: _this6.selectedTab
        };
      }
      yield _this6.setActive(selectedTab);
      return {
        changed: true,
        element: _this6.selectedTab,
        markVisible: () => _this6.tabSwitch()
      };
    })();
  }
  /** @internal */
  getRouteId() {
    var _this7 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      var _a;
      const tabId = (_a = _this7.selectedTab) === null || _a === void 0 ? void 0 : _a.tab;
      return tabId !== undefined ? {
        id: tabId,
        element: _this7.selectedTab
      } : undefined;
    })();
  }
  setActive(selectedTab) {
    if (this.transitioning) {
      return Promise.reject('transitioning already happening');
    }
    this.transitioning = true;
    this.leavingTab = this.selectedTab;
    this.selectedTab = selectedTab;
    this.ionTabsWillChange.emit({
      tab: selectedTab.tab
    });
    selectedTab.active = true;
    return Promise.resolve();
  }
  tabSwitch() {
    const selectedTab = this.selectedTab;
    const leavingTab = this.leavingTab;
    this.leavingTab = undefined;
    this.transitioning = false;
    if (!selectedTab) {
      return;
    }
    if (leavingTab !== selectedTab) {
      if (leavingTab) {
        leavingTab.active = false;
      }
      this.ionTabsDidChange.emit({
        tab: selectedTab.tab
      });
    }
  }
  notifyRouter() {
    if (this.useRouter) {
      const router = document.querySelector('ion-router');
      if (router) {
        return router.navChanged('forward');
      }
    }
    return Promise.resolve(false);
  }
  shouldSwitch(selectedTab) {
    const leavingTab = this.selectedTab;
    return selectedTab !== undefined && selectedTab !== leavingTab && !this.transitioning;
  }
  get tabs() {
    return Array.from(this.el.querySelectorAll('ion-tab'));
  }
  render() {
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.e, {
      key: 'd357c4607cfc89fb88404fe12ea7ef5b397fe6bf',
      onIonTabButtonClick: this.onTabClicked
    }, (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      key: '18661896589a4ab3c74164f448b928abec9b4db0',
      name: "top"
    }), (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: '3bf30ea2540a196e868a78a861824b4b5d933afd',
      class: "tabs-inner"
    }, (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      key: '7cfc154d4d6c1642188ab6508a6be72c8234585e'
    })), (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      key: '8057679c959195cbdfae156b8ae0cbfd978c5037',
      name: "bottom"
    }));
  }
  get el() {
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
};
const getTab = (tabs, tab) => {
  const tabEl = typeof tab === 'string' ? tabs.find(t => t.tab === tab) : tab;
  if (!tabEl) {
    console.error(`tab with id: "${tabEl}" does not exist`);
  }
  return tabEl;
};
Tabs.style = IonTabsStyle0;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXRhYl8yX2VudHJ5X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDNkc7QUFDckM7QUFDekM7QUFFL0IsTUFBTVcsTUFBTSxHQUFHLDZDQUE2QztBQUM1RCxNQUFNQyxZQUFZLEdBQUdELE1BQU07QUFFM0IsTUFBTUUsR0FBRyxHQUFHLE1BQU07RUFDZEMsV0FBV0EsQ0FBQ0MsT0FBTyxFQUFFO0lBQ2pCZCxxREFBZ0IsQ0FBQyxJQUFJLEVBQUVjLE9BQU8sQ0FBQztJQUMvQixJQUFJLENBQUNDLE1BQU0sR0FBRyxLQUFLO0lBQ25CLElBQUksQ0FBQ0MsTUFBTSxHQUFHLEtBQUs7SUFDbkIsSUFBSSxDQUFDQyxRQUFRLEdBQUdDLFNBQVM7SUFDekIsSUFBSSxDQUFDQyxHQUFHLEdBQUdELFNBQVM7SUFDcEIsSUFBSSxDQUFDRSxTQUFTLEdBQUdGLFNBQVM7RUFDOUI7RUFDTUcsaUJBQWlCQSxDQUFBLEVBQUc7SUFBQSxJQUFBQyxLQUFBO0lBQUEsT0FBQUMsNk1BQUE7TUFDdEIsSUFBSUQsS0FBSSxDQUFDTixNQUFNLEVBQUU7UUFDYixNQUFNTSxLQUFJLENBQUNFLFNBQVMsQ0FBQyxDQUFDO01BQzFCO0lBQUM7RUFDTDtFQUNBO0VBQ01BLFNBQVNBLENBQUEsRUFBRztJQUFBLElBQUFDLE1BQUE7SUFBQSxPQUFBRiw2TUFBQTtNQUNkLE1BQU1FLE1BQUksQ0FBQ0MsaUJBQWlCLENBQUMsQ0FBQztNQUM5QkQsTUFBSSxDQUFDVCxNQUFNLEdBQUcsSUFBSTtJQUFDO0VBQ3ZCO0VBQ0FXLFlBQVlBLENBQUNDLFFBQVEsRUFBRTtJQUNuQixJQUFJQSxRQUFRLEVBQUU7TUFDVixJQUFJLENBQUNGLGlCQUFpQixDQUFDLENBQUM7SUFDNUI7RUFDSjtFQUNBQSxpQkFBaUJBLENBQUEsRUFBRztJQUNoQixJQUFJLENBQUMsSUFBSSxDQUFDWCxNQUFNLElB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bUJBQW1CLEVBQUUsSUFBSSxDQUFDekM7SUFBYSxDQUFDLEVBQUU5QyxxREFBQyxDQUFDLE1BQU0sRUFBRTtNQUFFa0MsR0FBRyxFQUFFLDBDQUEwQztNQUFFc0QsSUFBSSxFQUFFO0lBQU0sQ0FBQyxDQUFDLEVBQUV4RixxREFBQyxDQUFDLEtBQUssRUFBRTtNQUFFa0MsR0FBRyxFQUFFLDBDQUEwQztNQUFFRSxLQUFLLEVBQUU7SUFBYSxDQUFDLEVBQUVwQyxxREFBQyxDQUFDLE1BQU0sRUFBRTtNQUFFa0MsR0FBRyxFQUFFO0lBQTJDLENBQUMsQ0FBQyxDQUFDLEVBQUVsQyxxREFBQyxDQUFDLE1BQU0sRUFBRTtNQUFFa0MsR0FBRyxFQUFFLDBDQUEwQztNQUFFc0QsSUFBSSxFQUFFO0lBQVMsQ0FBQyxDQUFDLENBQUM7RUFDamE7RUFDQSxJQUFJNUQsRUFBRUEsQ0FBQSxFQUFHO0lBQUUsT0FBT3hCLHFEQUFVLENBQUMsSUFBSSxDQUFDO0VBQUU7QUFDeEMsQ0FBQztBQUNELE1BQU02RCxNQUFNLEdBQUdBLENBQUNOLElBQUksRUFBRXpDLEdBQUcsS0FBSztFQUMxQixNQUFNdUUsS0FBSyxHQUFHLE9BQU92RSxHQUFHLEtBQUssUUFBUSxHQUFHeUMsSUFBSSxDQUFDK0IsSUFBSSxDQUFFQyxDQUFDLElBQUtBLENBQUMsQ0FBQ3pFLEdBQUcsS0FBS0EsR0FBRyxDQUFDLEdBQUdBLEdBQUc7RUFDN0UsSUFBSSxDQUFDdUUsS0FBSyxFQUFFO0lBQ1I1RCxPQUFPLENBQUNDLEtBQUssQ0FBQyxpQkFBaUIyRCxLQUFLLGtCQUFrQixDQUFDO0VBQzNEO0VBQ0EsT0FBT0EsS0FBSztBQUNoQixDQUFDO0FBQ0RoRCxJQUFJLENBQUNILEtBQUssR0FBR0UsYUFBYSIsInNvdXJjZXMiOlsiLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLXRhYl8yLmVudHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGgsIGUgYXMgSG9zdCwgZiBhcyBnZXRFbGVtZW50LCBjIGFzIGNyZWF0ZUV2ZW50IH0gZnJvbSAnLi9pbmRleC01MjdiOWUzNC5qcyc7XG5pbXBvcnQgeyBhIGFzIGF0dGFjaENvbXBvbmVudCB9IGZyb20gJy4vZnJhbWV3b3JrLWRlbGVnYXRlLTJlZWExNzYzLmpzJztcbmltcG9ydCAnLi9oZWxwZXJzLTc4ZWZlZWMzLmpzJztcblxuY29uc3QgdGFiQ3NzID0gXCI6aG9zdCgudGFiLWhpZGRlbil7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9XCI7XG5jb25zdCBJb25UYWJTdHlsZTAgPSB0YWJDc3M7XG5cbmNvbnN0IFRhYiA9IGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgICAgIHRoaXMubG9hZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudGFiID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgYXN5bmMgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXRBY3RpdmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogU2V0IHRoZSBhY3RpdmUgY29tcG9uZW50IGZvciB0aGUgdGFiICovXG4gICAgYXN5bmMgc2V0QWN0aXZlKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnByZXBhcmVMYXp5TG9hZGVkKCk7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG4gICAgY2hhbmdlQWN0aXZlKGlzQWN0aXZlKSB7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5wcmVwYXJlTGF6eUxvYWRlZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByZXBhcmVMYXp5TG9hZGVkKCkge1xuICAgICAgICBpZiAoIXRoaXMubG9hZGVkICYmIHRoaXMuY29tcG9uZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF0dGFjaENvbXBvbmVudCh0aGlzLmRlbGVnYXRlLCB0aGlzLmVsLCB0aGlzLmNvbXBvbmVudCwgWydpb24tcGFnZSddKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyB0YWIsIGFjdGl2ZSwgY29tcG9uZW50IH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gKGgoSG9zdCwgeyBrZXk6ICcyMTA3ZWNlMmYxZWJkZjc0OGJhYzhhZGI3OGE5YWQ2N2U3ZmM5MDU3Jywgcm9sZTogXCJ0YWJwYW5lbFwiLCBcImFyaWEtaGlkZGVuXCI6ICFhY3RpdmUgPyAndHJ1ZScgOiBudWxsLCBcImFyaWEtbGFiZWxsZWRieVwiOiBgdGFiLWJ1dHRvbi0ke3RhYn1gLCBjbGFzczoge1xuICAgICAgICAgICAgICAgICdpb24tcGFnZSc6IGNvbXBvbmVudCA9PT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICd0YWItaGlkZGVuJzogIWFjdGl2ZSxcbiAgICAgICAgICAgIH0gfSwgaChcInNsb3RcIiwgeyBrZXk6ICdiNGExYmMxYWE3OWY2YjgyYjhmNzdiNTQ0YmNiNzRlNjUyMjliNTQxJyB9KSkpO1xuICAgIH1cbiAgICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG4gICAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICAgICAgXCJhY3RpdmVcIjogW1wiY2hhbmdlQWN0aXZlXCJdXG4gICAgfTsgfVxufTtcblRhYi5zdHlsZSA9IElvblRhYlN0eWxlMDtcblxuY29uc3QgdGFic0NzcyA9IFwiOmhvc3R7bGVmdDowO3JpZ2h0OjA7dG9wOjA7Ym90dG9tOjA7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cG9zaXRpb246YWJzb2x1dGU7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtjb250YWluOmxheW91dCBzaXplIHN0eWxlO3otaW5kZXg6MH0udGFicy1pbm5lcntwb3NpdGlvbjpyZWxhdGl2ZTstbXMtZmxleDoxO2ZsZXg6MTtjb250YWluOmxheW91dCBzaXplIHN0eWxlfVwiO1xuY29uc3QgSW9uVGFic1N0eWxlMCA9IHRhYnNDc3M7XG5cbmNvbnN0IFRhYnMgPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgICAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgICAgICB0aGlzLmlvbk5hdldpbGxMb2FkID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25OYXZXaWxsTG9hZFwiLCA3KTtcbiAgICAgICAgdGhpcy5pb25UYWJzV2lsbENoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uVGFic1dpbGxDaGFuZ2VcIiwgMyk7XG4gICAgICAgIHRoaXMuaW9uVGFic0RpZENoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uVGFic0RpZENoYW5nZVwiLCAzKTtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25UYWJDbGlja2VkID0gKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGhyZWYsIHRhYiB9ID0gZXYuZGV0YWlsO1xuICAgICAgICAgICAgaWYgKHRoaXMudXNlUm91dGVyICYmIGhyZWYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvdXRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1yb3V0ZXInKTtcbiAgICAgICAgICAgICAgICBpZiAocm91dGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKGhyZWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0KHRhYik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRUYWIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudXNlUm91dGVyID0gZmFsc2U7XG4gICAgfVxuICAgIGFzeW5jIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgICAgICBpZiAoIXRoaXMudXNlUm91dGVyKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEphdmFTY3JpcHQgYW5kIFN0ZW5jaWxKUyB1c2UgYGlvbi1yb3V0ZXJgLCB3aGlsZVxuICAgICAgICAgICAgICogdGhlIG90aGVyIGZyYW1ld29ya3MgdXNlIGBpb24tcm91dGVyLW91dGxldGAuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogSWYgZWl0aGVyIGNvbXBvbmVudCBpcyBwcmVzZW50IHRoZW4gdGFicyB3aWxsIG5vdCB1c2VcbiAgICAgICAgICAgICAqIGEgYmFzaWMgdGFiLWJhc2VkIG5hdmlnYXRpb24uIEl0IHdpbGwgdXNlIHRoZSBoaXN0b3J5XG4gICAgICAgICAgICAgKiBzdGFjayBvciBVUkwgdXBkYXRlcyBhc3NvY2lhdGVkIHdpdGggdGhlIHJvdXRlci5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy51c2VSb3V0ZXIgPVxuICAgICAgICAgICAgICAgICghIXRoaXMuZWwucXVlcnlTZWxlY3RvcignaW9uLXJvdXRlci1vdXRsZXQnKSB8fCAhIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1yb3V0ZXInKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuZWwuY2xvc2VzdCgnW25vLXJvdXRlcl0nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudXNlUm91dGVyKSB7XG4gICAgICAgICAgICBjb25zdCB0YWJzID0gdGhpcy50YWJzO1xuICAgICAgICAgICAgaWYgKHRhYnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2VsZWN0KHRhYnNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW9uTmF2V2lsbExvYWQuZW1pdCgpO1xuICAgIH1cbiAgICBjb21wb25lbnRXaWxsUmVuZGVyKCkge1xuICAgICAgICBjb25zdCB0YWJCYXIgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi10YWItYmFyJyk7XG4gICAgICAgIGlmICh0YWJCYXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhYiA9IHRoaXMuc2VsZWN0ZWRUYWIgPyB0aGlzLnNlbGVjdGVkVGFiLnRhYiA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRhYkJhci5zZWxlY3RlZFRhYiA9IHRhYjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWxlY3QgYSB0YWIgYnkgdGhlIHZhbHVlIG9mIGl0cyBgdGFiYCBwcm9wZXJ0eSBvciBhbiBlbGVtZW50IHJlZmVyZW5jZS4gVGhpcyBtZXRob2QgaXMgb25seSBhdmFpbGFibGUgZm9yIHZhbmlsbGEgSmF2YVNjcmlwdCBwcm9qZWN0cy4gVGhlIEFuZ3VsYXIsIFJlYWN0LCBhbmQgVnVlIGltcGxlbWVudGF0aW9ucyBvZiB0YWJzIGFyZSBjb3VwbGVkIHRvIGVhY2ggZnJhbWV3b3JrJ3Mgcm91dGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRhYiBUaGUgdGFiIGluc3RhbmNlIHRvIHNlbGVjdC4gSWYgcGFzc2VkIGEgc3RyaW5nLCBpdCBzaG91bGQgYmUgdGhlIHZhbHVlIG9mIHRoZSB0YWIncyBgdGFiYCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBhc3luYyBzZWxlY3QodGFiKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkVGFiID0gZ2V0VGFiKHRoaXMudGFicywgdGFiKTtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZFN3aXRjaChzZWxlY3RlZFRhYikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLnNldEFjdGl2ZShzZWxlY3RlZFRhYik7XG4gICAgICAgIGF3YWl0IHRoaXMubm90aWZ5Um91dGVyKCk7XG4gICAgICAgIHRoaXMudGFiU3dpdGNoKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBzcGVjaWZpYyB0YWIgYnkgdGhlIHZhbHVlIG9mIGl0cyBgdGFiYCBwcm9wZXJ0eSBvciBhbiBlbGVtZW50IHJlZmVyZW5jZS4gVGhpcyBtZXRob2QgaXMgb25seSBhdmFpbGFibGUgZm9yIHZhbmlsbGEgSmF2YVNjcmlwdCBwcm9qZWN0cy4gVGhlIEFuZ3VsYXIsIFJlYWN0LCBhbmQgVnVlIGltcGxlbWVudGF0aW9ucyBvZiB0YWJzIGFyZSBjb3VwbGVkIHRvIGVhY2ggZnJhbWV3b3JrJ3Mgcm91dGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRhYiBUaGUgdGFiIGluc3RhbmNlIHRvIHNlbGVjdC4gSWYgcGFzc2VkIGEgc3RyaW5nLCBpdCBzaG91bGQgYmUgdGhlIHZhbHVlIG9mIHRoZSB0YWIncyBgdGFiYCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBhc3luYyBnZXRUYWIodGFiKSB7XG4gICAgICAgIHJldHVybiBnZXRUYWIodGhpcy50YWJzLCB0YWIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCB0YWIuIFRoaXMgbWV0aG9kIGlzIG9ubHkgYXZhaWxhYmxlIGZvciB2YW5pbGxhIEphdmFTY3JpcHQgcHJvamVjdHMuIFRoZSBBbmd1bGFyLCBSZWFjdCwgYW5kIFZ1ZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGFicyBhcmUgY291cGxlZCB0byBlYWNoIGZyYW1ld29yaydzIHJvdXRlci5cbiAgICAgKi9cbiAgICBnZXRTZWxlY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnNlbGVjdGVkVGFiID8gdGhpcy5zZWxlY3RlZFRhYi50YWIgOiB1bmRlZmluZWQpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYXN5bmMgc2V0Um91dGVJZChpZCkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZFRhYiA9IGdldFRhYih0aGlzLnRhYnMsIGlkKTtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZFN3aXRjaChzZWxlY3RlZFRhYikpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZWQ6IGZhbHNlLCBlbGVtZW50OiB0aGlzLnNlbGVjdGVkVGFiIH07XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5zZXRBY3RpdmUoc2VsZWN0ZWRUYWIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhbmdlZDogdHJ1ZSxcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuc2VsZWN0ZWRUYWIsXG4gICAgICAgICAgICBtYXJrVmlzaWJsZTogKCkgPT4gdGhpcy50YWJTd2l0Y2goKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGFzeW5jIGdldFJvdXRlSWQoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgdGFiSWQgPSAoX2EgPSB0aGlzLnNlbGVjdGVkVGFiKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGFiO1xuICAgICAgICByZXR1cm4gdGFiSWQgIT09IHVuZGVmaW5lZCA/IHsgaWQ6IHRhYklkLCBlbGVtZW50OiB0aGlzLnNlbGVjdGVkVGFiIH0gOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHNldEFjdGl2ZShzZWxlY3RlZFRhYikge1xuICAgICAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ3RyYW5zaXRpb25pbmcgYWxyZWFkeSBoYXBwZW5pbmcnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmxlYXZpbmdUYWIgPSB0aGlzLnNlbGVjdGVkVGFiO1xuICAgICAgICB0aGlzLnNlbGVjdGVkVGFiID0gc2VsZWN0ZWRUYWI7XG4gICAgICAgIHRoaXMuaW9uVGFic1dpbGxDaGFuZ2UuZW1pdCh7IHRhYjogc2VsZWN0ZWRUYWIudGFiIH0pO1xuICAgICAgICBzZWxlY3RlZFRhYi5hY3RpdmUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHRhYlN3aXRjaCgpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRUYWIgPSB0aGlzLnNlbGVjdGVkVGFiO1xuICAgICAgICBjb25zdCBsZWF2aW5nVGFiID0gdGhpcy5sZWF2aW5nVGFiO1xuICAgICAgICB0aGlzLmxlYXZpbmdUYWIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgICBpZiAoIXNlbGVjdGVkVGFiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlYXZpbmdUYWIgIT09IHNlbGVjdGVkVGFiKSB7XG4gICAgICAgICAgICBpZiAobGVhdmluZ1RhYikge1xuICAgICAgICAgICAgICAgIGxlYXZpbmdUYWIuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmlvblRhYnNEaWRDaGFuZ2UuZW1pdCh7IHRhYjogc2VsZWN0ZWRUYWIudGFiIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5vdGlmeVJvdXRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMudXNlUm91dGVyKSB7XG4gICAgICAgICAgICBjb25zdCByb3V0ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpb24tcm91dGVyJyk7XG4gICAgICAgICAgICBpZiAocm91dGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvdXRlci5uYXZDaGFuZ2VkKCdmb3J3YXJkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmYWxzZSk7XG4gICAgfVxuICAgIHNob3VsZFN3aXRjaChzZWxlY3RlZFRhYikge1xuICAgICAgICBjb25zdCBsZWF2aW5nVGFiID0gdGhpcy5zZWxlY3RlZFRhYjtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkVGFiICE9PSB1bmRlZmluZWQgJiYgc2VsZWN0ZWRUYWIgIT09IGxlYXZpbmdUYWIgJiYgIXRoaXMudHJhbnNpdGlvbmluZztcbiAgICB9XG4gICAgZ2V0IHRhYnMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbCgnaW9uLXRhYicpKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKGgoSG9zdCwgeyBrZXk6ICdkMzU3YzQ2MDdjZmM4OWZiODg0MDRmZTEyZWE3ZWY1YjM5N2ZlNmJmJywgb25Jb25UYWJCdXR0b25DbGljazogdGhpcy5vblRhYkNsaWNrZWQgfSwgaChcInNsb3RcIiwgeyBrZXk6ICcxODY2MTg5NjU4OWE0YWIzYzc0MTY0ZjQ0OGI5MjhhYmVjOWI0ZGIwJywgbmFtZTogXCJ0b3BcIiB9KSwgaChcImRpdlwiLCB7IGtleTogJzNiZjMwZWEyNTQwYTE5NmU4NjhhNzhhODYxODI0YjRiNWQ5MzNhZmQnLCBjbGFzczogXCJ0YWJzLWlubmVyXCIgfSwgaChcInNsb3RcIiwgeyBrZXk6ICc3Y2ZjMTU0ZDRkNmMxNjQyMTg4YWI2NTA4YTZiZTcyYzgyMzQ1ODVlJyB9KSksIGgoXCJzbG90XCIsIHsga2V5OiAnODA1NzY3OWM5NTkxOTVjYmRmYWUxNTZiOGFlMGNiZmQ5NzhjNTAzNycsIG5hbWU6IFwiYm90dG9tXCIgfSkpKTtcbiAgICB9XG4gICAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxufTtcbmNvbnN0IGdldFRhYiA9ICh0YWJzLCB0YWIpID0+IHtcbiAgICBjb25zdCB0YWJFbCA9IHR5cGVvZiB0YWIgPT09ICdzdHJpbmcnID8gdGFicy5maW5kKCh0KSA9PiB0LnRhYiA9PT0gdGFiKSA6IHRhYjtcbiAgICBpZiAoIXRhYkVsKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYHRhYiB3aXRoIGlkOiBcIiR7dGFiRWx9XCIgZG9lcyBub3QgZXhpc3RgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhYkVsO1xufTtcblRhYnMuc3R5bGUgPSBJb25UYWJzU3R5bGUwO1xuXG5leHBvcnQgeyBUYWIgYXMgaW9uX3RhYiwgVGFicyBhcyBpb25fdGFicyB9O1xuIl0sIm5hbWVzIjpbInIiLCJyZWdpc3Rlckluc3RhbmNlIiwiaCIsImUiLCJIb3N0IiwiZiIsImdldEVsZW1lbnQiLCJjIiwiY3JlYXRlRXZlbnQiLCJhIiwiYXR0YWNoQ29tcG9uZW50IiwidGFiQ3NzIiwiSW9uVGFiU3R5bGUwIiwiVGFiIiwiY29uc3RydWN0b3IiLCJob3N0UmVmIiwibG9hZGVkIiwiYWN0aXZlIiwiZGVsZWdhdGUiLCJ1bmRlZmluZWQiLCJ0YWIiLCJjb21wb25lbnQiLCJjb21wb25lbnRXaWxsTG9hZCIsIl90aGlzIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJzZXRBY3RpdmUiLCJfdGhpczIiLCJwcmVwYXJlTGF6eUxvYWRlZCIsImNoYW5nZUFjdGl2ZSIsImlzQWN0aXZlIiwiZWwiLCJjb25zb2xlIiwiZXJyb3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlbmRlciIsImtleSIsInJvbGUiLCJjbGFzcyIsIndhdGNoZXJzIiwic3R5bGUiLCJ0YWJzQ3NzIiwiSW9uVGFic1N0eWxlMCIsIlRhYnMiLCJpb25OYXZXaWxsTG9hZCIsImlvblRhYnNXaWxsQ2hhbmdlIiwiaW9uVGFic0RpZENoYW5nZSIsInRyYW5zaXRpb25pbmciLCJvblRhYkNsaWNrZWQiLCJldiIsImhyZWYiLCJkZXRhaWwiLCJ1c2VSb3V0ZXIiLCJyb3V0ZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwdXNoIiwic2VsZWN0Iiwic2VsZWN0ZWRUYWIiLCJfdGhpczMiLCJjbG9zZXN0IiwidGFicyIsImxlbmd0aCIsImVtaXQiLCJjb21wb25lbnRXaWxsUmVuZGVyIiwidGFiQmFyIiwiX3RoaXM0IiwiZ2V0VGFiIiwic2hvdWxkU3dpdGNoIiwibm90aWZ5Um91dGVyIiwidGFiU3dpdGNoIiwiX3RoaXM1IiwiZ2V0U2VsZWN0ZWQiLCJzZXRSb3V0ZUlkIiwiaWQiLCJfdGhpczYiLCJjaGFuZ2VkIiwiZWxlbWVudCIsIm1hcmtWaXNpYmxlIiwiZ2V0Um91dGVJZCIsIl90aGlzNyIsIl9hIiwidGFiSWQiLCJyZWplY3QiLCJsZWF2aW5nVGFiIiwibmF2Q2hhbmdlZCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJvbklvblRhYkJ1dHRvbkNsaWNrIiwibmFtZSIsInRhYkVsIiwiZmluZCIsInQiLCJpb25fdGFiIiwiaW9uX3RhYnMiXSwic291cmNlUm9vdCI6IndlYnBhY2s6Ly8vIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzBdfQ==