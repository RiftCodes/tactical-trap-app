"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-tab_2_entry_js"],{

/***/ 5427:
/*!**************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-tab_2.entry.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ion_tab: () => (/* binding */ Tab),
/* harmony export */   ion_tabs: () => (/* binding */ Tabs)
/* harmony export */ });
/* harmony import */ var C_Users_Faizan_Desktop_Desktop_Projects_tactical_trap_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 9204);
/* harmony import */ var _index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-B_U9CtaY.js */ 4917);
/* harmony import */ var _framework_delegate_DxcnWic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./framework-delegate-DxcnWic_.js */ 8104);
/* harmony import */ var _helpers_1O4D2b7y_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./helpers-1O4D2b7y.js */ 450);

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */



const tabCss = ":host(.tab-hidden){display:none !important}";
const Tab = class {
  constructor(hostRef) {
    (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.loaded = false;
    /** @internal */
    this.active = false;
  }
  componentWillLoad() {
    var _this = this;
    return (0,C_Users_Faizan_Desktop_Desktop_Projects_tactical_trap_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this.active) {
        yield _this.setActive();
      }
    })();
  }
  /** Set the active component for the tab */
  setActive() {
    var _this2 = this;
    return (0,C_Users_Faizan_Desktop_Desktop_Projects_tactical_trap_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this2.prepareLazyLoaded();
      _this2.active = true;
    })();
  }
  changeActive(isActive) {
    if (isActive) {
      this.prepareLazyLoaded();
    }
  }
  prepareLazyLoaded() {
    if (!this.loaded && this.component != null) {
      this.loaded = true;
      try {
        return (0,_framework_delegate_DxcnWic_js__WEBPACK_IMPORTED_MODULE_2__.a)(this.delegate, this.el, this.component, ['ion-page']);
      } catch (e) {
        (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.o)('[ion-tab] - Exception in prepareLazyLoaded:', e);
      }
    }
    return Promise.resolve(undefined);
  }
  render() {
    const {
      tab,
      active,
      component
    } = this;
    return (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.j, {
      key: 'dbad8fe9f1566277d14647626308eaf1601ab01f',
      role: "tabpanel",
      "aria-hidden": !active ? 'true' : null,
      "aria-labelledby": `tab-button-${tab}`,
      class: {
        'ion-page': component === undefined,
        'tab-hidden': !active
      }
    }, (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      key: '3be64f4e7161f6769aaf8e4dcb5293fcaa09af45'
    }));
  }
  get el() {
    return (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.k)(this);
  }
  static get watchers() {
    return {
      "active": ["changeActive"]
    };
  }
};
Tab.style = tabCss;
const tabsCss = ":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}";
const Tabs = class {
  constructor(hostRef) {
    (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionNavWillLoad = (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "ionNavWillLoad", 7);
    this.ionTabsWillChange = (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "ionTabsWillChange", 3);
    this.ionTabsDidChange = (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "ionTabsDidChange", 3);
    this.transitioning = false;
    /** @internal */
    this.useRouter = false;
    this.onTabClicked = ev => {
      const {
        href,
        tab
      } = ev.detail;
      if (this.useRouter && href !== undefined) {
        const router = document.querySelector('ion-router');
        if (router) {
          router.push(href);
        }
      } else {
        this.select(tab);
      }
    };
  }
  componentWillLoad() {
    var _this3 = this;
    return (0,C_Users_Faizan_Desktop_Desktop_Projects_tactical_trap_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!_this3.useRouter) {
        /**
         * JavaScript and StencilJS use `ion-router`, while
         * the other frameworks use `ion-router-outlet`.
         *
         * If either component is present then tabs will not use
         * a basic tab-based navigation. It will use the history
         * stack or URL updates associated with the router.
         */
        _this3.useRouter = (!!_this3.el.querySelector('ion-router-outlet') || !!document.querySelector('ion-router')) && !_this3.el.closest('[no-router]');
      }
      if (!_this3.useRouter) {
        const tabs = _this3.tabs;
        if (tabs.length > 0) {
          yield _this3.select(tabs[0]);
        }
      }
      _this3.ionNavWillLoad.emit();
    })();
  }
  componentWillRender() {
    const tabBar = this.el.querySelector('ion-tab-bar');
    if (tabBar) {
      const tab = this.selectedTab ? this.selectedTab.tab : undefined;
      tabBar.selectedTab = tab;
    }
  }
  /**
   * Select a tab by the value of its `tab` property or an element reference. This method is only available for vanilla JavaScript projects. The Angular, React, and Vue implementations of tabs are coupled to each framework's router.
   *
   * @param tab The tab instance to select. If passed a string, it should be the value of the tab's `tab` property.
   */
  select(tab) {
    var _this4 = this;
    return (0,C_Users_Faizan_Desktop_Desktop_Projects_tactical_trap_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const selectedTab = getTab(_this4.tabs, tab);
      if (!_this4.shouldSwitch(selectedTab)) {
        return false;
      }
      yield _this4.setActive(selectedTab);
      yield _this4.notifyRouter();
      _this4.tabSwitch();
      return true;
    })();
  }
  /**
   * Get a specific tab by the value of its `tab` property or an element reference. This method is only available for vanilla JavaScript projects. The Angular, React, and Vue implementations of tabs are coupled to each framework's router.
   *
   * @param tab The tab instance to select. If passed a string, it should be the value of the tab's `tab` property.
   */
  getTab(tab) {
    var _this5 = this;
    return (0,C_Users_Faizan_Desktop_Desktop_Projects_tactical_trap_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return getTab(_this5.tabs, tab);
    })();
  }
  /**
   * Get the currently selected tab. This method is only available for vanilla JavaScript projects. The Angular, React, and Vue implementations of tabs are coupled to each framework's router.
   */
  getSelected() {
    return Promise.resolve(this.selectedTab ? this.selectedTab.tab : undefined);
  }
  /** @internal */
  setRouteId(id) {
    var _this6 = this;
    return (0,C_Users_Faizan_Desktop_Desktop_Projects_tactical_trap_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const selectedTab = getTab(_this6.tabs, id);
      if (!_this6.shouldSwitch(selectedTab)) {
        return {
          changed: false,
          element: _this6.selectedTab
        };
      }
      yield _this6.setActive(selectedTab);
      return {
        changed: true,
        element: _this6.selectedTab,
        markVisible: () => _this6.tabSwitch()
      };
    })();
  }
  /** @internal */
  getRouteId() {
    var _this7 = this;
    return (0,C_Users_Faizan_Desktop_Desktop_Projects_tactical_trap_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      var _a;
      const tabId = (_a = _this7.selectedTab) === null || _a === void 0 ? void 0 : _a.tab;
      return tabId !== undefined ? {
        id: tabId,
        element: _this7.selectedTab
      } : undefined;
    })();
  }
  setActive(selectedTab) {
    if (this.transitioning) {
      return Promise.reject('transitioning already happening');
    }
    this.transitioning = true;
    this.leavingTab = this.selectedTab;
    this.selectedTab = selectedTab;
    this.ionTabsWillChange.emit({
      tab: selectedTab.tab
    });
    selectedTab.active = true;
    return Promise.resolve();
  }
  tabSwitch() {
    const selectedTab = this.selectedTab;
    const leavingTab = this.leavingTab;
    this.leavingTab = undefined;
    this.transitioning = false;
    if (!selectedTab) {
      return;
    }
    if (leavingTab !== selectedTab) {
      if (leavingTab) {
        leavingTab.active = false;
      }
      this.ionTabsDidChange.emit({
        tab: selectedTab.tab
      });
    }
  }
  notifyRouter() {
    if (this.useRouter) {
      const router = document.querySelector('ion-router');
      if (router) {
        return router.navChanged('forward');
      }
    }
    return Promise.resolve(false);
  }
  shouldSwitch(selectedTab) {
    const leavingTab = this.selectedTab;
    return selectedTab !== undefined && selectedTab !== leavingTab && !this.transitioning;
  }
  get tabs() {
    return Array.from(this.el.querySelectorAll('ion-tab'));
  }
  render() {
    return (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.j, {
      key: '73ecd3294ca6c78ce6d8b6a7e5b6ccb11d84ada4',
      onIonTabButtonClick: this.onTabClicked
    }, (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      key: '09661b26f07a3069a58e76ea4dceb9a6acbf365d',
      name: "top"
    }), (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: 'db50d59fad8f9b11873b695fc548f3cfe4aceb6a',
      class: "tabs-inner"
    }, (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      key: '02694dde2d8381f48fc06dd9e79798c4bd540ccd'
    })), (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      key: '92c4661a5f3fa1c08c964fab7c422c1a2a03d3d8',
      name: "bottom"
    }));
  }
  get el() {
    return (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.k)(this);
  }
};
const getTab = (tabs, tab) => {
  const tabEl = typeof tab === 'string' ? tabs.find(t => t.tab === tab) : tab;
  if (!tabEl) {
    (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.o)(`[ion-tabs] - Tab with id: "${tabEl}" does not exist`);
  }
  return tabEl;
};
Tabs.style = tabsCss;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXRhYl8yX2VudHJ5X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDaUk7QUFDekQ7QUFDekM7QUFFL0IsTUFBTWEsTUFBTSxHQUFHLDZDQUE2QztBQUU1RCxNQUFNQyxHQUFHLEdBQUcsTUFBTTtFQUNkQyxXQUFXQSxDQUFDQyxPQUFPLEVBQUU7SUFDakJmLHFEQUFnQixDQUFDLElBQUksRUFBRWUsT0FBTyxDQUFDO0lBQy9CLElBQUksQ0FBQ0MsTUFBTSxHQUFHLEtBQUs7SUFDbkI7SUFDQSxJQUFJLENBQUNDLE1BQU0sR0FBRyxLQUFLO0VBQ3ZCO0VBQ01DLGlCQUFpQkEsQ0FBQSxFQUFHO0lBQUEsSUFBQUMsS0FBQTtJQUFBLE9BQUFDLGdLQUFBO01BQ3RCLElBQUlELEtBQUksQ0FBQ0YsTUFBTSxFQUFFO1FBQ2IsTUFBTUUsS0FBSSxDQUFDRSxTQUFTLENBQUMsQ0FBQztNQUMxQjtJQUFDO0VBQ0w7RUFDQTtFQUNNQSxTQUFTQSxDQUFBLEVBQUc7SUFBQSxJQUFBQyxNQUFBO0lBQUEsT0FBQUYsZ0tBQUE7TUFDZCxNQUFNRSxNQUFJLENBQUNDLGlCQUFpQixDQUFDLENBQUM7TUFDOUJELE1BQUksQ0FBQ0wsTUFBTSxHQUFHLElBQUk7SUFBQztFQUN2QjtFQUNBTyxZQUFZQSxDQUFDQyxRQUFRLEVBQUU7SUFDbkIsSUFBSUEsUUFBUSxFQUFFO01BQ1YsSUFBSSxDQUFDRixpQkFBaUIsQ0FBQyxDQUFDO0lBQzVCO0VBQ0o7RUFDQUEsaUJBQWlCQSxDQUFBLEVBQUc7SUFDaEIsSUFBSSxDQUFDLElBQUksQ0FBQ1AsTUFBTSxJQUFJLElBQUksQ0FBQ1UsU0FBUyxJQUFJLElBQUksRUFBRTtNQUN4QyxJQUFJLENBQUNWLE1BQU0sR0FBRyxJQUFJO01BQ2xCLElBQUk7UUFDQSxPQUFPTCxpRUFBZSxDQUFDLElBQUksQ0FBQ2dCLFFBQVEsRUFBRSxJ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LENBQUMsRUFBRWxDLHFEQUFDLENBQUMsTUFBTSxFQUFFO01BQUVnQyxHQUFHLEVBQUU7SUFBMkMsQ0FBQyxDQUFDLENBQUMsRUFBRWhDLHFEQUFDLENBQUMsTUFBTSxFQUFFO01BQUVnQyxHQUFHLEVBQUUsMENBQTBDO01BQUVxRCxJQUFJLEVBQUU7SUFBUyxDQUFDLENBQUMsQ0FBQztFQUNqYTtFQUNBLElBQUk1RCxFQUFFQSxDQUFBLEVBQUc7SUFBRSxPQUFPckIscURBQVUsQ0FBQyxJQUFJLENBQUM7RUFBRTtBQUN4QyxDQUFDO0FBQ0QsTUFBTTBELE1BQU0sR0FBR0EsQ0FBQ1AsSUFBSSxFQUFFeEIsR0FBRyxLQUFLO0VBQzFCLE1BQU11RCxLQUFLLEdBQUcsT0FBT3ZELEdBQUcsS0FBSyxRQUFRLEdBQUd3QixJQUFJLENBQUNnQyxJQUFJLENBQUVDLENBQUMsSUFBS0EsQ0FBQyxDQUFDekQsR0FBRyxLQUFLQSxHQUFHLENBQUMsR0FBR0EsR0FBRztFQUM3RSxJQUFJLENBQUN1RCxLQUFLLEVBQUU7SUFDUnZGLHFEQUFhLENBQUMsOEJBQThCdUYsS0FBSyxrQkFBa0IsQ0FBQztFQUN4RTtFQUNBLE9BQU9BLEtBQUs7QUFDaEIsQ0FBQztBQUNEaEQsSUFBSSxDQUFDRixLQUFLLEdBQUdDLE9BQU8iLCJzb3VyY2VzIjpbIi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi10YWJfMi5lbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBvIGFzIHByaW50SW9uRXJyb3IsIGgsIGogYXMgSG9zdCwgayBhcyBnZXRFbGVtZW50LCBkIGFzIGNyZWF0ZUV2ZW50IH0gZnJvbSAnLi9pbmRleC1CX1U5Q3RhWS5qcyc7XG5pbXBvcnQgeyBhIGFzIGF0dGFjaENvbXBvbmVudCB9IGZyb20gJy4vZnJhbWV3b3JrLWRlbGVnYXRlLUR4Y25XaWNfLmpzJztcbmltcG9ydCAnLi9oZWxwZXJzLTFPNEQyYjd5LmpzJztcblxuY29uc3QgdGFiQ3NzID0gXCI6aG9zdCgudGFiLWhpZGRlbil7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9XCI7XG5cbmNvbnN0IFRhYiA9IGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgICAgIHRoaXMubG9hZGVkID0gZmFsc2U7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gICAgYXN5bmMgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXRBY3RpdmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogU2V0IHRoZSBhY3RpdmUgY29tcG9uZW50IGZvciB0aGUgdGFiICovXG4gICAgYXN5bmMgc2V0QWN0aXZlKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnByZXBhcmVMYXp5TG9hZGVkKCk7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG4gICAgY2hhbmdlQWN0aXZlKGlzQWN0aXZlKSB7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5wcmVwYXJlTGF6eUxvYWRlZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByZXBhcmVMYXp5TG9hZGVkKCkge1xuICAgICAgICBpZiAoIXRoaXMubG9hZGVkICYmIHRoaXMuY29tcG9uZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF0dGFjaENvbXBvbmVudCh0aGlzLmRlbGVnYXRlLCB0aGlzLmVsLCB0aGlzLmNvbXBvbmVudCwgWydpb24tcGFnZSddKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcHJpbnRJb25FcnJvcignW2lvbi10YWJdIC0gRXhjZXB0aW9uIGluIHByZXBhcmVMYXp5TG9hZGVkOicsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IHRhYiwgYWN0aXZlLCBjb21wb25lbnQgfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiAoaChIb3N0LCB7IGtleTogJ2RiYWQ4ZmU5ZjE1NjYyNzdkMTQ2NDc2MjYzMDhlYWYxNjAxYWIwMWYnLCByb2xlOiBcInRhYnBhbmVsXCIsIFwiYXJpYS1oaWRkZW5cIjogIWFjdGl2ZSA/ICd0cnVlJyA6IG51bGwsIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGB0YWItYnV0dG9uLSR7dGFifWAsIGNsYXNzOiB7XG4gICAgICAgICAgICAgICAgJ2lvbi1wYWdlJzogY29tcG9uZW50ID09PSB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgJ3RhYi1oaWRkZW4nOiAhYWN0aXZlLFxuICAgICAgICAgICAgfSB9LCBoKFwic2xvdFwiLCB7IGtleTogJzNiZTY0ZjRlNzE2MWY2NzY5YWFmOGU0ZGNiNTI5M2ZjYWEwOWFmNDUnIH0pKSk7XG4gICAgfVxuICAgIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbiAgICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgICAgICBcImFjdGl2ZVwiOiBbXCJjaGFuZ2VBY3RpdmVcIl1cbiAgICB9OyB9XG59O1xuVGFiLnN0eWxlID0gdGFiQ3NzO1xuXG5jb25zdCB0YWJzQ3NzID0gXCI6aG9zdHtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjphYnNvbHV0ZTstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2NvbnRhaW46bGF5b3V0IHNpemUgc3R5bGU7ei1pbmRleDowfS50YWJzLWlubmVye3Bvc2l0aW9uOnJlbGF0aXZlOy1tcy1mbGV4OjE7ZmxleDoxO2NvbnRhaW46bGF5b3V0IHNpemUgc3R5bGV9XCI7XG5cbmNvbnN0IFRhYnMgPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgICAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgICAgICB0aGlzLmlvbk5hdldpbGxMb2FkID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25OYXZXaWxsTG9hZFwiLCA3KTtcbiAgICAgICAgdGhpcy5pb25UYWJzV2lsbENoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uVGFic1dpbGxDaGFuZ2VcIiwgMyk7XG4gICAgICAgIHRoaXMuaW9uVGFic0RpZENoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uVGFic0RpZENoYW5nZVwiLCAzKTtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy51c2VSb3V0ZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vblRhYkNsaWNrZWQgPSAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaHJlZiwgdGFiIH0gPSBldi5kZXRhaWw7XG4gICAgICAgICAgICBpZiAodGhpcy51c2VSb3V0ZXIgJiYgaHJlZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW9uLXJvdXRlcicpO1xuICAgICAgICAgICAgICAgIGlmIChyb3V0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goaHJlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3QodGFiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgICAgIGlmICghdGhpcy51c2VSb3V0ZXIpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSmF2YVNjcmlwdCBhbmQgU3RlbmNpbEpTIHVzZSBgaW9uLXJvdXRlcmAsIHdoaWxlXG4gICAgICAgICAgICAgKiB0aGUgb3RoZXIgZnJhbWV3b3JrcyB1c2UgYGlvbi1yb3V0ZXItb3V0bGV0YC5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBJZiBlaXRoZXIgY29tcG9uZW50IGlzIHByZXNlbnQgdGhlbiB0YWJzIHdpbGwgbm90IHVzZVxuICAgICAgICAgICAgICogYSBiYXNpYyB0YWItYmFzZWQgbmF2aWdhdGlvbi4gSXQgd2lsbCB1c2UgdGhlIGhpc3RvcnlcbiAgICAgICAgICAgICAqIHN0YWNrIG9yIFVSTCB1cGRhdGVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcm91dGVyLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnVzZVJvdXRlciA9XG4gICAgICAgICAgICAgICAgKCEhdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdpb24tcm91dGVyLW91dGxldCcpIHx8ICEhZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW9uLXJvdXRlcicpKSAmJlxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5lbC5jbG9zZXN0KCdbbm8tcm91dGVyXScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy51c2VSb3V0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhYnMgPSB0aGlzLnRhYnM7XG4gICAgICAgICAgICBpZiAodGFicy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZWxlY3QodGFic1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pb25OYXZXaWxsTG9hZC5lbWl0KCk7XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxSZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHRhYkJhciA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignaW9uLXRhYi1iYXInKTtcbiAgICAgICAgaWYgKHRhYkJhcikge1xuICAgICAgICAgICAgY29uc3QgdGFiID0gdGhpcy5zZWxlY3RlZFRhYiA/IHRoaXMuc2VsZWN0ZWRUYWIudGFiIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGFiQmFyLnNlbGVjdGVkVGFiID0gdGFiO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbGVjdCBhIHRhYiBieSB0aGUgdmFsdWUgb2YgaXRzIGB0YWJgIHByb3BlcnR5IG9yIGFuIGVsZW1lbnQgcmVmZXJlbmNlLiBUaGlzIG1ldGhvZCBpcyBvbmx5IGF2YWlsYWJsZSBmb3IgdmFuaWxsYSBKYXZhU2NyaXB0IHByb2plY3RzLiBUaGUgQW5ndWxhciwgUmVhY3QsIGFuZCBWdWUgaW1wbGVtZW50YXRpb25zIG9mIHRhYnMgYXJlIGNvdXBsZWQgdG8gZWFjaCBmcmFtZXdvcmsncyByb3V0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFiIFRoZSB0YWIgaW5zdGFuY2UgdG8gc2VsZWN0LiBJZiBwYXNzZWQgYSBzdHJpbmcsIGl0IHNob3VsZCBiZSB0aGUgdmFsdWUgb2YgdGhlIHRhYidzIGB0YWJgIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGFzeW5jIHNlbGVjdCh0YWIpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRUYWIgPSBnZXRUYWIodGhpcy50YWJzLCB0YWIpO1xuICAgICAgICBpZiAoIXRoaXMuc2hvdWxkU3dpdGNoKHNlbGVjdGVkVGFiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMuc2V0QWN0aXZlKHNlbGVjdGVkVGFiKTtcbiAgICAgICAgYXdhaXQgdGhpcy5ub3RpZnlSb3V0ZXIoKTtcbiAgICAgICAgdGhpcy50YWJTd2l0Y2goKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIHNwZWNpZmljIHRhYiBieSB0aGUgdmFsdWUgb2YgaXRzIGB0YWJgIHByb3BlcnR5IG9yIGFuIGVsZW1lbnQgcmVmZXJlbmNlLiBUaGlzIG1ldGhvZCBpcyBvbmx5IGF2YWlsYWJsZSBmb3IgdmFuaWxsYSBKYXZhU2NyaXB0IHByb2plY3RzLiBUaGUgQW5ndWxhciwgUmVhY3QsIGFuZCBWdWUgaW1wbGVtZW50YXRpb25zIG9mIHRhYnMgYXJlIGNvdXBsZWQgdG8gZWFjaCBmcmFtZXdvcmsncyByb3V0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFiIFRoZSB0YWIgaW5zdGFuY2UgdG8gc2VsZWN0LiBJZiBwYXNzZWQgYSBzdHJpbmcsIGl0IHNob3VsZCBiZSB0aGUgdmFsdWUgb2YgdGhlIHRhYidzIGB0YWJgIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGFzeW5jIGdldFRhYih0YWIpIHtcbiAgICAgICAgcmV0dXJuIGdldFRhYih0aGlzLnRhYnMsIHRhYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHRhYi4gVGhpcyBtZXRob2QgaXMgb25seSBhdmFpbGFibGUgZm9yIHZhbmlsbGEgSmF2YVNjcmlwdCBwcm9qZWN0cy4gVGhlIEFuZ3VsYXIsIFJlYWN0LCBhbmQgVnVlIGltcGxlbWVudGF0aW9ucyBvZiB0YWJzIGFyZSBjb3VwbGVkIHRvIGVhY2ggZnJhbWV3b3JrJ3Mgcm91dGVyLlxuICAgICAqL1xuICAgIGdldFNlbGVjdGVkKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuc2VsZWN0ZWRUYWIgPyB0aGlzLnNlbGVjdGVkVGFiLnRhYiA6IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBhc3luYyBzZXRSb3V0ZUlkKGlkKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkVGFiID0gZ2V0VGFiKHRoaXMudGFicywgaWQpO1xuICAgICAgICBpZiAoIXRoaXMuc2hvdWxkU3dpdGNoKHNlbGVjdGVkVGFiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlZDogZmFsc2UsIGVsZW1lbnQ6IHRoaXMuc2VsZWN0ZWRUYWIgfTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLnNldEFjdGl2ZShzZWxlY3RlZFRhYik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjaGFuZ2VkOiB0cnVlLFxuICAgICAgICAgICAgZWxlbWVudDogdGhpcy5zZWxlY3RlZFRhYixcbiAgICAgICAgICAgIG1hcmtWaXNpYmxlOiAoKSA9PiB0aGlzLnRhYlN3aXRjaCgpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYXN5bmMgZ2V0Um91dGVJZCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCB0YWJJZCA9IChfYSA9IHRoaXMuc2VsZWN0ZWRUYWIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50YWI7XG4gICAgICAgIHJldHVybiB0YWJJZCAhPT0gdW5kZWZpbmVkID8geyBpZDogdGFiSWQsIGVsZW1lbnQ6IHRoaXMuc2VsZWN0ZWRUYWIgfSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgc2V0QWN0aXZlKHNlbGVjdGVkVGFiKSB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgndHJhbnNpdGlvbmluZyBhbHJlYWR5IGhhcHBlbmluZycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IHRydWU7XG4gICAgICAgIHRoaXMubGVhdmluZ1RhYiA9IHRoaXMuc2VsZWN0ZWRUYWI7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRUYWIgPSBzZWxlY3RlZFRhYjtcbiAgICAgICAgdGhpcy5pb25UYWJzV2lsbENoYW5nZS5lbWl0KHsgdGFiOiBzZWxlY3RlZFRhYi50YWIgfSk7XG4gICAgICAgIHNlbGVjdGVkVGFiLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgdGFiU3dpdGNoKCkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZFRhYiA9IHRoaXMuc2VsZWN0ZWRUYWI7XG4gICAgICAgIGNvbnN0IGxlYXZpbmdUYWIgPSB0aGlzLmxlYXZpbmdUYWI7XG4gICAgICAgIHRoaXMubGVhdmluZ1RhYiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgICAgIGlmICghc2VsZWN0ZWRUYWIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVhdmluZ1RhYiAhPT0gc2VsZWN0ZWRUYWIpIHtcbiAgICAgICAgICAgIGlmIChsZWF2aW5nVGFiKSB7XG4gICAgICAgICAgICAgICAgbGVhdmluZ1RhYi5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaW9uVGFic0RpZENoYW5nZS5lbWl0KHsgdGFiOiBzZWxlY3RlZFRhYi50YWIgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbm90aWZ5Um91dGVyKCkge1xuICAgICAgICBpZiAodGhpcy51c2VSb3V0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1yb3V0ZXInKTtcbiAgICAgICAgICAgIGlmIChyb3V0ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcm91dGVyLm5hdkNoYW5nZWQoJ2ZvcndhcmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcbiAgICB9XG4gICAgc2hvdWxkU3dpdGNoKHNlbGVjdGVkVGFiKSB7XG4gICAgICAgIGNvbnN0IGxlYXZpbmdUYWIgPSB0aGlzLnNlbGVjdGVkVGFiO1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWRUYWIgIT09IHVuZGVmaW5lZCAmJiBzZWxlY3RlZFRhYiAhPT0gbGVhdmluZ1RhYiAmJiAhdGhpcy50cmFuc2l0aW9uaW5nO1xuICAgIH1cbiAgICBnZXQgdGFicygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCdpb24tdGFiJykpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoaChIb3N0LCB7IGtleTogJzczZWNkMzI5NGNhNmM3OGNlNmQ4YjZhN2U1YjZjY2IxMWQ4NGFkYTQnLCBvbklvblRhYkJ1dHRvbkNsaWNrOiB0aGlzLm9uVGFiQ2xpY2tlZCB9LCBoKFwic2xvdFwiLCB7IGtleTogJzA5NjYxYjI2ZjA3YTMwNjlhNThlNzZlYTRkY2ViOWE2YWNiZjM2NWQnLCBuYW1lOiBcInRvcFwiIH0pLCBoKFwiZGl2XCIsIHsga2V5OiAnZGI1MGQ1OWZhZDhmOWIxMTg3M2I2OTVmYzU0OGYzY2ZlNGFjZWI2YScsIGNsYXNzOiBcInRhYnMtaW5uZXJcIiB9LCBoKFwic2xvdFwiLCB7IGtleTogJzAyNjk0ZGRlMmQ4MzgxZjQ4ZmMwNmRkOWU3OTc5OGM0YmQ1NDBjY2QnIH0pKSwgaChcInNsb3RcIiwgeyBrZXk6ICc5MmM0NjYxYTVmM2ZhMWMwOGM5NjRmYWI3YzQyMmMxYTJhMDNkM2Q4JywgbmFtZTogXCJib3R0b21cIiB9KSkpO1xuICAgIH1cbiAgICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuY29uc3QgZ2V0VGFiID0gKHRhYnMsIHRhYikgPT4ge1xuICAgIGNvbnN0IHRhYkVsID0gdHlwZW9mIHRhYiA9PT0gJ3N0cmluZycgPyB0YWJzLmZpbmQoKHQpID0+IHQudGFiID09PSB0YWIpIDogdGFiO1xuICAgIGlmICghdGFiRWwpIHtcbiAgICAgICAgcHJpbnRJb25FcnJvcihgW2lvbi10YWJzXSAtIFRhYiB3aXRoIGlkOiBcIiR7dGFiRWx9XCIgZG9lcyBub3QgZXhpc3RgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhYkVsO1xufTtcblRhYnMuc3R5bGUgPSB0YWJzQ3NzO1xuXG5leHBvcnQgeyBUYWIgYXMgaW9uX3RhYiwgVGFicyBhcyBpb25fdGFicyB9O1xuIl0sIm5hbWVzIjpbInIiLCJyZWdpc3Rlckluc3RhbmNlIiwibyIsInByaW50SW9uRXJyb3IiLCJoIiwiaiIsIkhvc3QiLCJrIiwiZ2V0RWxlbWVudCIsImQiLCJjcmVhdGVFdmVudCIsImEiLCJhdHRhY2hDb21wb25lbnQiLCJ0YWJDc3MiLCJUYWIiLCJjb25zdHJ1Y3RvciIsImhvc3RSZWYiLCJsb2FkZWQiLCJhY3RpdmUiLCJjb21wb25lbnRXaWxsTG9hZCIsIl90aGlzIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJzZXRBY3RpdmUiLCJfdGhpczIiLCJwcmVwYXJlTGF6eUxvYWRlZCIsImNoYW5nZUFjdGl2ZSIsImlzQWN0aXZlIiwiY29tcG9uZW50IiwiZGVsZWdhdGUiLCJlbCIsImUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInVuZGVmaW5lZCIsInJlbmRlciIsInRhYiIsImtleSIsInJvbGUiLCJjbGFzcyIsIndhdGNoZXJzIiwic3R5bGUiLCJ0YWJzQ3NzIiwiVGFicyIsImlvbk5hdldpbGxMb2FkIiwiaW9uVGFic1dpbGxDaGFuZ2UiLCJpb25UYWJzRGlkQ2hhbmdlIiwidHJhbnNpdGlvbmluZyIsInVzZVJvdXRlciIsIm9uVGFiQ2xpY2tlZCIsImV2IiwiaHJlZiIsImRldGFpbCIsInJvdXRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInB1c2giLCJzZWxlY3QiLCJfdGhpczMiLCJjbG9zZXN0IiwidGFicyIsImxlbmd0aCIsImVtaXQiLCJjb21wb25lbnRXaWxsUmVuZGVyIiwidGFiQmFyIiwic2VsZWN0ZWRUYWIiLCJfdGhpczQiLCJnZXRUYWIiLCJzaG91bGRTd2l0Y2giLCJub3RpZnlSb3V0ZXIiLCJ0YWJTd2l0Y2giLCJfdGhpczUiLCJnZXRTZWxlY3RlZCIsInNldFJvdXRlSWQiLCJpZCIsIl90aGlzNiIsImNoYW5nZWQiLCJlbGVtZW50IiwibWFya1Zpc2libGUiLCJnZXRSb3V0ZUlkIiwiX3RoaXM3IiwiX2EiLCJ0YWJJZCIsInJlamVjdCIsImxlYXZpbmdUYWIiLCJuYXZDaGFuZ2VkIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIm9uSW9uVGFiQnV0dG9uQ2xpY2siLCJuYW1lIiwidGFiRWwiLCJmaW5kIiwidCIsImlvbl90YWIiLCJpb25fdGFicyJdLCJzb3VyY2VSb290Ijoid2VicGFjazovLy8iLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMF19