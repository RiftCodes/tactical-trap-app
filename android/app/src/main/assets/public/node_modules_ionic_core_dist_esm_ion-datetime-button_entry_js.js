"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-datetime-button_entry_js"],{

/***/ 2569:
/*!************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-datetime-button.entry.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ion_datetime_button: () => (/* binding */ DatetimeButton)
/* harmony export */ });
/* harmony import */ var C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 9204);
/* harmony import */ var _index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-527b9e34.js */ 4514);
/* harmony import */ var _helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helpers-78efeec3.js */ 9522);
/* harmony import */ var _index_738d7504_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index-738d7504.js */ 7243);
/* harmony import */ var _theme_01f3f29c_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./theme-01f3f29c.js */ 1882);
/* harmony import */ var _ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ionic-global-ca86cf32.js */ 1367);
/* harmony import */ var _data_174ad5e0_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./data-174ad5e0.js */ 2326);

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */






const datetimeButtonIosCss = ":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}:host button{border-radius:8px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:0px;margin-bottom:0px;position:relative;-webkit-transition:150ms color ease-in-out;transition:150ms color ease-in-out;border:none;background:var(--ion-color-step-300, var(--ion-background-color-step-300, #edeef0));color:var(--ion-text-color, #000);font-family:inherit;font-size:1rem;cursor:pointer;overflow:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}:host(.time-active) #time-button,:host(.date-active) #date-button{color:var(--ion-color-base)}:host(.datetime-button-disabled){pointer-events:none}:host(.datetime-button-disabled) button{opacity:0.4}:host button{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:7px;padding-bottom:7px}:host button.ion-activated{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}";
const IonDatetimeButtonIosStyle0 = datetimeButtonIosCss;
const datetimeButtonMdCss = ":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}:host button{border-radius:8px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:0px;margin-bottom:0px;position:relative;-webkit-transition:150ms color ease-in-out;transition:150ms color ease-in-out;border:none;background:var(--ion-color-step-300, var(--ion-background-color-step-300, #edeef0));color:var(--ion-text-color, #000);font-family:inherit;font-size:1rem;cursor:pointer;overflow:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}:host(.time-active) #time-button,:host(.date-active) #date-button{color:var(--ion-color-base)}:host(.datetime-button-disabled){pointer-events:none}:host(.datetime-button-disabled) button{opacity:0.4}:host button{-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px}";
const IonDatetimeButtonMdStyle0 = datetimeButtonMdCss;
const DatetimeButton = class {
  constructor(hostRef) {
    var _this = this;
    (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.datetimeEl = null;
    this.overlayEl = null;
    /**
     * Accepts one or more string values and converts
     * them to DatetimeParts. This is done so datetime-button
     * can work with an array internally and not need
     * to keep checking if the datetime value is `string` or `string[]`.
     */
    this.getParsedDateValues = value => {
      if (value === undefined || value === null) {
        return [];
      }
      if (Array.isArray(value)) {
        return value;
      }
      return [value];
    };
    /**
     * Check the value property on the linked
     * ion-datetime and then format it according
     * to the locale specified on ion-datetime.
     */
    this.setDateTimeText = () => {
      var _a, _b, _c, _d, _e;
      const {
        datetimeEl,
        datetimePresentation
      } = this;
      if (!datetimeEl) {
        return;
      }
      const {
        value,
        locale,
        formatOptions,
        hourCycle,
        preferWheel,
        multiple,
        titleSelectedDatesFormatter
      } = datetimeEl;
      const parsedValues = this.getParsedDateValues(value);
      /**
       * Both ion-datetime and ion-datetime-button default
       * to today's date and time if no value is set.
       */
      const parsedDatetimes = (0,_data_174ad5e0_js__WEBPACK_IMPORTED_MODULE_6__.s)(parsedValues.length > 0 ? parsedValues : [(0,_data_174ad5e0_js__WEBPACK_IMPORTED_MODULE_6__.x)()]);
      if (!parsedDatetimes) {
        return;
      }
      /**
       * If developers incorrectly use multiple="true"
       * with non "date" datetimes, then just select
       * the first value so the interface does
       * not appear broken. Datetime will provide a
       * warning in the console.
       */
      const firstParsedDatetime = parsedDatetimes[0];
      const computedHourCycle = (0,_data_174ad5e0_js__WEBPACK_IMPORTED_MODULE_6__.L)(locale, hourCycle);
      this.dateText = this.timeText = undefined;
      switch (datetimePresentation) {
        case 'date-time':
        case 'time-date':
          const dateText = (0,_data_174ad5e0_js__WEBPACK_IMPORTED_MODULE_6__.N)(locale, firstParsedDatetime, (_a = formatOptions === null || formatOptions === void 0 ? void 0 : formatOptions.date) !== null && _a !== void 0 ? _a : {
            month: 'short',
            day: 'numeric',
            year: 'numeric'
          });
          const timeText = (0,_data_174ad5e0_js__WEBPACK_IMPORTED_MODULE_6__.M)(locale, firstParsedDatetime, computedHourCycle, formatOptions === null || formatOptions === void 0 ? void 0 : formatOptions.time);
          if (preferWheel) {
            this.dateText = `${dateText} ${timeText}`;
          } else {
            this.dateText = dateText;
            this.timeText = timeText;
          }
          break;
        case 'date':
          if (multiple && parsedValues.length !== 1) {
            let headerText = `${parsedValues.length} days`; // default/fallback for multiple selection
            if (titleSelectedDatesFormatter !== undefined) {
              try {
                headerText = titleSelectedDatesFormatter(parsedValues);
              } catch (e) {
                (0,_index_738d7504_js__WEBPACK_IMPORTED_MODULE_3__.a)('Exception in provided `titleSelectedDatesFormatter`: ', e);
              }
            }
            this.dateText = headerText;
          } else {
            this.dateText = (0,_data_174ad5e0_js__WEBPACK_IMPORTED_MODULE_6__.N)(locale, firstParsedDatetime, (_b = formatOptions === null || formatOptions === void 0 ? void 0 : formatOptions.date) !== null && _b !== void 0 ? _b : {
              month: 'short',
              day: 'numeric',
              year: 'numeric'
            });
          }
          break;
        case 'time':
          this.timeText = (0,_data_174ad5e0_js__WEBPACK_IMPORTED_MODULE_6__.M)(locale, firstParsedDatetime, computedHourCycle, formatOptions === null || formatOptions === void 0 ? void 0 : formatOptions.time);
          break;
        case 'month-year':
          this.dateText = (0,_data_174ad5e0_js__WEBPACK_IMPORTED_MODULE_6__.N)(locale, firstParsedDatetime, (_c = formatOptions === null || formatOptions === void 0 ? void 0 : formatOptions.date) !== null && _c !== void 0 ? _c : {
            month: 'long',
            year: 'numeric'
          });
          break;
        case 'month':
          this.dateText = (0,_data_174ad5e0_js__WEBPACK_IMPORTED_MODULE_6__.N)(locale, firstParsedDatetime, (_d = formatOptions === null || formatOptions === void 0 ? void 0 : formatOptions.time) !== null && _d !== void 0 ? _d : {
            month: 'long'
          });
          break;
        case 'year':
          this.dateText = (0,_data_174ad5e0_js__WEBPACK_IMPORTED_MODULE_6__.N)(locale, firstParsedDatetime, (_e = formatOptions === null || formatOptions === void 0 ? void 0 : formatOptions.time) !== null && _e !== void 0 ? _e : {
            year: 'numeric'
          });
          break;
      }
    };
    /**
     * Waits for the ion-datetime to re-render.
     * This is needed in order to correctly position
     * a popover relative to the trigger element.
     */
    this.waitForDatetimeChanges = /*#__PURE__*/(0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        datetimeEl
      } = _this;
      if (!datetimeEl) {
        return Promise.resolve();
      }
      return new Promise(resolve => {
        (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_2__.a)(datetimeEl, 'ionRender', resolve, {
          once: true
        });
      });
    });
    this.handleDateClick = /*#__PURE__*/function () {
      var _ref2 = (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (ev) {
        const {
          datetimeEl,
          datetimePresentation
        } = _this;
        if (!datetimeEl) {
          return;
        }
        let needsPresentationChange = false;
        /**
         * When clicking the date button,
         * we need to make sure that only a date
         * picker is displayed. For presentation styles
         * that display content other than a date picker,
         * we need to update the presentation style.
         */
        switch (datetimePresentation) {
          case 'date-time':
          case 'time-date':
            const needsChange = datetimeEl.presentation !== 'date';
            /**
             * The date+time wheel picker
             * shows date and time together,
             * so do not adjust the presentation
             * in that case.
             */
            if (!datetimeEl.preferWheel && needsChange) {
              datetimeEl.presentation = 'date';
              needsPresentationChange = true;
            }
            break;
        }
        /**
         * Track which button was clicked
         * so that it can have the correct
         * activated styles applied when
         * the modal/popover containing
         * the datetime is opened.
         */
        _this.selectedButton = 'date';
        _this.presentOverlay(ev, needsPresentationChange, _this.dateTargetEl);
      });
      return function (_x) {
        return _ref2.apply(this, arguments);
      };
    }();
    this.handleTimeClick = ev => {
      const {
        datetimeEl,
        datetimePresentation
      } = this;
      if (!datetimeEl) {
        return;
      }
      let needsPresentationChange = false;
      /**
       * When clicking the time button,
       * we need to make sure that only a time
       * picker is displayed. For presentation styles
       * that display content other than a time picker,
       * we need to update the presentation style.
       */
      switch (datetimePresentation) {
        case 'date-time':
        case 'time-date':
          const needsChange = datetimeEl.presentation !== 'time';
          if (needsChange) {
            datetimeEl.presentation = 'time';
            needsPresentationChange = true;
          }
          break;
      }
      /**
       * Track which button was clicked
       * so that it can have the correct
       * activated styles applied when
       * the modal/popover containing
       * the datetime is opened.
       */
      this.selectedButton = 'time';
      this.presentOverlay(ev, needsPresentationChange, this.timeTargetEl);
    };
    /**
     * If the datetime is presented in an
     * overlay, the datetime and overlay
     * should be appropriately sized.
     * These classes provide default sizing values
     * that developers can customize.
     * The goal is to provide an overlay that is
     * reasonably sized with a datetime that
     * fills the entire container.
     */
    this.presentOverlay = /*#__PURE__*/function () {
      var _ref3 = (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (ev, needsPresentationChange, triggerEl) {
        const {
          overlayEl
        } = _this;
        if (!overlayEl) {
          return;
        }
        if (overlayEl.tagName === 'ION-POPOVER') {
          /**
           * When the presentation on datetime changes,
           * we need to wait for the component to re-render
           * otherwise the computed width/height of the
           * popover content will be wrong, causing
           * the popover to not align with the trigger element.
           */
          if (needsPresentationChange) {
            yield _this.waitForDatetimeChanges();
          }
          /**
           * We pass the trigger button element
           * so that the popover aligns with the individual
           * button that was clicked, not the component container.
           */
          overlayEl.present(Object.assign(Object.assign({}, ev), {
            detail: {
              ionShadowTarget: triggerEl
            }
          }));
        } else {
          overlayEl.present();
        }
      });
      return function (_x2, _x3, _x4) {
        return _ref3.apply(this, arguments);
      };
    }();
    this.datetimePresentation = 'date-time';
    this.dateText = undefined;
    this.timeText = undefined;
    this.datetimeActive = false;
    this.selectedButton = undefined;
    this.color = 'primary';
    this.disabled = false;
    this.datetime = undefined;
  }
  componentWillLoad() {
    var _this2 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        datetime
      } = _this2;
      if (!datetime) {
        (0,_index_738d7504_js__WEBPACK_IMPORTED_MODULE_3__.a)('An ID associated with an ion-datetime instance is required for ion-datetime-button to function properly.', _this2.el);
        return;
      }
      const datetimeEl = _this2.datetimeEl = document.getElementById(datetime);
      if (!datetimeEl) {
        (0,_index_738d7504_js__WEBPACK_IMPORTED_MODULE_3__.a)(`No ion-datetime instance found for ID '${datetime}'.`, _this2.el);
        return;
      }
      /**
       * The element reference must be an ion-datetime. Print an error
       * if a non-datetime element was provided.
       */
      if (datetimeEl.tagName !== 'ION-DATETIME') {
        (0,_index_738d7504_js__WEBPACK_IMPORTED_MODULE_3__.a)(`Expected an ion-datetime instance for ID '${datetime}' but received '${datetimeEl.tagName.toLowerCase()}' instead.`, datetimeEl);
        return;
      }
      /**
       * Since the datetime can be used in any context (overlays, accordion, etc)
       * we track when it is visible to determine when it is active.
       * This informs which button is highlighted as well as the
       * aria-expanded state.
       */
      const io = new IntersectionObserver(entries => {
        const ev = entries[0];
        _this2.datetimeActive = ev.isIntersecting;
      }, {
        threshold: 0.01
      });
      io.observe(datetimeEl);
      /**
       * Get a reference to any modal/popover
       * the datetime is being used in so we can
       * correctly size it when it is presented.
       */
      const overlayEl = _this2.overlayEl = datetimeEl.closest('ion-modal, ion-popover');
      /**
       * The .ion-datetime-button-overlay class contains
       * styles that allow any modal/popover to be
       * sized according to the dimensions of the datetime.
       * If developers want a smaller/larger overlay all they need
       * to do is change the width/height of the datetime.
       * Additionally, this lets us avoid having to set
       * explicit widths on each variant of datetime.
       */
      if (overlayEl) {
        overlayEl.classList.add('ion-datetime-button-overlay');
      }
      (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(datetimeEl, () => {
        const datetimePresentation = _this2.datetimePresentation = datetimeEl.presentation || 'date-time';
        /**
         * Set the initial display
         * in the rendered buttons.
         *
         * From there, we need to listen
         * for ionChange to be emitted
         * from datetime so we know when
         * to re-render the displayed
         * text in the buttons.
         */
        _this2.setDateTimeText();
        (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_2__.a)(datetimeEl, 'ionValueChange', _this2.setDateTimeText);
        /**
         * Configure the initial selected button
         * in the event that the datetime is displayed
         * without clicking one of the datetime buttons.
         * For example, a datetime could be expanded
         * in an accordion. In this case users only
         * need to click the accordion header to show
         * the datetime.
         */
        switch (datetimePresentation) {
          case 'date-time':
          case 'date':
          case 'month-year':
          case 'month':
          case 'year':
            _this2.selectedButton = 'date';
            break;
          case 'time-date':
          case 'time':
            _this2.selectedButton = 'time';
            break;
        }
      });
    })();
  }
  render() {
    const {
      color,
      dateText,
      timeText,
      selectedButton,
      datetimeActive,
      disabled
    } = this;
    const mode = (0,_ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_5__.b)(this);
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.e, {
      key: '26e606af6f067a5774db37ed41387ffebb941777',
      class: (0,_theme_01f3f29c_js__WEBPACK_IMPORTED_MODULE_4__.c)(color, {
        [mode]: true,
        [`${selectedButton}-active`]: datetimeActive,
        ['datetime-button-disabled']: disabled
      })
    }, dateText && (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      key: '6b7aa66a15b4a6d89d411e40586de28a2ac9f343',
      class: "ion-activatable",
      id: "date-button",
      "aria-expanded": datetimeActive ? 'true' : 'false',
      onClick: this.handleDateClick,
      disabled: disabled,
      part: "native",
      ref: el => this.dateTargetEl = el
    }, (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      key: 'd42f34fd167be34386319e7ea788c2ab03c90b87',
      name: "date-target"
    }, dateText), mode === 'md' && (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-ripple-effect", {
      key: '47dd34f3c2799064cac7a5fe25440ecc043950f0'
    })), timeText && (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      key: 'd77424a20fae320654774c7bfc8a8e2369d3afe3',
      class: "ion-activatable",
      id: "time-button",
      "aria-expanded": datetimeActive ? 'true' : 'false',
      onClick: this.handleTimeClick,
      disabled: disabled,
      part: "native",
      ref: el => this.timeTargetEl = el
    }, (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      key: 'ac088a78141bb53f2efd48dd7745f8954c92378b',
      name: "time-target"
    }, timeText), mode === 'md' && (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-ripple-effect", {
      key: 'b3a58ddfd28b9396e2518ffd62a045ec13d8b9d0'
    })));
  }
  get el() {
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
};
DatetimeButton.style = {
  ios: IonDatetimeButtonIosStyle0,
  md: IonDatetimeButtonMdStyle0
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLWRhdGV0aW1lLWJ1dHRvbl9lbnRyeV9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDMkY7QUFDTjtBQUM1QjtBQUNLO0FBQ0Q7QUFDMkU7QUFFeEksTUFBTXlCLG9CQUFvQixHQUFHLGdtQ0FBZ21DO0FBQzduQyxNQUFNQywwQkFBMEIsR0FBR0Qsb0JBQW9CO0FBRXZELE1BQU1FLG1CQUFtQixHQUFHLDQvQkFBNC9CO0FBQ3hoQyxNQUFNQyx5QkFBeUIsR0FBR0QsbUJBQW1CO0FBRXJELE1BQU1FLGNBQWMsR0FBRyxNQUFNO0VBQ3pCQyxXQUFXQSxDQUFDQyxPQUFPLEVBQUU7SUFBQSxJQUFBQyxLQUFBO0lBQ2pCL0IscURBQWdCLENBQUMsSUFBSSxFQUFFOEIsT0FBTyxDQUFDO0lBQy9CLElBQUksQ0FBQ0UsVUFBVSxHQUFHLElBQUk7SUFDdEIsSUFBSSxDQUFDQyxTQUFTLEdBQUcsSUFBSTtJQUNyQjtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7SUFDUSxJQUFJLENBQUNDLG1CQUFtQixHQUFJQyxLQUFLLElBQUs7TUFDbEMsSUFBSUEsS0FBSyxLQUFLQyxTQUFTLElBQUlELEtBQUssS0FBSyxJQUFJLEVBQUU7UUFDdkMsT0FBTyxFQUFFO01BQ2I7TUFDQSxJQUFJRSxLQUFLLENBQUNDLE9BQU8sQ0FBQ0gsS0FBSyxDQUFDLEVBQUU7UUFDdEIsT0FBT0EsS0FBSztNQUNoQjtNQUNBLE9BQU8sQ0FBQ0EsS0FBSyxDQUFDO0lBQ2xCLENBQUM7SUFDRDtBQUNSO0FBQ0E7QUFDQTtBQUNBO0lBQ1EsSUFBSSxDQUFDSSxlQUFlLEdBQUcsTUFBTTtNQUN6QixJQUFJQyxFQUFFLEVBQUVDLEVBQUUsRUFBRUMsRUFBRSxFQUFFQyxFQUFFLEVBQUVDLEVBQUU7TUFDdEIsTUFBTTtRQUFFWixVQUFVO1FBQUVhO01BQXFCLENBQUMsR0FBRyxJQUFJO01B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UUFBUTtNQUFFdUIsSUFBSSxFQUFFLFFBQVE7TUFBRUMsR0FBRyxFQUFHcEIsRUFBRSxJQUFNLElBQUksQ0FBQ2xCLFlBQVksR0FBR2tCO0lBQUksQ0FBQyxFQUFFcEcscURBQUMsQ0FBQyxNQUFNLEVBQUU7TUFBRW1ILEdBQUcsRUFBRSwwQ0FBMEM7TUFBRU0sSUFBSSxFQUFFO0lBQWMsQ0FBQyxFQUFFaEUsUUFBUSxDQUFDLEVBQUV5RCxJQUFJLEtBQUssSUFBSSxJQUFJbEgscURBQUMsQ0FBQyxtQkFBbUIsRUFBRTtNQUFFbUgsR0FBRyxFQUFFO0lBQTJDLENBQUMsQ0FBQyxDQUFFLENBQUM7RUFDNzdCO0VBQ0EsSUFBSWYsRUFBRUEsQ0FBQSxFQUFHO0lBQUUsT0FBT2hHLHFEQUFVLENBQUMsSUFBSSxDQUFDO0VBQUU7QUFDeEMsQ0FBQztBQUNEdUIsY0FBYyxDQUFDK0YsS0FBSyxHQUFHO0VBQ25CQyxHQUFHLEVBQUVuRywwQkFBMEI7RUFDL0JvRyxFQUFFLEVBQUVsRztBQUNSLENBQUMiLCJzb3VyY2VzIjpbIi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1kYXRldGltZS1idXR0b24uZW50cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgaCwgZSBhcyBIb3N0LCBmIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LTUyN2I5ZTM0LmpzJztcbmltcG9ydCB7IGEgYXMgYWRkRXZlbnRMaXN0ZW5lciwgYyBhcyBjb21wb25lbnRPblJlYWR5IH0gZnJvbSAnLi9oZWxwZXJzLTc4ZWZlZWMzLmpzJztcbmltcG9ydCB7IGEgYXMgcHJpbnRJb25FcnJvciB9IGZyb20gJy4vaW5kZXgtNzM4ZDc1MDQuanMnO1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVDb2xvckNsYXNzZXMgfSBmcm9tICcuL3RoZW1lLTAxZjNmMjljLmpzJztcbmltcG9ydCB7IGIgYXMgZ2V0SW9uTW9kZSB9IGZyb20gJy4vaW9uaWMtZ2xvYmFsLWNhODZjZjMyLmpzJztcbmltcG9ydCB7IHMgYXMgcGFyc2VEYXRlLCB4IGFzIGdldFRvZGF5LCBMIGFzIGdldEhvdXJDeWNsZSwgTiBhcyBnZXRMb2NhbGl6ZWREYXRlVGltZSwgTSBhcyBnZXRMb2NhbGl6ZWRUaW1lIH0gZnJvbSAnLi9kYXRhLTE3NGFkNWUwLmpzJztcblxuY29uc3QgZGF0ZXRpbWVCdXR0b25Jb3NDc3MgPSBcIjpob3N0e2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LXdyYXA6d3JhcDtmbGV4LXdyYXA6d3JhcDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9Omhvc3QgYnV0dG9ue2JvcmRlci1yYWRpdXM6OHB4Oy13ZWJraXQtbWFyZ2luLXN0YXJ0OjJweDttYXJnaW4taW5saW5lLXN0YXJ0OjJweDstd2Via2l0LW1hcmdpbi1lbmQ6MnB4O21hcmdpbi1pbmxpbmUtZW5kOjJweDttYXJnaW4tdG9wOjBweDttYXJnaW4tYm90dG9tOjBweDtwb3NpdGlvbjpyZWxhdGl2ZTstd2Via2l0LXRyYW5zaXRpb246MTUwbXMgY29sb3IgZWFzZS1pbi1vdXQ7dHJhbnNpdGlvbjoxNTBtcyBjb2xvciBlYXNlLWluLW91dDtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kOnZhcigtLWlvbi1jb2xvci1zdGVwLTMwMCwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3Itc3RlcC0zMDAsICNlZGVlZjApKTtjb2xvcjp2YXIoLS1pb24tdGV4dC1jb2xvciwgIzAwMCk7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXNpemU6MXJlbTtjdXJzb3I6cG9pbnRlcjtvdmVyZmxvdzpoaWRkZW47LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7LW1vei1hcHBlYXJhbmNlOm5vbmU7YXBwZWFyYW5jZTpub25lfTpob3N0KC50aW1lLWFjdGl2ZSkgI3RpbWUtYnV0dG9uLDpob3N0KC5kYXRlLWFjdGl2ZSkgI2RhdGUtYnV0dG9ue2NvbG9yOnZhcigtLWlvbi1jb2xvci1iYXNlKX06aG9zdCguZGF0ZXRpbWUtYnV0dG9uLWRpc2FibGVkKXtwb2ludGVyLWV2ZW50czpub25lfTpob3N0KC5kYXRldGltZS1idXR0b24tZGlzYWJsZWQpIGJ1dHRvbntvcGFjaXR5OjAuNH06aG9zdCBidXR0b257LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjEzcHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTNweDstd2Via2l0LXBhZGRpbmctZW5kOjEzcHg7cGFkZGluZy1pbmxpbmUtZW5kOjEzcHg7cGFkZGluZy10b3A6N3B4O3BhZGRpbmctYm90dG9tOjdweH06aG9zdCBidXR0b24uaW9uLWFjdGl2YXRlZHtjb2xvcjp2YXIoLS1pb24tY29sb3Itc3RlcC02MDAsIHZhcigtLWlvbi10ZXh0LWNvbG9yLXN0ZXAtNDAwLCAjNjY2NjY2KSl9XCI7XG5jb25zdCBJb25EYXRldGltZUJ1dHRvbklvc1N0eWxlMCA9IGRhdGV0aW1lQnV0dG9uSW9zQ3NzO1xuXG5jb25zdCBkYXRldGltZUJ1dHRvbk1kQ3NzID0gXCI6aG9zdHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC13cmFwOndyYXA7ZmxleC13cmFwOndyYXA7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfTpob3N0IGJ1dHRvbntib3JkZXItcmFkaXVzOjhweDstd2Via2l0LW1hcmdpbi1zdGFydDoycHg7bWFyZ2luLWlubGluZS1zdGFydDoycHg7LXdlYmtpdC1tYXJnaW4tZW5kOjJweDttYXJnaW4taW5saW5lLWVuZDoycHg7bWFyZ2luLXRvcDowcHg7bWFyZ2luLWJvdHRvbTowcHg7cG9zaXRpb246cmVsYXRpdmU7LXdlYmtpdC10cmFuc2l0aW9uOjE1MG1zIGNvbG9yIGVhc2UtaW4tb3V0O3RyYW5zaXRpb246MTUwbXMgY29sb3IgZWFzZS1pbi1vdXQ7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZDp2YXIoLS1pb24tY29sb3Itc3RlcC0zMDAsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXN0ZXAtMzAwLCAjZWRlZWYwKSk7Y29sb3I6dmFyKC0taW9uLXRleHQtY29sb3IsICMwMDApO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC1zaXplOjFyZW07Y3Vyc29yOnBvaW50ZXI7b3ZlcmZsb3c6aGlkZGVuOy13ZWJraXQtYXBwZWFyYW5jZTpub25lOy1tb3otYXBwZWFyYW5jZTpub25lO2FwcGVhcmFuY2U6bm9uZX06aG9zdCgudGltZS1hY3RpdmUpICN0aW1lLWJ1dHRvbiw6aG9zdCguZGF0ZS1hY3RpdmUpICNkYXRlLWJ1dHRvbntjb2xvcjp2YXIoLS1pb24tY29sb3ItYmFzZSl9Omhvc3QoLmRhdGV0aW1lLWJ1dHRvbi1kaXNhYmxlZCl7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdCguZGF0ZXRpbWUtYnV0dG9uLWRpc2FibGVkKSBidXR0b257b3BhY2l0eTowLjR9Omhvc3QgYnV0dG9uey13ZWJraXQtcGFkZGluZy1zdGFydDoxMnB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjEycHg7LXdlYmtpdC1wYWRkaW5nLWVuZDoxMnB4O3BhZGRpbmctaW5saW5lLWVuZDoxMnB4O3BhZGRpbmctdG9wOjZweDtwYWRkaW5nLWJvdHRvbTo2cHh9XCI7XG5jb25zdCBJb25EYXRldGltZUJ1dHRvbk1kU3R5bGUwID0gZGF0ZXRpbWVCdXR0b25NZENzcztcblxuY29uc3QgRGF0ZXRpbWVCdXR0b24gPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgICAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgICAgICB0aGlzLmRhdGV0aW1lRWwgPSBudWxsO1xuICAgICAgICB0aGlzLm92ZXJsYXlFbCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY2NlcHRzIG9uZSBvciBtb3JlIHN0cmluZyB2YWx1ZXMgYW5kIGNvbnZlcnRzXG4gICAgICAgICAqIHRoZW0gdG8gRGF0ZXRpbWVQYXJ0cy4gVGhpcyBpcyBkb25lIHNvIGRhdGV0aW1lLWJ1dHRvblxuICAgICAgICAgKiBjYW4gd29yayB3aXRoIGFuIGFycmF5IGludGVybmFsbHkgYW5kIG5vdCBuZWVkXG4gICAgICAgICAqIHRvIGtlZXAgY2hlY2tpbmcgaWYgdGhlIGRhdGV0aW1lIHZhbHVlIGlzIGBzdHJpbmdgIG9yIGBzdHJpbmdbXWAuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdldFBhcnNlZERhdGVWYWx1ZXMgPSAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZV07XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVjayB0aGUgdmFsdWUgcHJvcGVydHkgb24gdGhlIGxpbmtlZFxuICAgICAgICAgKiBpb24tZGF0ZXRpbWUgYW5kIHRoZW4gZm9ybWF0IGl0IGFjY29yZGluZ1xuICAgICAgICAgKiB0byB0aGUgbG9jYWxlIHNwZWNpZmllZCBvbiBpb24tZGF0ZXRpbWUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNldERhdGVUaW1lVGV4dCA9ICgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGV0aW1lRWwsIGRhdGV0aW1lUHJlc2VudGF0aW9uIH0gPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCFkYXRldGltZUVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSwgbG9jYWxlLCBmb3JtYXRPcHRpb25zLCBob3VyQ3ljbGUsIHByZWZlcldoZWVsLCBtdWx0aXBsZSwgdGl0bGVTZWxlY3RlZERhdGVzRm9ybWF0dGVyIH0gPSBkYXRldGltZUVsO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkVmFsdWVzID0gdGhpcy5nZXRQYXJzZWREYXRlVmFsdWVzKHZhbHVlKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQm90aCBpb24tZGF0ZXRpbWUgYW5kIGlvbi1kYXRldGltZS1idXR0b24gZGVmYXVsdFxuICAgICAgICAgICAgICogdG8gdG9kYXkncyBkYXRlIGFuZCB0aW1lIGlmIG5vIHZhbHVlIGlzIHNldC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkRGF0ZXRpbWVzID0gcGFyc2VEYXRlKHBhcnNlZFZhbHVlcy5sZW5ndGggPiAwID8gcGFyc2VkVmFsdWVzIDogW2dldFRvZGF5KCldKTtcbiAgICAgICAgICAgIGlmICghcGFyc2VkRGF0ZXRpbWVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiBkZXZlbG9wZXJzIGluY29ycmVjdGx5IHVzZSBtdWx0aXBsZT1cInRydWVcIlxuICAgICAgICAgICAgICogd2l0aCBub24gXCJkYXRlXCIgZGF0ZXRpbWVzLCB0aGVuIGp1c3Qgc2VsZWN0XG4gICAgICAgICAgICAgKiB0aGUgZmlyc3QgdmFsdWUgc28gdGhlIGludGVyZmFjZSBkb2VzXG4gICAgICAgICAgICAgKiBub3QgYXBwZWFyIGJyb2tlbi4gRGF0ZXRpbWUgd2lsbCBwcm92aWRlIGFcbiAgICAgICAgICAgICAqIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGZpcnN0UGFyc2VkRGF0ZXRpbWUgPSBwYXJzZWREYXRldGltZXNbMF07XG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZEhvdXJDeWNsZSA9IGdldEhvdXJDeWNsZShsb2NhbGUsIGhvdXJDeWNsZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGVUZXh0ID0gdGhpcy50aW1lVGV4dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHN3aXRjaCAoZGF0ZXRpbWVQcmVzZW50YXRpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlICdkYXRlLXRpbWUnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3RpbWUtZGF0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVUZXh0ID0gZ2V0TG9jYWxpemVkRGF0ZVRpbWUobG9jYWxlLCBmaXJzdFBhcnNlZERhdGV0aW1lLCAoX2EgPSBmb3JtYXRPcHRpb25zID09PSBudWxsIHx8IGZvcm1hdE9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZvcm1hdE9wdGlvbnMuZGF0ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogeyBtb250aDogJ3Nob3J0JywgZGF5OiAnbnVtZXJpYycsIHllYXI6ICdudW1lcmljJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZVRleHQgPSBnZXRMb2NhbGl6ZWRUaW1lKGxvY2FsZSwgZmlyc3RQYXJzZWREYXRldGltZSwgY29tcHV0ZWRIb3VyQ3ljbGUsIGZvcm1hdE9wdGlvbnMgPT09IG51bGwgfHwgZm9ybWF0T3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZm9ybWF0T3B0aW9ucy50aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZWZlcldoZWVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGVUZXh0ID0gYCR7ZGF0ZVRleHR9ICR7dGltZVRleHR9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZVRleHQgPSBkYXRlVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGltZVRleHQgPSB0aW1lVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG11bHRpcGxlICYmIHBhcnNlZFZhbHVlcy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoZWFkZXJUZXh0ID0gYCR7cGFyc2VkVmFsdWVzLmxlbmd0aH0gZGF5c2A7IC8vIGRlZmF1bHQvZmFsbGJhY2sgZm9yIG11bHRpcGxlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpdGxlU2VsZWN0ZWREYXRlc0Zvcm1hdHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyVGV4dCA9IHRpdGxlU2VsZWN0ZWREYXRlc0Zvcm1hdHRlcihwYXJzZWRWYWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludElvbkVycm9yKCdFeGNlcHRpb24gaW4gcHJvdmlkZWQgYHRpdGxlU2VsZWN0ZWREYXRlc0Zvcm1hdHRlcmA6ICcsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZVRleHQgPSBoZWFkZXJUZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlVGV4dCA9IGdldExvY2FsaXplZERhdGVUaW1lKGxvY2FsZSwgZmlyc3RQYXJzZWREYXRldGltZSwgKF9iID0gZm9ybWF0T3B0aW9ucyA9PT0gbnVsbCB8fCBmb3JtYXRPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmb3JtYXRPcHRpb25zLmRhdGUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHsgbW9udGg6ICdzaG9ydCcsIGRheTogJ251bWVyaWMnLCB5ZWFyOiAnbnVtZXJpYycgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndGltZSc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZVRleHQgPSBnZXRMb2NhbGl6ZWRUaW1lKGxvY2FsZSwgZmlyc3RQYXJzZWREYXRldGltZSwgY29tcHV0ZWRIb3VyQ3ljbGUsIGZvcm1hdE9wdGlvbnMgPT09IG51bGwgfHwgZm9ybWF0T3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZm9ybWF0T3B0aW9ucy50aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbW9udGgteWVhcic6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZVRleHQgPSBnZXRMb2NhbGl6ZWREYXRlVGltZShsb2NhbGUsIGZpcnN0UGFyc2VkRGF0ZXRpbWUsIChfYyA9IGZvcm1hdE9wdGlvbnMgPT09IG51bGwgfHwgZm9ybWF0T3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZm9ybWF0T3B0aW9ucy5kYXRlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB7IG1vbnRoOiAnbG9uZycsIHllYXI6ICdudW1lcmljJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGVUZXh0ID0gZ2V0TG9jYWxpemVkRGF0ZVRpbWUobG9jYWxlLCBmaXJzdFBhcnNlZERhdGV0aW1lLCAoX2QgPSBmb3JtYXRPcHRpb25zID09PSBudWxsIHx8IGZvcm1hdE9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZvcm1hdE9wdGlvbnMudGltZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogeyBtb250aDogJ2xvbmcnIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlVGV4dCA9IGdldExvY2FsaXplZERhdGVUaW1lKGxvY2FsZSwgZmlyc3RQYXJzZWREYXRldGltZSwgKF9lID0gZm9ybWF0T3B0aW9ucyA9PT0gbnVsbCB8fCBmb3JtYXRPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmb3JtYXRPcHRpb25zLnRpbWUpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IHsgeWVhcjogJ251bWVyaWMnIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdhaXRzIGZvciB0aGUgaW9uLWRhdGV0aW1lIHRvIHJlLXJlbmRlci5cbiAgICAgICAgICogVGhpcyBpcyBuZWVkZWQgaW4gb3JkZXIgdG8gY29ycmVjdGx5IHBvc2l0aW9uXG4gICAgICAgICAqIGEgcG9wb3ZlciByZWxhdGl2ZSB0byB0aGUgdHJpZ2dlciBlbGVtZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53YWl0Rm9yRGF0ZXRpbWVDaGFuZ2VzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBkYXRldGltZUVsIH0gPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCFkYXRldGltZUVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihkYXRldGltZUVsLCAnaW9uUmVuZGVyJywgcmVzb2x2ZSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlRGF0ZUNsaWNrID0gYXN5bmMgKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGV0aW1lRWwsIGRhdGV0aW1lUHJlc2VudGF0aW9uIH0gPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCFkYXRldGltZUVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG5lZWRzUHJlc2VudGF0aW9uQ2hhbmdlID0gZmFsc2U7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdoZW4gY2xpY2tpbmcgdGhlIGRhdGUgYnV0dG9uLFxuICAgICAgICAgICAgICogd2UgbmVlZCB0byBtYWtlIHN1cmUgdGhhdCBvbmx5IGEgZGF0ZVxuICAgICAgICAgICAgICogcGlja2VyIGlzIGRpc3BsYXllZC4gRm9yIHByZXNlbnRhdGlvbiBzdHlsZXNcbiAgICAgICAgICAgICAqIHRoYXQgZGlzcGxheSBjb250ZW50IG90aGVyIHRoYW4gYSBkYXRlIHBpY2tlcixcbiAgICAgICAgICAgICAqIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBwcmVzZW50YXRpb24gc3R5bGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHN3aXRjaCAoZGF0ZXRpbWVQcmVzZW50YXRpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlICdkYXRlLXRpbWUnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3RpbWUtZGF0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5lZWRzQ2hhbmdlID0gZGF0ZXRpbWVFbC5wcmVzZW50YXRpb24gIT09ICdkYXRlJztcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFRoZSBkYXRlK3RpbWUgd2hlZWwgcGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAqIHNob3dzIGRhdGUgYW5kIHRpbWUgdG9nZXRoZXIsXG4gICAgICAgICAgICAgICAgICAgICAqIHNvIGRvIG5vdCBhZGp1c3QgdGhlIHByZXNlbnRhdGlvblxuICAgICAgICAgICAgICAgICAgICAgKiBpbiB0aGF0IGNhc2UuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGV0aW1lRWwucHJlZmVyV2hlZWwgJiYgbmVlZHNDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGV0aW1lRWwucHJlc2VudGF0aW9uID0gJ2RhdGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmVlZHNQcmVzZW50YXRpb25DaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUcmFjayB3aGljaCBidXR0b24gd2FzIGNsaWNrZWRcbiAgICAgICAgICAgICAqIHNvIHRoYXQgaXQgY2FuIGhhdmUgdGhlIGNvcnJlY3RcbiAgICAgICAgICAgICAqIGFjdGl2YXRlZCBzdHlsZXMgYXBwbGllZCB3aGVuXG4gICAgICAgICAgICAgKiB0aGUgbW9kYWwvcG9wb3ZlciBjb250YWluaW5nXG4gICAgICAgICAgICAgKiB0aGUgZGF0ZXRpbWUgaXMgb3BlbmVkLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkQnV0dG9uID0gJ2RhdGUnO1xuICAgICAgICAgICAgdGhpcy5wcmVzZW50T3ZlcmxheShldiwgbmVlZHNQcmVzZW50YXRpb25DaGFuZ2UsIHRoaXMuZGF0ZVRhcmdldEVsKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVUaW1lQ2xpY2sgPSAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0ZXRpbWVFbCwgZGF0ZXRpbWVQcmVzZW50YXRpb24gfSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoIWRhdGV0aW1lRWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbmVlZHNQcmVzZW50YXRpb25DaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2hlbiBjbGlja2luZyB0aGUgdGltZSBidXR0b24sXG4gICAgICAgICAgICAgKiB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IG9ubHkgYSB0aW1lXG4gICAgICAgICAgICAgKiBwaWNrZXIgaXMgZGlzcGxheWVkLiBGb3IgcHJlc2VudGF0aW9uIHN0eWxlc1xuICAgICAgICAgICAgICogdGhhdCBkaXNwbGF5IGNvbnRlbnQgb3RoZXIgdGhhbiBhIHRpbWUgcGlja2VyLFxuICAgICAgICAgICAgICogd2UgbmVlZCB0byB1cGRhdGUgdGhlIHByZXNlbnRhdGlvbiBzdHlsZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc3dpdGNoIChkYXRldGltZVByZXNlbnRhdGlvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGUtdGltZSc6XG4gICAgICAgICAgICAgICAgY2FzZSAndGltZS1kYXRlJzpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVlZHNDaGFuZ2UgPSBkYXRldGltZUVsLnByZXNlbnRhdGlvbiAhPT0gJ3RpbWUnO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmVlZHNDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGV0aW1lRWwucHJlc2VudGF0aW9uID0gJ3RpbWUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmVlZHNQcmVzZW50YXRpb25DaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUcmFjayB3aGljaCBidXR0b24gd2FzIGNsaWNrZWRcbiAgICAgICAgICAgICAqIHNvIHRoYXQgaXQgY2FuIGhhdmUgdGhlIGNvcnJlY3RcbiAgICAgICAgICAgICAqIGFjdGl2YXRlZCBzdHlsZXMgYXBwbGllZCB3aGVuXG4gICAgICAgICAgICAgKiB0aGUgbW9kYWwvcG9wb3ZlciBjb250YWluaW5nXG4gICAgICAgICAgICAgKiB0aGUgZGF0ZXRpbWUgaXMgb3BlbmVkLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkQnV0dG9uID0gJ3RpbWUnO1xuICAgICAgICAgICAgdGhpcy5wcmVzZW50T3ZlcmxheShldiwgbmVlZHNQcmVzZW50YXRpb25DaGFuZ2UsIHRoaXMudGltZVRhcmdldEVsKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBkYXRldGltZSBpcyBwcmVzZW50ZWQgaW4gYW5cbiAgICAgICAgICogb3ZlcmxheSwgdGhlIGRhdGV0aW1lIGFuZCBvdmVybGF5XG4gICAgICAgICAqIHNob3VsZCBiZSBhcHByb3ByaWF0ZWx5IHNpemVkLlxuICAgICAgICAgKiBUaGVzZSBjbGFzc2VzIHByb3ZpZGUgZGVmYXVsdCBzaXppbmcgdmFsdWVzXG4gICAgICAgICAqIHRoYXQgZGV2ZWxvcGVycyBjYW4gY3VzdG9taXplLlxuICAgICAgICAgKiBUaGUgZ29hbCBpcyB0byBwcm92aWRlIGFuIG92ZXJsYXkgdGhhdCBpc1xuICAgICAgICAgKiByZWFzb25hYmx5IHNpemVkIHdpdGggYSBkYXRldGltZSB0aGF0XG4gICAgICAgICAqIGZpbGxzIHRoZSBlbnRpcmUgY29udGFpbmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmVzZW50T3ZlcmxheSA9IGFzeW5jIChldiwgbmVlZHNQcmVzZW50YXRpb25DaGFuZ2UsIHRyaWdnZXJFbCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBvdmVybGF5RWwgfSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoIW92ZXJsYXlFbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvdmVybGF5RWwudGFnTmFtZSA9PT0gJ0lPTi1QT1BPVkVSJykge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZW4gdGhlIHByZXNlbnRhdGlvbiBvbiBkYXRldGltZSBjaGFuZ2VzLFxuICAgICAgICAgICAgICAgICAqIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIGNvbXBvbmVudCB0byByZS1yZW5kZXJcbiAgICAgICAgICAgICAgICAgKiBvdGhlcndpc2UgdGhlIGNvbXB1dGVkIHdpZHRoL2hlaWdodCBvZiB0aGVcbiAgICAgICAgICAgICAgICAgKiBwb3BvdmVyIGNvbnRlbnQgd2lsbCBiZSB3cm9uZywgY2F1c2luZ1xuICAgICAgICAgICAgICAgICAqIHRoZSBwb3BvdmVyIHRvIG5vdCBhbGlnbiB3aXRoIHRoZSB0cmlnZ2VyIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKG5lZWRzUHJlc2VudGF0aW9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2FpdEZvckRhdGV0aW1lQ2hhbmdlcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXZSBwYXNzIHRoZSB0cmlnZ2VyIGJ1dHRvbiBlbGVtZW50XG4gICAgICAgICAgICAgICAgICogc28gdGhhdCB0aGUgcG9wb3ZlciBhbGlnbnMgd2l0aCB0aGUgaW5kaXZpZHVhbFxuICAgICAgICAgICAgICAgICAqIGJ1dHRvbiB0aGF0IHdhcyBjbGlja2VkLCBub3QgdGhlIGNvbXBvbmVudCBjb250YWluZXIuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgb3ZlcmxheUVsLnByZXNlbnQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBldiksIHsgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpb25TaGFkb3dUYXJnZXQ6IHRyaWdnZXJFbCxcbiAgICAgICAgICAgICAgICAgICAgfSB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdmVybGF5RWwucHJlc2VudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRhdGV0aW1lUHJlc2VudGF0aW9uID0gJ2RhdGUtdGltZSc7XG4gICAgICAgIHRoaXMuZGF0ZVRleHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudGltZVRleHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZGF0ZXRpbWVBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEJ1dHRvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jb2xvciA9ICdwcmltYXJ5JztcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRhdGV0aW1lID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBhc3luYyBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICAgICAgY29uc3QgeyBkYXRldGltZSB9ID0gdGhpcztcbiAgICAgICAgaWYgKCFkYXRldGltZSkge1xuICAgICAgICAgICAgcHJpbnRJb25FcnJvcignQW4gSUQgYXNzb2NpYXRlZCB3aXRoIGFuIGlvbi1kYXRldGltZSBpbnN0YW5jZSBpcyByZXF1aXJlZCBmb3IgaW9uLWRhdGV0aW1lLWJ1dHRvbiB0byBmdW5jdGlvbiBwcm9wZXJseS4nLCB0aGlzLmVsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRldGltZUVsID0gKHRoaXMuZGF0ZXRpbWVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRhdGV0aW1lKSk7XG4gICAgICAgIGlmICghZGF0ZXRpbWVFbCkge1xuICAgICAgICAgICAgcHJpbnRJb25FcnJvcihgTm8gaW9uLWRhdGV0aW1lIGluc3RhbmNlIGZvdW5kIGZvciBJRCAnJHtkYXRldGltZX0nLmAsIHRoaXMuZWwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZWxlbWVudCByZWZlcmVuY2UgbXVzdCBiZSBhbiBpb24tZGF0ZXRpbWUuIFByaW50IGFuIGVycm9yXG4gICAgICAgICAqIGlmIGEgbm9uLWRhdGV0aW1lIGVsZW1lbnQgd2FzIHByb3ZpZGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGRhdGV0aW1lRWwudGFnTmFtZSAhPT0gJ0lPTi1EQVRFVElNRScpIHtcbiAgICAgICAgICAgIHByaW50SW9uRXJyb3IoYEV4cGVjdGVkIGFuIGlvbi1kYXRldGltZSBpbnN0YW5jZSBmb3IgSUQgJyR7ZGF0ZXRpbWV9JyBidXQgcmVjZWl2ZWQgJyR7ZGF0ZXRpbWVFbC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9JyBpbnN0ZWFkLmAsIGRhdGV0aW1lRWwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaW5jZSB0aGUgZGF0ZXRpbWUgY2FuIGJlIHVzZWQgaW4gYW55IGNvbnRleHQgKG92ZXJsYXlzLCBhY2NvcmRpb24sIGV0YylcbiAgICAgICAgICogd2UgdHJhY2sgd2hlbiBpdCBpcyB2aXNpYmxlIHRvIGRldGVybWluZSB3aGVuIGl0IGlzIGFjdGl2ZS5cbiAgICAgICAgICogVGhpcyBpbmZvcm1zIHdoaWNoIGJ1dHRvbiBpcyBoaWdobGlnaHRlZCBhcyB3ZWxsIGFzIHRoZVxuICAgICAgICAgKiBhcmlhLWV4cGFuZGVkIHN0YXRlLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgaW8gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV2ID0gZW50cmllc1swXTtcbiAgICAgICAgICAgIHRoaXMuZGF0ZXRpbWVBY3RpdmUgPSBldi5pc0ludGVyc2VjdGluZztcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdGhyZXNob2xkOiAwLjAxLFxuICAgICAgICB9KTtcbiAgICAgICAgaW8ub2JzZXJ2ZShkYXRldGltZUVsKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhIHJlZmVyZW5jZSB0byBhbnkgbW9kYWwvcG9wb3ZlclxuICAgICAgICAgKiB0aGUgZGF0ZXRpbWUgaXMgYmVpbmcgdXNlZCBpbiBzbyB3ZSBjYW5cbiAgICAgICAgICogY29ycmVjdGx5IHNpemUgaXQgd2hlbiBpdCBpcyBwcmVzZW50ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBvdmVybGF5RWwgPSAodGhpcy5vdmVybGF5RWwgPSBkYXRldGltZUVsLmNsb3Nlc3QoJ2lvbi1tb2RhbCwgaW9uLXBvcG92ZXInKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgLmlvbi1kYXRldGltZS1idXR0b24tb3ZlcmxheSBjbGFzcyBjb250YWluc1xuICAgICAgICAgKiBzdHlsZXMgdGhhdCBhbGxvdyBhbnkgbW9kYWwvcG9wb3ZlciB0byBiZVxuICAgICAgICAgKiBzaXplZCBhY2NvcmRpbmcgdG8gdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGRhdGV0aW1lLlxuICAgICAgICAgKiBJZiBkZXZlbG9wZXJzIHdhbnQgYSBzbWFsbGVyL2xhcmdlciBvdmVybGF5IGFsbCB0aGV5IG5lZWRcbiAgICAgICAgICogdG8gZG8gaXMgY2hhbmdlIHRoZSB3aWR0aC9oZWlnaHQgb2YgdGhlIGRhdGV0aW1lLlxuICAgICAgICAgKiBBZGRpdGlvbmFsbHksIHRoaXMgbGV0cyB1cyBhdm9pZCBoYXZpbmcgdG8gc2V0XG4gICAgICAgICAqIGV4cGxpY2l0IHdpZHRocyBvbiBlYWNoIHZhcmlhbnQgb2YgZGF0ZXRpbWUuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAob3ZlcmxheUVsKSB7XG4gICAgICAgICAgICBvdmVybGF5RWwuY2xhc3NMaXN0LmFkZCgnaW9uLWRhdGV0aW1lLWJ1dHRvbi1vdmVybGF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29tcG9uZW50T25SZWFkeShkYXRldGltZUVsLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXRldGltZVByZXNlbnRhdGlvbiA9ICh0aGlzLmRhdGV0aW1lUHJlc2VudGF0aW9uID0gZGF0ZXRpbWVFbC5wcmVzZW50YXRpb24gfHwgJ2RhdGUtdGltZScpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXQgdGhlIGluaXRpYWwgZGlzcGxheVxuICAgICAgICAgICAgICogaW4gdGhlIHJlbmRlcmVkIGJ1dHRvbnMuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogRnJvbSB0aGVyZSwgd2UgbmVlZCB0byBsaXN0ZW5cbiAgICAgICAgICAgICAqIGZvciBpb25DaGFuZ2UgdG8gYmUgZW1pdHRlZFxuICAgICAgICAgICAgICogZnJvbSBkYXRldGltZSBzbyB3ZSBrbm93IHdoZW5cbiAgICAgICAgICAgICAqIHRvIHJlLXJlbmRlciB0aGUgZGlzcGxheWVkXG4gICAgICAgICAgICAgKiB0ZXh0IGluIHRoZSBidXR0b25zLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnNldERhdGVUaW1lVGV4dCgpO1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihkYXRldGltZUVsLCAnaW9uVmFsdWVDaGFuZ2UnLCB0aGlzLnNldERhdGVUaW1lVGV4dCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbmZpZ3VyZSB0aGUgaW5pdGlhbCBzZWxlY3RlZCBidXR0b25cbiAgICAgICAgICAgICAqIGluIHRoZSBldmVudCB0aGF0IHRoZSBkYXRldGltZSBpcyBkaXNwbGF5ZWRcbiAgICAgICAgICAgICAqIHdpdGhvdXQgY2xpY2tpbmcgb25lIG9mIHRoZSBkYXRldGltZSBidXR0b25zLlxuICAgICAgICAgICAgICogRm9yIGV4YW1wbGUsIGEgZGF0ZXRpbWUgY291bGQgYmUgZXhwYW5kZWRcbiAgICAgICAgICAgICAqIGluIGFuIGFjY29yZGlvbi4gSW4gdGhpcyBjYXNlIHVzZXJzIG9ubHlcbiAgICAgICAgICAgICAqIG5lZWQgdG8gY2xpY2sgdGhlIGFjY29yZGlvbiBoZWFkZXIgdG8gc2hvd1xuICAgICAgICAgICAgICogdGhlIGRhdGV0aW1lLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzd2l0Y2ggKGRhdGV0aW1lUHJlc2VudGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGF0ZS10aW1lJzpcbiAgICAgICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgICBjYXNlICdtb250aC15ZWFyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRCdXR0b24gPSAnZGF0ZSc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RpbWUtZGF0ZSc6XG4gICAgICAgICAgICAgICAgY2FzZSAndGltZSc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRCdXR0b24gPSAndGltZSc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IGNvbG9yLCBkYXRlVGV4dCwgdGltZVRleHQsIHNlbGVjdGVkQnV0dG9uLCBkYXRldGltZUFjdGl2ZSwgZGlzYWJsZWQgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgICAgICByZXR1cm4gKGgoSG9zdCwgeyBrZXk6ICcyNmU2MDZhZjZmMDY3YTU3NzRkYjM3ZWQ0MTM4N2ZmZWJiOTQxNzc3JywgY2xhc3M6IGNyZWF0ZUNvbG9yQ2xhc3Nlcyhjb2xvciwge1xuICAgICAgICAgICAgICAgIFttb2RlXTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBbYCR7c2VsZWN0ZWRCdXR0b259LWFjdGl2ZWBdOiBkYXRldGltZUFjdGl2ZSxcbiAgICAgICAgICAgICAgICBbJ2RhdGV0aW1lLWJ1dHRvbi1kaXNhYmxlZCddOiBkaXNhYmxlZCxcbiAgICAgICAgICAgIH0pIH0sIGRhdGVUZXh0ICYmIChoKFwiYnV0dG9uXCIsIHsga2V5OiAnNmI3YWE2NmExNWI0YTZkODlkNDExZTQwNTg2ZGUyOGEyYWM5ZjM0MycsIGNsYXNzOiBcImlvbi1hY3RpdmF0YWJsZVwiLCBpZDogXCJkYXRlLWJ1dHRvblwiLCBcImFyaWEtZXhwYW5kZWRcIjogZGF0ZXRpbWVBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnLCBvbkNsaWNrOiB0aGlzLmhhbmRsZURhdGVDbGljaywgZGlzYWJsZWQ6IGRpc2FibGVkLCBwYXJ0OiBcIm5hdGl2ZVwiLCByZWY6IChlbCkgPT4gKHRoaXMuZGF0ZVRhcmdldEVsID0gZWwpIH0sIGgoXCJzbG90XCIsIHsga2V5OiAnZDQyZjM0ZmQxNjdiZTM0Mzg2MzE5ZTdlYTc4OGMyYWIwM2M5MGI4NycsIG5hbWU6IFwiZGF0ZS10YXJnZXRcIiB9LCBkYXRlVGV4dCksIG1vZGUgPT09ICdtZCcgJiYgaChcImlvbi1yaXBwbGUtZWZmZWN0XCIsIHsga2V5OiAnNDdkZDM0ZjNjMjc5OTA2NGNhYzdhNWZlMjU0NDBlY2MwNDM5NTBmMCcgfSkpKSwgdGltZVRleHQgJiYgKGgoXCJidXR0b25cIiwgeyBrZXk6ICdkNzc0MjRhMjBmYWUzMjA2NTQ3NzRjN2JmYzhhOGUyMzY5ZDNhZmUzJywgY2xhc3M6IFwiaW9uLWFjdGl2YXRhYmxlXCIsIGlkOiBcInRpbWUtYnV0dG9uXCIsIFwiYXJpYS1leHBhbmRlZFwiOiBkYXRldGltZUFjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlVGltZUNsaWNrLCBkaXNhYmxlZDogZGlzYWJsZWQsIHBhcnQ6IFwibmF0aXZlXCIsIHJlZjogKGVsKSA9PiAodGhpcy50aW1lVGFyZ2V0RWwgPSBlbCkgfSwgaChcInNsb3RcIiwgeyBrZXk6ICdhYzA4OGE3ODE0MWJiNTNmMmVmZDQ4ZGQ3NzQ1Zjg5NTRjOTIzNzhiJywgbmFtZTogXCJ0aW1lLXRhcmdldFwiIH0sIHRpbWVUZXh0KSwgbW9kZSA9PT0gJ21kJyAmJiBoKFwiaW9uLXJpcHBsZS1lZmZlY3RcIiwgeyBrZXk6ICdiM2E1OGRkZmQyOGI5Mzk2ZTI1MThmZmQ2MmEwNDVlYzEzZDhiOWQwJyB9KSkpKSk7XG4gICAgfVxuICAgIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbn07XG5EYXRldGltZUJ1dHRvbi5zdHlsZSA9IHtcbiAgICBpb3M6IElvbkRhdGV0aW1lQnV0dG9uSW9zU3R5bGUwLFxuICAgIG1kOiBJb25EYXRldGltZUJ1dHRvbk1kU3R5bGUwXG59O1xuXG5leHBvcnQgeyBEYXRldGltZUJ1dHRvbiBhcyBpb25fZGF0ZXRpbWVfYnV0dG9uIH07XG4iXSwibmFtZXMiOlsiciIsInJlZ2lzdGVySW5zdGFuY2UiLCJoIiwiZSIsIkhvc3QiLCJmIiwiZ2V0RWxlbWVudCIsImEiLCJhZGRFdmVudExpc3RlbmVyIiwiYyIsImNvbXBvbmVudE9uUmVhZHkiLCJwcmludElvbkVycm9yIiwiY3JlYXRlQ29sb3JDbGFzc2VzIiwiYiIsImdldElvbk1vZGUiLCJzIiwicGFyc2VEYXRlIiwieCIsImdldFRvZGF5IiwiTCIsImdldEhvdXJDeWNsZSIsIk4iLCJnZXRMb2NhbGl6ZWREYXRlVGltZSIsIk0iLCJnZXRMb2NhbGl6ZWRUaW1lIiwiZGF0ZXRpbWVCdXR0b25Jb3NDc3MiLCJJb25EYXRldGltZUJ1dHRvbklvc1N0eWxlMCIsImRhdGV0aW1lQnV0dG9uTWRDc3MiLCJJb25EYXRldGltZUJ1dHRvbk1kU3R5bGUwIiwiRGF0ZXRpbWVCdXR0b24iLCJjb25zdHJ1Y3RvciIsImhvc3RSZWYiLCJfdGhpcyIsImRhdGV0aW1lRWwiLCJvdmVybGF5RWwiLCJnZXRQYXJzZWREYXRlVmFsdWVzIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJBcnJheSIsImlzQXJyYXkiLCJzZXREYXRlVGltZVRleHQiLCJfYSIsIl9iIiwiX2MiLCJfZCIsIl9lIiwiZGF0ZXRpbWVQcmVzZW50YXRpb24iLCJsb2NhbGUiLCJmb3JtYXRPcHRpb25zIiwiaG91ckN5Y2xlIiwicHJlZmVyV2hlZWwiLCJtdWx0aXBsZSIsInRpdGxlU2VsZWN0ZWREYXRlc0Zvcm1hdHRlciIsInBhcnNlZFZhbHVlcyIsInBhcnNlZERhdGV0aW1lcyIsImxlbmd0aCIsImZpcnN0UGFyc2VkRGF0ZXRpbWUiLCJjb21wdXRlZEhvdXJDeWNsZSIsImRhdGVUZXh0IiwidGltZVRleHQiLCJkYXRlIiwibW9udGgiLCJkYXkiLCJ5ZWFyIiwidGltZSIsImhlYWRlclRleHQiLCJ3YWl0Rm9yRGF0ZXRpbWVDaGFuZ2VzIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9uY2UiLCJoYW5kbGVEYXRlQ2xpY2siLCJfcmVmMiIsImV2IiwibmVlZHNQcmVzZW50YXRpb25DaGFuZ2UiLCJuZWVkc0NoYW5nZSIsInByZXNlbnRhdGlvbiIsInNlbGVjdGVkQnV0dG9uIiwicHJlc2VudE92ZXJsYXkiLCJkYXRlVGFyZ2V0RWwiLCJfeCIsImFwcGx5IiwiYXJndW1lbnRzIiwiaGFuZGxlVGltZUNsaWNrIiwidGltZVRhcmdldEVsIiwiX3JlZjMiLCJ0cmlnZ2VyRWwiLCJ0YWdOYW1lIiwicHJlc2VudCIsIk9iamVjdCIsImFzc2lnbiIsImRldGFpbCIsImlvblNoYWRvd1RhcmdldCIsIl94MiIsIl94MyIsIl94NCIsImRhdGV0aW1lQWN0aXZlIiwiY29sb3IiLCJkaXNhYmxlZCIsImRhdGV0aW1lIiwiY29tcG9uZW50V2lsbExvYWQiLCJfdGhpczIiLCJlbCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0b0xvd2VyQ2FzZSIsImlvIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiaXNJbnRlcnNlY3RpbmciLCJ0aHJlc2hvbGQiLCJvYnNlcnZlIiwiY2xvc2VzdCIsImNsYXNzTGlzdCIsImFkZCIsInJlbmRlciIsIm1vZGUiLCJrZXkiLCJjbGFzcyIsImlkIiwib25DbGljayIsInBhcnQiLCJyZWYiLCJuYW1lIiwic3R5bGUiLCJpb3MiLCJtZCIsImlvbl9kYXRldGltZV9idXR0b24iXSwic291cmNlUm9vdCI6IndlYnBhY2s6Ly8vIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzBdfQ==