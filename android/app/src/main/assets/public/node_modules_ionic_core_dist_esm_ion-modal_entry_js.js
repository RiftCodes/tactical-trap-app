"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-modal_entry_js"],{

/***/ 9160:
/*!**************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-modal.entry.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ion_modal: () => (/* binding */ Modal)
/* harmony export */ });
/* harmony import */ var C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 9204);
/* harmony import */ var _index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-527b9e34.js */ 4514);
/* harmony import */ var _index_e919e353_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index-e919e353.js */ 1293);
/* harmony import */ var _framework_delegate_2eea1763_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./framework-delegate-2eea1763.js */ 9199);
/* harmony import */ var _helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helpers-78efeec3.js */ 9522);
/* harmony import */ var _lock_controller_316928be_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lock-controller-316928be.js */ 1881);
/* harmony import */ var _index_738d7504_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./index-738d7504.js */ 7243);
/* harmony import */ var _capacitor_59395cbd_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./capacitor-59395cbd.js */ 1341);
/* harmony import */ var _overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./overlays-41a5d51b.js */ 7877);
/* harmony import */ var _theme_01f3f29c_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./theme-01f3f29c.js */ 1882);
/* harmony import */ var _index_ecb55b8d_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./index-ecb55b8d.js */ 4223);
/* harmony import */ var _ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ionic-global-ca86cf32.js */ 1367);
/* harmony import */ var _keyboard_52278bd7_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./keyboard-52278bd7.js */ 1375);
/* harmony import */ var _animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./animation-eab5a4ca.js */ 1865);
/* harmony import */ var _cubic_bezier_fe2083dc_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./cubic-bezier-fe2083dc.js */ 2738);
/* harmony import */ var _index_39782642_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./index-39782642.js */ 2976);
/* harmony import */ var _index_a5d50daf_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./index-a5d50daf.js */ 6639);
/* harmony import */ var _hardware_back_button_864101a3_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./hardware-back-button-864101a3.js */ 284);
/* harmony import */ var _gesture_controller_314a54f6_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./gesture-controller-314a54f6.js */ 6611);
/* harmony import */ var _keyboard_73175e24_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./keyboard-73175e24.js */ 7726);

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */



















var Style;
(function (Style) {
  Style["Dark"] = "DARK";
  Style["Light"] = "LIGHT";
  Style["Default"] = "DEFAULT";
})(Style || (Style = {}));
const StatusBar = {
  getEngine() {
    const capacitor = (0,_capacitor_59395cbd_js__WEBPACK_IMPORTED_MODULE_7__.g)();
    if (capacitor === null || capacitor === void 0 ? void 0 : capacitor.isPluginAvailable('StatusBar')) {
      return capacitor.Plugins.StatusBar;
    }
    return undefined;
  },
  setStyle(options) {
    const engine = this.getEngine();
    if (!engine) {
      return;
    }
    engine.setStyle(options);
  },
  getStyle: function () {
    var _ref = (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const engine = this.getEngine();
      if (!engine) {
        return Style.Default;
      }
      const {
        style
      } = yield engine.getInfo();
      return style;
    });
    return function getStyle() {
      return _ref.apply(this, arguments);
    };
  }()
};

/**
 * Use y = mx + b to
 * figure out the backdrop value
 * at a particular x coordinate. This
 * is useful when the backdrop does
 * not begin to fade in until after
 * the 0 breakpoint.
 */
const getBackdropValueForSheet = (x, backdropBreakpoint) => {
  /**
   * We will use these points:
   * (backdropBreakpoint, 0)
   * (maxBreakpoint, 1)
   * We know that at the beginning breakpoint,
   * the backdrop will be hidden. We also
   * know that at the maxBreakpoint, the backdrop
   * must be fully visible. maxBreakpoint should
   * always be 1 even if the maximum value
   * of the breakpoints array is not 1 since
   * the animation runs from a progress of 0
   * to a progress of 1.
   * m = (y2 - y1) / (x2 - x1)
   *
   * This is simplified from:
   * m = (1 - 0) / (maxBreakpoint - backdropBreakpoint)
   *
   * If the backdropBreakpoint is 1, we return 0 as the
   * backdrop is completely hidden.
   *
   */
  if (backdropBreakpoint === 1) {
    return 0;
  }
  const slope = 1 / (1 - backdropBreakpoint);
  /**
   * From here, compute b which is
   * the backdrop opacity if the offset
   * is 0. If the backdrop does not
   * begin to fade in until after the
   * 0 breakpoint, this b value will be
   * negative. This is fine as we never pass
   * b directly into the animation keyframes.
   * b = y - mx
   * Use a known point: (backdropBreakpoint, 0)
   * This is simplified from:
   * b = 0 - (backdropBreakpoint * slope)
   */
  const b = -(backdropBreakpoint * slope);
  /**
   * Finally, we can now determine the
   * backdrop offset given an arbitrary
   * gesture offset.
   */
  return x * slope + b;
};
/**
 * The tablet/desktop card modal activates
 * when the window width is >= 768.
 * At that point, the presenting element
 * is not transformed, so we do not need to
 * adjust the status bar color.
 *
 */
const setCardStatusBarDark = () => {
  if (!_index_a5d50daf_js__WEBPACK_IMPORTED_MODULE_16__.w || _index_a5d50daf_js__WEBPACK_IMPORTED_MODULE_16__.w.innerWidth >= 768) {
    return;
  }
  StatusBar.setStyle({
    style: Style.Dark
  });
};
const setCardStatusBarDefault = (defaultStyle = Style.Default) => {
  if (!_index_a5d50daf_js__WEBPACK_IMPORTED_MODULE_16__.w || _index_a5d50daf_js__WEBPACK_IMPORTED_MODULE_16__.w.innerWidth >= 768) {
    return;
  }
  StatusBar.setStyle({
    style: defaultStyle
  });
};
const handleCanDismiss = /*#__PURE__*/function () {
  var _ref2 = (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (el, animation) {
    /**
     * If canDismiss is not a function
     * then we can return early. If canDismiss is `true`,
     * then canDismissBlocksGesture is `false` as canDismiss
     * will never interrupt the gesture. As a result,
     * this code block is never reached. If canDismiss is `false`,
     * then we never dismiss.
     */
    if (typeof el.canDismiss !== 'function') {
      return;
    }
    /**
     * Run the canDismiss callback.
     * If the function returns `true`,
     * then we can proceed with dismiss.
     */
    const shouldDismiss = yield el.canDismiss(undefined, _overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__.G);
    if (!shouldDismiss) {
      return;
    }
    /**
     * If canDismiss resolved after the snap
     * back animation finished, we can
     * dismiss immediately.
     *
     * If canDismiss resolved before the snap
     * back animation finished, we need to
     * wait until the snap back animation is
     * done before dismissing.
     */
    if (animation.isRunning()) {
      animation.onFinish(() => {
        el.dismiss(undefined, 'handler');
      }, {
        oneTimeCallback: true
      });
    } else {
      el.dismiss(undefined, 'handler');
    }
  });
  return function handleCanDismiss(_x, _x2) {
    return _ref2.apply(this, arguments);
  };
}();
/**
 * This function lets us simulate a realistic spring-like animation
 * when swiping down on the modal.
 * There are two forces that we need to use to compute the spring physics:
 *
 * 1. Stiffness, k: This is a measure of resistance applied a spring.
 * 2. Dampening, c: This value has the effect of reducing or preventing oscillation.
 *
 * Using these two values, we can calculate the Spring Force and the Dampening Force
 * to compute the total force applied to a spring.
 *
 * Spring Force: This force pulls a spring back into its equilibrium position.
 * Hooke's Law tells us that that spring force (FS) = kX.
 * k is the stiffness of a spring, and X is the displacement of the spring from its
 * equilibrium position. In this case, it is the amount by which the free end
 * of a spring was displaced (stretched/pushed) from its "relaxed" position.
 *
 * Dampening Force: This force slows down motion. Without it, a spring would oscillate forever.
 * The dampening force, FD, can be found via this formula: FD = -cv
 * where c the dampening value and v is velocity.
 *
 * Therefore, the resulting force that is exerted on the block is:
 * F = FS + FD = -kX - cv
 *
 * Newton's 2nd Law tells us that F = ma:
 * ma = -kX - cv.
 *
 * For Ionic's purposes, we can assume that m = 1:
 * a = -kX - cv
 *
 * Imagine a block attached to the end of a spring. At equilibrium
 * the block is at position x = 1.
 * Pressing on the block moves it to position x = 0;
 * So, to calculate the displacement, we need to take the
 * current position and subtract the previous position from it.
 * X = x - x0 = 0 - 1 = -1.
 *
 * For Ionic's purposes, we are only pushing on the spring modal
 * so we have a max position of 1.
 * As a result, we can expand displacement to this formula:
 * X = x - 1
 *
 * a = -k(x - 1) - cv
 *
 * We can represent the motion of something as a function of time: f(t) = x.
 * The derivative of position gives us the velocity: f'(t)
 * The derivative of the velocity gives us the acceleration: f''(t)
 *
 * We can substitute the formula above with these values:
 *
 * f"(t) = -k * (f(t) - 1) - c * f'(t)
 *
 * This is called a differential equation.
 *
 * We know that at t = 0, we are at x = 0 because the modal does not move: f(0) = 0
 * This means our velocity is also zero: f'(0) = 0.
 *
 * We can cheat a bit and plug the formula into Wolfram Alpha.
 * However, we need to pick stiffness and dampening values:
 * k = 0.57
 * c = 15
 *
 * I picked these as they are fairly close to native iOS's spring effect
 * with the modal.
 *
 * What we plug in is this: f(0) = 0; f'(0) = 0; f''(t) = -0.57(f(t) - 1) - 15f'(t)
 *
 * The result is a formula that lets us calculate the acceleration
 * for a given time t.
 * Note: This is the approximate form of the solution. Wolfram Alpha will
 * give you a complex differential equation too.
 */
const calculateSpringStep = t => {
  return 0.00255275 * 2.71828 ** (-14.9619 * t) - 1.00255 * 2.71828 ** (-0.0380968 * t) + 1;
};

// Defaults for the card swipe animation
const SwipeToCloseDefaults = {
  MIN_PRESENTING_SCALE: 0.915
};
const createSwipeToCloseGesture = (el, animation, statusBarStyle, onDismiss) => {
  /**
   * The step value at which a card modal
   * is eligible for dismissing via gesture.
   */
  const DISMISS_THRESHOLD = 0.5;
  const height = el.offsetHeight;
  let isOpen = false;
  let canDismissBlocksGesture = false;
  let contentEl = null;
  let scrollEl = null;
  const canDismissMaxStep = 0.2;
  let initialScrollY = true;
  let lastStep = 0;
  const getScrollY = () => {
    if (contentEl && (0,_index_e919e353_js__WEBPACK_IMPORTED_MODULE_2__.i)(contentEl)) {
      return contentEl.scrollY;
      /**
       * Custom scroll containers are intended to be
       * used with virtual scrolling, so we assume
       * there is scrolling in this case.
       */
    } else {
      return true;
    }
  };
  const canStart = detail => {
    const target = detail.event.target;
    if (target === null || !target.closest) {
      return true;
    }
    /**
     * If we are swiping on the content,
     * swiping should only be possible if
     * the content is scrolled all the way
     * to the top so that we do not interfere
     * with scrolling.
     *
     * We cannot assume that the `ion-content`
     * target will remain consistent between
     * swipes. For example, when using
     * ion-nav within a card modal it is
     * possible to swipe, push a view, and then
     * swipe again. The target content will not
     * be the same between swipes.
     */
    contentEl = (0,_index_e919e353_js__WEBPACK_IMPORTED_MODULE_2__.f)(target);
    if (contentEl) {
      /**
       * The card should never swipe to close
       * on the content with a refresher.
       * Note: We cannot solve this by making the
       * swipeToClose gesture have a higher priority
       * than the refresher gesture as the iOS native
       * refresh gesture uses a scroll listener in
       * addition to a gesture.
       *
       * Note: Do not use getScrollElement here
       * because we need this to be a synchronous
       * operation, and getScrollElement is
       * asynchronous.
       */
      if ((0,_index_e919e353_js__WEBPACK_IMPORTED_MODULE_2__.i)(contentEl)) {
        const root = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(contentEl);
        scrollEl = root.querySelector('.inner-scroll');
      } else {
        scrollEl = contentEl;
      }
      const hasRefresherInContent = !!contentEl.querySelector('ion-refresher');
      return !hasRefresherInContent && scrollEl.scrollTop === 0;
    }
    /**
     * Card should be swipeable on all
     * parts of the modal except for the footer.
     */
    const footer = target.closest('ion-footer');
    if (footer === null) {
      return true;
    }
    return false;
  };
  const onStart = detail => {
    const {
      deltaY
    } = detail;
    /**
     * Get the initial scrollY value so
     * that we can correctly reset the scrollY
     * prop when the gesture ends.
     */
    initialScrollY = getScrollY();
    /**
     * If canDismiss is anything other than `true`
     * then users should be able to swipe down
     * until a threshold is hit. At that point,
     * the card modal should not proceed any further.
     * TODO (FW-937)
     * Remove undefined check
     */
    canDismissBlocksGesture = el.canDismiss !== undefined && el.canDismiss !== true;
    /**
     * If we are pulling down, then
     * it is possible we are pulling on the
     * content. We do not want scrolling to
     * happen at the same time as the gesture.
     */
    if (deltaY > 0 && contentEl) {
      (0,_index_e919e353_js__WEBPACK_IMPORTED_MODULE_2__.d)(contentEl);
    }
    animation.progressStart(true, isOpen ? 1 : 0);
  };
  const onMove = detail => {
    const {
      deltaY
    } = detail;
    /**
     * If we are pulling down, then
     * it is possible we are pulling on the
     * content. We do not want scrolling to
     * happen at the same time as the gesture.
     */
    if (deltaY > 0 && contentEl) {
      (0,_index_e919e353_js__WEBPACK_IMPORTED_MODULE_2__.d)(contentEl);
    }
    /**
     * If we are swiping on the content
     * then the swipe gesture should only
     * happen if we are pulling down.
     *
     * However, if we pull up and
     * then down such that the scroll position
     * returns to 0, we should be able to swipe
     * the card.
     */
    const step = detail.deltaY / height;
    /**
     * Check if user is swiping down and
     * if we have a canDismiss value that
     * should block the gesture from
     * proceeding,
     */
    const isAttemptingDismissWithCanDismiss = step >= 0 && canDismissBlocksGesture;
    /**
     * If we are blocking the gesture from dismissing,
     * set the max step value so that the sheet cannot be
     * completely hidden.
     */
    const maxStep = isAttemptingDismissWithCanDismiss ? canDismissMaxStep : 0.9999;
    /**
     * If we are blocking the gesture from
     * dismissing, calculate the spring modifier value
     * this will be added to the starting breakpoint
     * value to give the gesture a spring-like feeling.
     * Note that the starting breakpoint is always 0,
     * so we omit adding 0 to the result.
     */
    const processedStep = isAttemptingDismissWithCanDismiss ? calculateSpringStep(step / maxStep) : step;
    const clampedStep = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.j)(0.0001, processedStep, maxStep);
    animation.progressStep(clampedStep);
    /**
     * When swiping down half way, the status bar style
     * should be reset to its default value.
     *
     * We track lastStep so that we do not fire these
     * functions on every onMove, only when the user has
     * crossed a certain threshold.
     */
    if (clampedStep >= DISMISS_THRESHOLD && lastStep < DISMISS_THRESHOLD) {
      setCardStatusBarDefault(statusBarStyle);
      /**
       * However, if we swipe back up, then the
       * status bar style should be set to have light
       * text on a dark background.
       */
    } else if (clampedStep < DISMISS_THRESHOLD && lastStep >= DISMISS_THRESHOLD) {
      setCardStatusBarDark();
    }
    lastStep = clampedStep;
  };
  const onEnd = detail => {
    const velocity = detail.velocityY;
    const step = detail.deltaY / height;
    const isAttemptingDismissWithCanDismiss = step >= 0 && canDismissBlocksGesture;
    const maxStep = isAttemptingDismissWithCanDismiss ? canDismissMaxStep : 0.9999;
    const processedStep = isAttemptingDismissWithCanDismiss ? calculateSpringStep(step / maxStep) : step;
    const clampedStep = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.j)(0.0001, processedStep, maxStep);
    const threshold = (detail.deltaY + velocity * 1000) / height;
    /**
     * If canDismiss blocks
     * the swipe gesture, then the
     * animation can never complete until
     * canDismiss is checked.
     */
    const shouldComplete = !isAttemptingDismissWithCanDismiss && threshold >= DISMISS_THRESHOLD;
    let newStepValue = shouldComplete ? -0.001 : 0.001;
    if (!shouldComplete) {
      animation.easing('cubic-bezier(1, 0, 0.68, 0.28)');
      newStepValue += (0,_cubic_bezier_fe2083dc_js__WEBPACK_IMPORTED_MODULE_14__.g)([0, 0], [1, 0], [0.68, 0.28], [1, 1], clampedStep)[0];
    } else {
      animation.easing('cubic-bezier(0.32, 0.72, 0, 1)');
      newStepValue += (0,_cubic_bezier_fe2083dc_js__WEBPACK_IMPORTED_MODULE_14__.g)([0, 0], [0.32, 0.72], [0, 1], [1, 1], clampedStep)[0];
    }
    const duration = shouldComplete ? computeDuration(step * height, velocity) : computeDuration((1 - clampedStep) * height, velocity);
    isOpen = shouldComplete;
    gesture.enable(false);
    if (contentEl) {
      (0,_index_e919e353_js__WEBPACK_IMPORTED_MODULE_2__.r)(contentEl, initialScrollY);
    }
    animation.onFinish(() => {
      if (!shouldComplete) {
        gesture.enable(true);
      }
    }).progressEnd(shouldComplete ? 1 : 0, newStepValue, duration);
    /**
     * If the canDismiss value blocked the gesture
     * from proceeding, then we should ignore whatever
     * shouldComplete is. Whether or not the modal
     * animation should complete is now determined by
     * canDismiss.
     *
     * If the user swiped >25% of the way
     * to the max step, then we should
     * check canDismiss. 25% was chosen
     * to avoid accidental swipes.
     */
    if (isAttemptingDismissWithCanDismiss && clampedStep > maxStep / 4) {
      handleCanDismiss(el, animation);
    } else if (shouldComplete) {
      onDismiss();
    }
  };
  const gesture = (0,_index_39782642_js__WEBPACK_IMPORTED_MODULE_15__.createGesture)({
    el,
    gestureName: 'modalSwipeToClose',
    gesturePriority: _overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__.O,
    direction: 'y',
    threshold: 10,
    canStart,
    onStart,
    onMove,
    onEnd
  });
  return gesture;
};
const computeDuration = (remaining, velocity) => {
  return (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.j)(400, remaining / Math.abs(velocity * 1.1), 500);
};
const createSheetEnterAnimation = opts => {
  const {
    currentBreakpoint,
    backdropBreakpoint,
    expandToScroll
  } = opts;
  /**
   * If the backdropBreakpoint is undefined, then the backdrop
   * should always fade in. If the backdropBreakpoint came before the
   * current breakpoint, then the backdrop should be fading in.
   */
  const shouldShowBackdrop = backdropBreakpoint === undefined || backdropBreakpoint < currentBreakpoint;
  const initialBackdrop = shouldShowBackdrop ? `calc(var(--backdrop-opacity) * ${currentBreakpoint})` : '0';
  const backdropAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)('backdropAnimation').fromTo('opacity', 0, initialBackdrop);
  if (shouldShowBackdrop) {
    backdropAnimation.beforeStyles({
      'pointer-events': 'none'
    }).afterClearStyles(['pointer-events']);
  }
  const wrapperAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)('wrapperAnimation').keyframes([{
    offset: 0,
    opacity: 1,
    transform: 'translateY(100%)'
  }, {
    offset: 1,
    opacity: 1,
    transform: `translateY(${100 - currentBreakpoint * 100}%)`
  }]);
  /**
   * This allows the content to be scrollable at any breakpoint.
   */
  const contentAnimation = !expandToScroll ? (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)('contentAnimation').keyframes([{
    offset: 0,
    opacity: 1,
    maxHeight: `${(1 - currentBreakpoint) * 100}%`
  }, {
    offset: 1,
    opacity: 1,
    maxHeight: `${currentBreakpoint * 100}%`
  }]) : undefined;
  return {
    wrapperAnimation,
    backdropAnimation,
    contentAnimation
  };
};
const createSheetLeaveAnimation = opts => {
  const {
    currentBreakpoint,
    backdropBreakpoint
  } = opts;
  /**
   * Backdrop does not always fade in from 0 to 1 if backdropBreakpoint
   * is defined, so we need to account for that offset by figuring out
   * what the current backdrop value should be.
   */
  const backdropValue = `calc(var(--backdrop-opacity) * ${getBackdropValueForSheet(currentBreakpoint, backdropBreakpoint)})`;
  const defaultBackdrop = [{
    offset: 0,
    opacity: backdropValue
  }, {
    offset: 1,
    opacity: 0
  }];
  const customBackdrop = [{
    offset: 0,
    opacity: backdropValue
  }, {
    offset: backdropBreakpoint,
    opacity: 0
  }, {
    offset: 1,
    opacity: 0
  }];
  const backdropAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)('backdropAnimation').keyframes(backdropBreakpoint !== 0 ? customBackdrop : defaultBackdrop);
  const wrapperAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)('wrapperAnimation').keyframes([{
    offset: 0,
    opacity: 1,
    transform: `translateY(${100 - currentBreakpoint * 100}%)`
  }, {
    offset: 1,
    opacity: 1,
    transform: `translateY(100%)`
  }]);
  return {
    wrapperAnimation,
    backdropAnimation
  };
};
const createEnterAnimation$1 = () => {
  const backdropAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)().fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({
    'pointer-events': 'none'
  }).afterClearStyles(['pointer-events']);
  const wrapperAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)().fromTo('transform', 'translateY(100vh)', 'translateY(0vh)');
  return {
    backdropAnimation,
    wrapperAnimation,
    contentAnimation: undefined
  };
};
/**
 * iOS Modal Enter Animation for the Card presentation style
 */
const iosEnterAnimation = (baseEl, opts) => {
  const {
    presentingEl,
    currentBreakpoint,
    expandToScroll
  } = opts;
  const root = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(baseEl);
  const {
    wrapperAnimation,
    backdropAnimation,
    contentAnimation
  } = currentBreakpoint !== undefined ? createSheetEnterAnimation(opts) : createEnterAnimation$1();
  backdropAnimation.addElement(root.querySelector('ion-backdrop'));
  wrapperAnimation.addElement(root.querySelectorAll('.modal-wrapper, .modal-shadow')).beforeStyles({
    opacity: 1
  });
  // The content animation is only added if scrolling is enabled for
  // all the breakpoints.
  !expandToScroll && (contentAnimation === null || contentAnimation === void 0 ? void 0 : contentAnimation.addElement(baseEl.querySelector('.ion-page')));
  const baseAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)('entering-base').addElement(baseEl).easing('cubic-bezier(0.32,0.72,0,1)').duration(500).addAnimation([wrapperAnimation]).beforeAddWrite(() => {
    if (expandToScroll) {
      // Scroll can only be done when the modal is fully expanded.
      return;
    }
    /**
     * There are some browsers that causes flickering when
     * dragging the content when scroll is enabled at every
     * breakpoint. This is due to the wrapper element being
     * transformed off the screen and having a snap animation.
     *
     * A workaround is to clone the footer element and append
     * it outside of the wrapper element. This way, the footer
     * is still visible and the drag can be done without
     * flickering. The original footer is hidden until the modal
     * is dismissed. This maintains the animation of the footer
     * when the modal is dismissed.
     *
     * The workaround needs to be done before the animation starts
     * so there are no flickering issues.
     */
    const ionFooter = baseEl.querySelector('ion-footer');
    /**
     * This check is needed to prevent more than one footer
     * from being appended to the shadow root.
     * Otherwise, iOS and MD enter animations would append
     * the footer twice.
     */
    const ionFooterAlreadyAppended = baseEl.shadowRoot.querySelector('ion-footer');
    if (ionFooter && !ionFooterAlreadyAppended) {
      const footerHeight = ionFooter.clientHeight;
      const clonedFooter = ionFooter.cloneNode(true);
      baseEl.shadowRoot.appendChild(clonedFooter);
      ionFooter.style.setProperty('display', 'none');
      ionFooter.setAttribute('aria-hidden', 'true');
      // Padding is added to prevent some content from being hidden.
      const page = baseEl.querySelector('.ion-page');
      page.style.setProperty('padding-bottom', `${footerHeight}px`);
    }
  });
  if (contentAnimation) {
    baseAnimation.addAnimation(contentAnimation);
  }
  if (presentingEl) {
    const isMobile = window.innerWidth < 768;
    const hasCardModal = presentingEl.tagName === 'ION-MODAL' && presentingEl.presentingElement !== undefined;
    const presentingElRoot = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(presentingEl);
    const presentingAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)().beforeStyles({
      transform: 'translateY(0)',
      'transform-origin': 'top center',
      overflow: 'hidden'
    });
    const bodyEl = document.body;
    if (isMobile) {
      /**
       * Fallback for browsers that does not support `max()` (ex: Firefox)
       * No need to worry about statusbar padding since engines like Gecko
       * are not used as the engine for standalone Cordova/Capacitor apps
       */
      const transformOffset = !CSS.supports('width', 'max(0px, 1px)') ? '30px' : 'max(30px, var(--ion-safe-area-top))';
      const modalTransform = hasCardModal ? '-10px' : transformOffset;
      const toPresentingScale = SwipeToCloseDefaults.MIN_PRESENTING_SCALE;
      const finalTransform = `translateY(${modalTransform}) scale(${toPresentingScale})`;
      presentingAnimation.afterStyles({
        transform: finalTransform
      }).beforeAddWrite(() => bodyEl.style.setProperty('background-color', 'black')).addElement(presentingEl).keyframes([{
        offset: 0,
        filter: 'contrast(1)',
        transform: 'translateY(0px) scale(1)',
        borderRadius: '0px'
      }, {
        offset: 1,
        filter: 'contrast(0.85)',
        transform: finalTransform,
        borderRadius: '10px 10px 0 0'
      }]);
      baseAnimation.addAnimation(presentingAnimation);
    } else {
      baseAnimation.addAnimation(backdropAnimation);
      if (!hasCardModal) {
        wrapperAnimation.fromTo('opacity', '0', '1');
      } else {
        const toPresentingScale = hasCardModal ? SwipeToCloseDefaults.MIN_PRESENTING_SCALE : 1;
        const finalTransform = `translateY(-10px) scale(${toPresentingScale})`;
        presentingAnimation.afterStyles({
          transform: finalTransform
        }).addElement(presentingElRoot.querySelector('.modal-wrapper')).keyframes([{
          offset: 0,
          filter: 'contrast(1)',
          transform: 'translateY(0) scale(1)'
        }, {
          offset: 1,
          filter: 'contrast(0.85)',
          transform: finalTransform
        }]);
        const shadowAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)().afterStyles({
          transform: finalTransform
        }).addElement(presentingElRoot.querySelector('.modal-shadow')).keyframes([{
          offset: 0,
          opacity: '1',
          transform: 'translateY(0) scale(1)'
        }, {
          offset: 1,
          opacity: '0',
          transform: finalTransform
        }]);
        baseAnimation.addAnimation([presentingAnimation, shadowAnimation]);
      }
    }
  } else {
    baseAnimation.addAnimation(backdropAnimation);
  }
  return baseAnimation;
};
const createLeaveAnimation$1 = () => {
  const backdropAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)().fromTo('opacity', 'var(--backdrop-opacity)', 0);
  const wrapperAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)().fromTo('transform', 'translateY(0vh)', 'translateY(100vh)');
  return {
    backdropAnimation,
    wrapperAnimation
  };
};
/**
 * iOS Modal Leave Animation
 */
const iosLeaveAnimation = (baseEl, opts, duration = 500) => {
  const {
    presentingEl,
    currentBreakpoint,
    expandToScroll
  } = opts;
  const root = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(baseEl);
  const {
    wrapperAnimation,
    backdropAnimation
  } = currentBreakpoint !== undefined ? createSheetLeaveAnimation(opts) : createLeaveAnimation$1();
  backdropAnimation.addElement(root.querySelector('ion-backdrop'));
  wrapperAnimation.addElement(root.querySelectorAll('.modal-wrapper, .modal-shadow')).beforeStyles({
    opacity: 1
  });
  const baseAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)('leaving-base').addElement(baseEl).easing('cubic-bezier(0.32,0.72,0,1)').duration(duration).addAnimation(wrapperAnimation).beforeAddWrite(() => {
    if (expandToScroll) {
      // Scroll can only be done when the modal is fully expanded.
      return;
    }
    /**
     * If expandToScroll is disabled, we need to swap
     * the visibility to the original, so the footer
     * dismisses with the modal and doesn't stay
     * until the modal is removed from the DOM.
     */
    const ionFooter = baseEl.querySelector('ion-footer');
    if (ionFooter) {
      const clonedFooter = baseEl.shadowRoot.querySelector('ion-footer');
      ionFooter.style.removeProperty('display');
      ionFooter.removeAttribute('aria-hidden');
      clonedFooter.style.setProperty('display', 'none');
      clonedFooter.setAttribute('aria-hidden', 'true');
      const page = baseEl.querySelector('.ion-page');
      page.style.removeProperty('padding-bottom');
    }
  });
  if (presentingEl) {
    const isMobile = window.innerWidth < 768;
    const hasCardModal = presentingEl.tagName === 'ION-MODAL' && presentingEl.presentingElement !== undefined;
    const presentingElRoot = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(presentingEl);
    const presentingAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)().beforeClearStyles(['transform']).afterClearStyles(['transform']).onFinish(currentStep => {
      // only reset background color if this is the last card-style modal
      if (currentStep !== 1) {
        return;
      }
      presentingEl.style.setProperty('overflow', '');
      const numModals = Array.from(bodyEl.querySelectorAll('ion-modal:not(.overlay-hidden)')).filter(m => m.presentingElement !== undefined).length;
      if (numModals <= 1) {
        bodyEl.style.setProperty('background-color', '');
      }
    });
    const bodyEl = document.body;
    if (isMobile) {
      const transformOffset = !CSS.supports('width', 'max(0px, 1px)') ? '30px' : 'max(30px, var(--ion-safe-area-top))';
      const modalTransform = hasCardModal ? '-10px' : transformOffset;
      const toPresentingScale = SwipeToCloseDefaults.MIN_PRESENTING_SCALE;
      const finalTransform = `translateY(${modalTransform}) scale(${toPresentingScale})`;
      presentingAnimation.addElement(presentingEl).keyframes([{
        offset: 0,
        filter: 'contrast(0.85)',
        transform: finalTransform,
        borderRadius: '10px 10px 0 0'
      }, {
        offset: 1,
        filter: 'contrast(1)',
        transform: 'translateY(0px) scale(1)',
        borderRadius: '0px'
      }]);
      baseAnimation.addAnimation(presentingAnimation);
    } else {
      baseAnimation.addAnimation(backdropAnimation);
      if (!hasCardModal) {
        wrapperAnimation.fromTo('opacity', '1', '0');
      } else {
        const toPresentingScale = hasCardModal ? SwipeToCloseDefaults.MIN_PRESENTING_SCALE : 1;
        const finalTransform = `translateY(-10px) scale(${toPresentingScale})`;
        presentingAnimation.addElement(presentingElRoot.querySelector('.modal-wrapper')).afterStyles({
          transform: 'translate3d(0, 0, 0)'
        }).keyframes([{
          offset: 0,
          filter: 'contrast(0.85)',
          transform: finalTransform
        }, {
          offset: 1,
          filter: 'contrast(1)',
          transform: 'translateY(0) scale(1)'
        }]);
        const shadowAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)().addElement(presentingElRoot.querySelector('.modal-shadow')).afterStyles({
          transform: 'translateY(0) scale(1)'
        }).keyframes([{
          offset: 0,
          opacity: '0',
          transform: finalTransform
        }, {
          offset: 1,
          opacity: '1',
          transform: 'translateY(0) scale(1)'
        }]);
        baseAnimation.addAnimation([presentingAnimation, shadowAnimation]);
      }
    }
  } else {
    baseAnimation.addAnimation(backdropAnimation);
  }
  return baseAnimation;
};
const createEnterAnimation = () => {
  const backdropAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)().fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({
    'pointer-events': 'none'
  }).afterClearStyles(['pointer-events']);
  const wrapperAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)().keyframes([{
    offset: 0,
    opacity: 0.01,
    transform: 'translateY(40px)'
  }, {
    offset: 1,
    opacity: 1,
    transform: `translateY(0px)`
  }]);
  return {
    backdropAnimation,
    wrapperAnimation,
    contentAnimation: undefined
  };
};
/**
 * Md Modal Enter Animation
 */
const mdEnterAnimation = (baseEl, opts) => {
  const {
    currentBreakpoint,
    expandToScroll
  } = opts;
  const root = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(baseEl);
  const {
    wrapperAnimation,
    backdropAnimation,
    contentAnimation
  } = currentBreakpoint !== undefined ? createSheetEnterAnimation(opts) : createEnterAnimation();
  backdropAnimation.addElement(root.querySelector('ion-backdrop'));
  wrapperAnimation.addElement(root.querySelector('.modal-wrapper'));
  // The content animation is only added if scrolling is enabled for
  // all the breakpoints.
  expandToScroll && (contentAnimation === null || contentAnimation === void 0 ? void 0 : contentAnimation.addElement(baseEl.querySelector('.ion-page')));
  const baseAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)().addElement(baseEl).easing('cubic-bezier(0.36,0.66,0.04,1)').duration(280).addAnimation([backdropAnimation, wrapperAnimation]).beforeAddWrite(() => {
    if (expandToScroll) {
      // Scroll can only be done when the modal is fully expanded.
      return;
    }
    /**
     * There are some browsers that causes flickering when
     * dragging the content when scroll is enabled at every
     * breakpoint. This is due to the wrapper element being
     * transformed off the screen and having a snap animation.
     *
     * A workaround is to clone the footer element and append
     * it outside of the wrapper element. This way, the footer
     * is still visible and the drag can be done without
     * flickering. The original footer is hidden until the modal
     * is dismissed. This maintains the animation of the footer
     * when the modal is dismissed.
     *
     * The workaround needs to be done before the animation starts
     * so there are no flickering issues.
     */
    const ionFooter = baseEl.querySelector('ion-footer');
    /**
     * This check is needed to prevent more than one footer
     * from being appended to the shadow root.
     * Otherwise, iOS and MD enter animations would append
     * the footer twice.
     */
    const ionFooterAlreadyAppended = baseEl.shadowRoot.querySelector('ion-footer');
    if (ionFooter && !ionFooterAlreadyAppended) {
      const footerHeight = ionFooter.clientHeight;
      const clonedFooter = ionFooter.cloneNode(true);
      baseEl.shadowRoot.appendChild(clonedFooter);
      ionFooter.style.setProperty('display', 'none');
      ionFooter.setAttribute('aria-hidden', 'true');
      // Padding is added to prevent some content from being hidden.
      const page = baseEl.querySelector('.ion-page');
      page.style.setProperty('padding-bottom', `${footerHeight}px`);
    }
  });
  if (contentAnimation) {
    baseAnimation.addAnimation(contentAnimation);
  }
  return baseAnimation;
};
const createLeaveAnimation = () => {
  const backdropAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)().fromTo('opacity', 'var(--backdrop-opacity)', 0);
  const wrapperAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)().keyframes([{
    offset: 0,
    opacity: 0.99,
    transform: `translateY(0px)`
  }, {
    offset: 1,
    opacity: 0,
    transform: 'translateY(40px)'
  }]);
  return {
    backdropAnimation,
    wrapperAnimation
  };
};
/**
 * Md Modal Leave Animation
 */
const mdLeaveAnimation = (baseEl, opts) => {
  const {
    currentBreakpoint,
    expandToScroll
  } = opts;
  const root = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(baseEl);
  const {
    wrapperAnimation,
    backdropAnimation
  } = currentBreakpoint !== undefined ? createSheetLeaveAnimation(opts) : createLeaveAnimation();
  backdropAnimation.addElement(root.querySelector('ion-backdrop'));
  wrapperAnimation.addElement(root.querySelector('.modal-wrapper'));
  const baseAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_13__.c)().easing('cubic-bezier(0.47,0,0.745,0.715)').duration(200).addAnimation([backdropAnimation, wrapperAnimation]).beforeAddWrite(() => {
    if (expandToScroll) {
      // Scroll can only be done when the modal is fully expanded.
      return;
    }
    /**
     * If expandToScroll is disabled, we need to swap
     * the visibility to the original, so the footer
     * dismisses with the modal and doesn't stay
     * until the modal is removed from the DOM.
     */
    const ionFooter = baseEl.querySelector('ion-footer');
    if (ionFooter) {
      const clonedFooter = baseEl.shadowRoot.querySelector('ion-footer');
      ionFooter.style.removeProperty('display');
      ionFooter.removeAttribute('aria-hidden');
      clonedFooter.style.setProperty('display', 'none');
      clonedFooter.setAttribute('aria-hidden', 'true');
      const page = baseEl.querySelector('.ion-page');
      page.style.removeProperty('padding-bottom');
    }
  });
  return baseAnimation;
};
const createSheetGesture = (baseEl, backdropEl, wrapperEl, initialBreakpoint, backdropBreakpoint, animation, breakpoints = [], expandToScroll, getCurrentBreakpoint, onDismiss, onBreakpointChange) => {
  // Defaults for the sheet swipe animation
  const defaultBackdrop = [{
    offset: 0,
    opacity: 'var(--backdrop-opacity)'
  }, {
    offset: 1,
    opacity: 0.01
  }];
  const customBackdrop = [{
    offset: 0,
    opacity: 'var(--backdrop-opacity)'
  }, {
    offset: 1 - backdropBreakpoint,
    opacity: 0
  }, {
    offset: 1,
    opacity: 0
  }];
  const SheetDefaults = {
    WRAPPER_KEYFRAMES: [{
      offset: 0,
      transform: 'translateY(0%)'
    }, {
      offset: 1,
      transform: 'translateY(100%)'
    }],
    BACKDROP_KEYFRAMES: backdropBreakpoint !== 0 ? customBackdrop : defaultBackdrop,
    CONTENT_KEYFRAMES: [{
      offset: 0,
      maxHeight: '100%'
    }, {
      offset: 1,
      maxHeight: '0%'
    }]
  };
  const contentEl = baseEl.querySelector('ion-content');
  const height = wrapperEl.clientHeight;
  let currentBreakpoint = initialBreakpoint;
  let offset = 0;
  let canDismissBlocksGesture = false;
  let cachedScrollEl = null;
  const canDismissMaxStep = 0.95;
  const maxBreakpoint = breakpoints[breakpoints.length - 1];
  const minBreakpoint = breakpoints[0];
  const wrapperAnimation = animation.childAnimations.find(ani => ani.id === 'wrapperAnimation');
  const backdropAnimation = animation.childAnimations.find(ani => ani.id === 'backdropAnimation');
  const contentAnimation = animation.childAnimations.find(ani => ani.id === 'contentAnimation');
  const enableBackdrop = () => {
    baseEl.style.setProperty('pointer-events', 'auto');
    backdropEl.style.setProperty('pointer-events', 'auto');
    /**
     * When the backdrop is enabled, elements such
     * as inputs should not be focusable outside
     * the sheet.
     */
    baseEl.classList.remove(_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__.F);
  };
  const disableBackdrop = () => {
    baseEl.style.setProperty('pointer-events', 'none');
    backdropEl.style.setProperty('pointer-events', 'none');
    /**
     * When the backdrop is enabled, elements such
     * as inputs should not be focusable outside
     * the sheet.
     * Adding this class disables focus trapping
     * for the sheet temporarily.
     */
    baseEl.classList.add(_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__.F);
  };
  /**
   * Toggles the visible modal footer when `expandToScroll` is disabled.
   * @param footer The footer to show.
   */
  const swapFooterVisibility = footer => {
    const originalFooter = baseEl.querySelector('ion-footer');
    if (!originalFooter) {
      return;
    }
    const clonedFooter = wrapperEl.nextElementSibling;
    const footerToHide = footer === 'original' ? clonedFooter : originalFooter;
    const footerToShow = footer === 'original' ? originalFooter : clonedFooter;
    footerToShow.style.removeProperty('display');
    footerToShow.removeAttribute('aria-hidden');
    const page = baseEl.querySelector('.ion-page');
    if (footer === 'original') {
      page.style.removeProperty('padding-bottom');
    } else {
      const pagePadding = footerToShow.clientHeight;
      page.style.setProperty('padding-bottom', `${pagePadding}px`);
    }
    footerToHide.style.setProperty('display', 'none');
    footerToHide.setAttribute('aria-hidden', 'true');
  };
  /**
   * After the entering animation completes,
   * we need to set the animation to go from
   * offset 0 to offset 1 so that users can
   * swipe in any direction. We then set the
   * animation offset to the current breakpoint
   * so there is no flickering.
   */
  if (wrapperAnimation && backdropAnimation) {
    wrapperAnimation.keyframes([...SheetDefaults.WRAPPER_KEYFRAMES]);
    backdropAnimation.keyframes([...SheetDefaults.BACKDROP_KEYFRAMES]);
    contentAnimation === null || contentAnimation === void 0 ? void 0 : contentAnimation.keyframes([...SheetDefaults.CONTENT_KEYFRAMES]);
    animation.progressStart(true, 1 - currentBreakpoint);
    /**
     * If backdrop is not enabled, then content
     * behind modal should be clickable. To do this, we need
     * to remove pointer-events from ion-modal as a whole.
     * ion-backdrop and .modal-wrapper always have pointer-events: auto
     * applied, so the modal content can still be interacted with.
     */
    const shouldEnableBackdrop = currentBreakpoint > backdropBreakpoint;
    if (shouldEnableBackdrop) {
      enableBackdrop();
    } else {
      disableBackdrop();
    }
  }
  if (contentEl && currentBreakpoint !== maxBreakpoint && expandToScroll) {
    contentEl.scrollY = false;
  }
  const canStart = detail => {
    /**
     * If we are swiping on the content, swiping should only be possible if the content
     * is scrolled all the way to the top so that we do not interfere with scrolling.
     *
     * We cannot assume that the `ion-content` target will remain consistent between swipes.
     * For example, when using ion-nav within a modal it is possible to swipe, push a view,
     * and then swipe again. The target content will not be the same between swipes.
     */
    const contentEl = (0,_index_e919e353_js__WEBPACK_IMPORTED_MODULE_2__.f)(detail.event.target);
    currentBreakpoint = getCurrentBreakpoint();
    /**
     * If `expandToScroll` is disabled, we should not allow the swipe gesture
     * to start if the content is not scrolled to the top.
     */
    if (!expandToScroll && contentEl) {
      const scrollEl = (0,_index_e919e353_js__WEBPACK_IMPORTED_MODULE_2__.i)(contentEl) ? (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(contentEl).querySelector('.inner-scroll') : contentEl;
      return scrollEl.scrollTop === 0;
    }
    if (currentBreakpoint === 1 && contentEl) {
      /**
       * The modal should never swipe to close on the content with a refresher.
       * Note 1: We cannot solve this by making this gesture have a higher priority than
       * the refresher gesture as the iOS native refresh gesture uses a scroll listener in
       * addition to a gesture.
       *
       * Note 2: Do not use getScrollElement here because we need this to be a synchronous
       * operation, and getScrollElement is asynchronous.
       */
      const scrollEl = (0,_index_e919e353_js__WEBPACK_IMPORTED_MODULE_2__.i)(contentEl) ? (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(contentEl).querySelector('.inner-scroll') : contentEl;
      const hasRefresherInContent = !!contentEl.querySelector('ion-refresher');
      return !hasRefresherInContent && scrollEl.scrollTop === 0;
    }
    return true;
  };
  const onStart = detail => {
    /**
     * If canDismiss is anything other than `true`
     * then users should be able to swipe down
     * until a threshold is hit. At that point,
     * the card modal should not proceed any further.
     *
     * canDismiss is never fired via gesture if there is
     * no 0 breakpoint. However, it can be fired if the user
     * presses Esc or the hardware back button.
     * TODO (FW-937)
     * Remove undefined check
     */
    canDismissBlocksGesture = baseEl.canDismiss !== undefined && baseEl.canDismiss !== true && minBreakpoint === 0;
    /**
     * Cache the scroll element reference when the gesture starts,
     * this allows us to avoid querying the DOM for the target in onMove,
     * which would impact performance significantly.
     */
    if (!expandToScroll) {
      const targetEl = (0,_index_e919e353_js__WEBPACK_IMPORTED_MODULE_2__.f)(detail.event.target);
      cachedScrollEl = targetEl && (0,_index_e919e353_js__WEBPACK_IMPORTED_MODULE_2__.i)(targetEl) ? (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(targetEl).querySelector('.inner-scroll') : targetEl;
    }
    /**
     * If expandToScroll is disabled, we need to swap
     * the footer visibility to the original, so if the modal
     * is dismissed, the footer dismisses with the modal
     * and doesn't stay on the screen after the modal is gone.
     */
    if (!expandToScroll) {
      swapFooterVisibility('original');
    }
    /**
     * If we are pulling down, then it is possible we are pulling on the content.
     * We do not want scrolling to happen at the same time as the gesture.
     */
    if (detail.deltaY > 0 && contentEl) {
      contentEl.scrollY = false;
    }
    (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.r)(() => {
      /**
       * Dismisses the open keyboard when the sheet drag gesture is started.
       * Sets the focus onto the modal element.
       */
      baseEl.focus();
    });
    animation.progressStart(true, 1 - currentBreakpoint);
  };
  const onMove = detail => {
    /**
     * If `expandToScroll` is disabled, and an upwards swipe gesture is done within
     * the scrollable content, we should not allow the swipe gesture to continue.
     */
    if (!expandToScroll && detail.deltaY <= 0 && cachedScrollEl) {
      return;
    }
    /**
     * If we are pulling down, then it is possible we are pulling on the content.
     * We do not want scrolling to happen at the same time as the gesture.
     * This accounts for when the user scrolls down, scrolls all the way up, and then
     * pulls down again such that the modal should start to move.
     */
    if (detail.deltaY > 0 && contentEl) {
      contentEl.scrollY = false;
    }
    /**
     * Given the change in gesture position on the Y axis,
     * compute where the offset of the animation should be
     * relative to where the user dragged.
     */
    const initialStep = 1 - currentBreakpoint;
    const secondToLastBreakpoint = breakpoints.length > 1 ? 1 - breakpoints[1] : undefined;
    const step = initialStep + detail.deltaY / height;
    const isAttemptingDismissWithCanDismiss = secondToLastBreakpoint !== undefined && step >= secondToLastBreakpoint && canDismissBlocksGesture;
    /**
     * If we are blocking the gesture from dismissing,
     * set the max step value so that the sheet cannot be
     * completely hidden.
     */
    const maxStep = isAttemptingDismissWithCanDismiss ? canDismissMaxStep : 0.9999;
    /**
     * If we are blocking the gesture from
     * dismissing, calculate the spring modifier value
     * this will be added to the starting breakpoint
     * value to give the gesture a spring-like feeling.
     * Note that when isAttemptingDismissWithCanDismiss is true,
     * the modifier is always added to the breakpoint that
     * appears right after the 0 breakpoint.
     *
     * Note that this modifier is essentially the progression
     * between secondToLastBreakpoint and maxStep which is
     * why we subtract secondToLastBreakpoint. This lets us get
     * the result as a value from 0 to 1.
     */
    const processedStep = isAttemptingDismissWithCanDismiss && secondToLastBreakpoint !== undefined ? secondToLastBreakpoint + calculateSpringStep((step - secondToLastBreakpoint) / (maxStep - secondToLastBreakpoint)) : step;
    offset = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.j)(0.0001, processedStep, maxStep);
    animation.progressStep(offset);
  };
  const onEnd = detail => {
    /**
     * If expandToScroll is disabled, we should not allow the moveSheetToBreakpoint
     * function to be called if the user is trying to swipe content upwards and the content
     * is not scrolled to the top.
     */
    if (!expandToScroll && detail.deltaY <= 0 && cachedScrollEl && cachedScrollEl.scrollTop > 0) {
      return;
    }
    /**
     * When the gesture releases, we need to determine
     * the closest breakpoint to snap to.
     */
    const velocity = detail.velocityY;
    const threshold = (detail.deltaY + velocity * 350) / height;
    const diff = currentBreakpoint - threshold;
    const closest = breakpoints.reduce((a, b) => {
      return Math.abs(b - diff) < Math.abs(a - diff) ? b : a;
    });
    moveSheetToBreakpoint({
      breakpoint: closest,
      breakpointOffset: offset,
      canDismiss: canDismissBlocksGesture,
      /**
       * The swipe is user-driven, so we should
       * always animate when the gesture ends.
       */
      animated: true
    });
  };
  const moveSheetToBreakpoint = options => {
    const {
      breakpoint,
      canDismiss,
      breakpointOffset,
      animated
    } = options;
    /**
     * canDismiss should only prevent snapping
     * when users are trying to dismiss. If canDismiss
     * is present but the user is trying to swipe upwards,
     * we should allow that to happen,
     */
    const shouldPreventDismiss = canDismiss && breakpoint === 0;
    const snapToBreakpoint = shouldPreventDismiss ? currentBreakpoint : breakpoint;
    const shouldRemainOpen = snapToBreakpoint !== 0;
    currentBreakpoint = 0;
    /**
     * Update the animation so that it plays from
     * the last offset to the closest snap point.
     */
    if (wrapperAnimation && backdropAnimation) {
      wrapperAnimation.keyframes([{
        offset: 0,
        transform: `translateY(${breakpointOffset * 100}%)`
      }, {
        offset: 1,
        transform: `translateY(${(1 - snapToBreakpoint) * 100}%)`
      }]);
      backdropAnimation.keyframes([{
        offset: 0,
        opacity: `calc(var(--backdrop-opacity) * ${getBackdropValueForSheet(1 - breakpointOffset, backdropBreakpoint)})`
      }, {
        offset: 1,
        opacity: `calc(var(--backdrop-opacity) * ${getBackdropValueForSheet(snapToBreakpoint, backdropBreakpoint)})`
      }]);
      if (contentAnimation) {
        /**
         * The modal content should scroll at any breakpoint when expandToScroll
         * is disabled. In order to do this, the content needs to be completely
         * viewable so scrolling can access everything. Otherwise, the default
         * behavior would show the content off the screen and only allow
         * scrolling when the sheet is fully expanded.
         */
        contentAnimation.keyframes([{
          offset: 0,
          maxHeight: `${(1 - breakpointOffset) * 100}%`
        }, {
          offset: 1,
          maxHeight: `${snapToBreakpoint * 100}%`
        }]);
      }
      animation.progressStep(0);
    }
    /**
     * Gesture should remain disabled until the
     * snapping animation completes.
     */
    gesture.enable(false);
    /**
     * If expandToScroll is disabled, we need to swap
     * the footer visibility to the cloned one so the footer
     * doesn't flicker when the sheet's height is animated.
     */
    if (!expandToScroll && shouldRemainOpen) {
      swapFooterVisibility('cloned');
    }
    if (shouldPreventDismiss) {
      handleCanDismiss(baseEl, animation);
    } else if (!shouldRemainOpen) {
      onDismiss();
    }
    /**
     * Enables scrolling immediately if the sheet is about to fully expand
     * or if it allows scrolling at any breakpoint. Without this, there would
     * be a ~500ms delay while the modal animation completes, causing a
     * noticeable lag. Native iOS allows scrolling as soon as the gesture is
     * released, so we align with that behavior.
     */
    if (contentEl && (snapToBreakpoint === breakpoints[breakpoints.length - 1] || !expandToScroll)) {
      contentEl.scrollY = true;
    }
    return new Promise(resolve => {
      animation.onFinish(() => {
        if (shouldRemainOpen) {
          /**
           * Once the snapping animation completes,
           * we need to reset the animation to go
           * from 0 to 1 so users can swipe in any direction.
           * We then set the animation offset to the current
           * breakpoint so that it starts at the snapped position.
           */
          if (wrapperAnimation && backdropAnimation) {
            (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.r)(() => {
              wrapperAnimation.keyframes([...SheetDefaults.WRAPPER_KEYFRAMES]);
              backdropAnimation.keyframes([...SheetDefaults.BACKDROP_KEYFRAMES]);
              contentAnimation === null || contentAnimation === void 0 ? void 0 : contentAnimation.keyframes([...SheetDefaults.CONTENT_KEYFRAMES]);
              animation.progressStart(true, 1 - snapToBreakpoint);
              currentBreakpoint = snapToBreakpoint;
              onBreakpointChange(currentBreakpoint);
              /**
               * Backdrop should become enabled
               * after the backdropBreakpoint value
               */
              const shouldEnableBackdrop = currentBreakpoint > backdropBreakpoint;
              if (shouldEnableBackdrop) {
                enableBackdrop();
              } else {
                disableBackdrop();
              }
              gesture.enable(true);
              resolve();
            });
          } else {
            gesture.enable(true);
            resolve();
          }
        } else {
          resolve();
        }
        /**
         * This must be a one time callback
         * otherwise a new callback will
         * be added every time onEnd runs.
         */
      }, {
        oneTimeCallback: true
      }).progressEnd(1, 0, animated ? 500 : 0);
    });
  };
  const gesture = (0,_index_39782642_js__WEBPACK_IMPORTED_MODULE_15__.createGesture)({
    el: wrapperEl,
    gestureName: 'modalSheet',
    gesturePriority: 40,
    direction: 'y',
    threshold: 10,
    canStart,
    onStart,
    onMove,
    onEnd
  });
  return {
    gesture,
    moveSheetToBreakpoint
  };
};
const modalIosCss = ":host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:\"\"}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer ion-toolbar:first-of-type{padding-top:6px}";
const IonModalIosStyle0 = modalIosCss;
const modalMdCss = ":host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:\"\"}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}";
const IonModalMdStyle0 = modalMdCss;
const Modal = class {
  constructor(hostRef) {
    (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.didPresent = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionModalDidPresent", 7);
    this.willPresent = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionModalWillPresent", 7);
    this.willDismiss = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionModalWillDismiss", 7);
    this.didDismiss = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionModalDidDismiss", 7);
    this.ionBreakpointDidChange = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionBreakpointDidChange", 7);
    this.didPresentShorthand = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "didPresent", 7);
    this.willPresentShorthand = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "willPresent", 7);
    this.willDismissShorthand = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "willDismiss", 7);
    this.didDismissShorthand = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "didDismiss", 7);
    this.ionMount = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionMount", 7);
    this.lockController = (0,_lock_controller_316928be_js__WEBPACK_IMPORTED_MODULE_5__.c)();
    this.triggerController = (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__.e)();
    this.coreDelegate = (0,_framework_delegate_2eea1763_js__WEBPACK_IMPORTED_MODULE_3__.C)();
    this.isSheetModal = false;
    this.inheritedAttributes = {};
    this.inline = false;
    // Whether or not modal is being dismissed via gesture
    this.gestureAnimationDismissing = false;
    this.onHandleClick = () => {
      const {
        sheetTransition,
        handleBehavior
      } = this;
      if (handleBehavior !== 'cycle' || sheetTransition !== undefined) {
        /**
         * The sheet modal should not advance to the next breakpoint
         * if the handle behavior is not `cycle` or if the handle
         * is clicked while the sheet is moving to a breakpoint.
         */
        return;
      }
      this.moveToNextBreakpoint();
    };
    this.onBackdropTap = () => {
      const {
        sheetTransition
      } = this;
      if (sheetTransition !== undefined) {
        /**
         * When the handle is double clicked at the largest breakpoint,
         * it will start to move to the first breakpoint. While transitioning,
         * the backdrop will often receive the second click. We prevent the
         * backdrop from dismissing the modal while moving between breakpoints.
         */
        return;
      }
      this.dismiss(undefined, _overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__.B);
    };
    this.onLifecycle = modalEvent => {
      const el = this.usersElement;
      const name = LIFECYCLE_MAP[modalEvent.type];
      if (el && name) {
        const ev = new CustomEvent(name, {
          bubbles: false,
          cancelable: false,
          detail: modalEvent.detail
        });
        el.dispatchEvent(ev);
      }
    };
    this.presented = false;
    this.hasController = false;
    this.overlayIndex = undefined;
    this.delegate = undefined;
    this.keyboardClose = true;
    this.enterAnimation = undefined;
    this.leaveAnimation = undefined;
    this.breakpoints = undefined;
    this.expandToScroll = true;
    this.initialBreakpoint = undefined;
    this.backdropBreakpoint = 0;
    this.handle = undefined;
    this.handleBehavior = 'none';
    this.component = undefined;
    this.componentProps = undefined;
    this.cssClass = undefined;
    this.backdropDismiss = true;
    this.showBackdrop = true;
    this.animated = true;
    this.presentingElement = undefined;
    this.htmlAttributes = undefined;
    this.isOpen = false;
    this.trigger = undefined;
    this.keepContentsMounted = false;
    this.focusTrap = true;
    this.canDismiss = true;
  }
  onIsOpenChange(newValue, oldValue) {
    if (newValue === true && oldValue === false) {
      this.present();
    } else if (newValue === false && oldValue === true) {
      this.dismiss();
    }
  }
  triggerChanged() {
    const {
      trigger,
      el,
      triggerController
    } = this;
    if (trigger) {
      triggerController.addClickListener(el, trigger);
    }
  }
  breakpointsChanged(breakpoints) {
    if (breakpoints !== undefined) {
      this.sortedBreakpoints = breakpoints.sort((a, b) => a - b);
    }
  }
  connectedCallback() {
    const {
      el
    } = this;
    (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__.j)(el);
    this.triggerChanged();
  }
  disconnectedCallback() {
    this.triggerController.removeClickListener();
  }
  componentWillLoad() {
    var _a;
    const {
      breakpoints,
      initialBreakpoint,
      el,
      htmlAttributes
    } = this;
    const isSheetModal = this.isSheetModal = breakpoints !== undefined && initialBreakpoint !== undefined;
    const attributesToInherit = ['aria-label', 'role'];
    this.inheritedAttributes = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.h)(el, attributesToInherit);
    /**
     * When using a controller modal you can set attributes
     * using the htmlAttributes property. Since the above attributes
     * need to be inherited inside of the modal, we need to look
     * and see if these attributes are being set via htmlAttributes.
     *
     * We could alternatively move this to componentDidLoad to simplify the work
     * here, but we'd then need to make inheritedAttributes a State variable,
     * thus causing another render to always happen after the first render.
     */
    if (htmlAttributes !== undefined) {
      attributesToInherit.forEach(attribute => {
        const attributeValue = htmlAttributes[attribute];
        if (attributeValue) {
          /**
           * If an attribute we need to inherit was
           * set using htmlAttributes then add it to
           * inheritedAttributes and remove it from htmlAttributes.
           * This ensures the attribute is inherited and not
           * set on the host.
           *
           * In this case, if an inherited attribute is set
           * on the host element and using htmlAttributes then
           * htmlAttributes wins, but that's not a pattern that we recommend.
           * The only time you'd need htmlAttributes is when using modalController.
           */
          this.inheritedAttributes = Object.assign(Object.assign({}, this.inheritedAttributes), {
            [attribute]: htmlAttributes[attribute]
          });
          delete htmlAttributes[attribute];
        }
      });
    }
    if (isSheetModal) {
      this.currentBreakpoint = this.initialBreakpoint;
    }
    if (breakpoints !== undefined && initialBreakpoint !== undefined && !breakpoints.includes(initialBreakpoint)) {
      (0,_index_738d7504_js__WEBPACK_IMPORTED_MODULE_6__.p)('Your breakpoints array must include the initialBreakpoint value.');
    }
    if (!((_a = this.htmlAttributes) === null || _a === void 0 ? void 0 : _a.id)) {
      (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__.k)(this.el);
    }
  }
  componentDidLoad() {
    /**
     * If modal was rendered with isOpen="true"
     * then we should open modal immediately.
     */
    if (this.isOpen === true) {
      (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.r)(() => this.present());
    }
    this.breakpointsChanged(this.breakpoints);
    /**
     * When binding values in frameworks such as Angular
     * it is possible for the value to be set after the Web Component
     * initializes but before the value watcher is set up in Stencil.
     * As a result, the watcher callback may not be fired.
     * We work around this by manually calling the watcher
     * callback when the component has loaded and the watcher
     * is configured.
     */
    this.triggerChanged();
  }
  /**
   * Determines whether or not an overlay
   * is being used inline or via a controller/JS
   * and returns the correct delegate.
   * By default, subsequent calls to getDelegate
   * will use a cached version of the delegate.
   * This is useful for calling dismiss after
   * present so that the correct delegate is given.
   */
  getDelegate(force = false) {
    if (this.workingDelegate && !force) {
      return {
        delegate: this.workingDelegate,
        inline: this.inline
      };
    }
    /**
     * If using overlay inline
     * we potentially need to use the coreDelegate
     * so that this works in vanilla JS apps.
     * If a developer has presented this component
     * via a controller, then we can assume
     * the component is already in the
     * correct place.
     */
    const parentEl = this.el.parentNode;
    const inline = this.inline = parentEl !== null && !this.hasController;
    const delegate = this.workingDelegate = inline ? this.delegate || this.coreDelegate : this.delegate;
    return {
      inline,
      delegate
    };
  }
  /**
   * Determines whether or not the
   * modal is allowed to dismiss based
   * on the state of the canDismiss prop.
   */
  checkCanDismiss(data, role) {
    var _this = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        canDismiss
      } = _this;
      if (typeof canDismiss === 'function') {
        return canDismiss(data, role);
      }
      return canDismiss;
    })();
  }
  /**
   * Present the modal overlay after it has been created.
   */
  present() {
    var _this2 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const unlock = yield _this2.lockController.lock();
      if (_this2.presented) {
        unlock();
        return;
      }
      const {
        presentingElement,
        el
      } = _this2;
      /**
       * If the modal is presented multiple times (inline modals), we
       * need to reset the current breakpoint to the initial breakpoint.
       */
      _this2.currentBreakpoint = _this2.initialBreakpoint;
      const {
        inline,
        delegate
      } = _this2.getDelegate(true);
      /**
       * Emit ionMount so JS Frameworks have an opportunity
       * to add the child component to the DOM. The child
       * component will be assigned to this.usersElement below.
       */
      _this2.ionMount.emit();
      _this2.usersElement = yield (0,_framework_delegate_2eea1763_js__WEBPACK_IMPORTED_MODULE_3__.a)(delegate, el, _this2.component, ['ion-page'], _this2.componentProps, inline);
      /**
       * When using the lazy loaded build of Stencil, we need to wait
       * for every Stencil component instance to be ready before presenting
       * otherwise there can be a flash of unstyled content. With the
       * custom elements bundle we need to wait for the JS framework
       * mount the inner contents of the overlay otherwise WebKit may
       * get the transition incorrect.
       */
      if ((0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.k)(el)) {
        yield (0,_index_ecb55b8d_js__WEBPACK_IMPORTED_MODULE_10__.e)(_this2.usersElement);
        /**
         * If keepContentsMounted="true" then the
         * JS Framework has already mounted the inner
         * contents so there is no need to wait.
         * Otherwise, we need to wait for the JS
         * Framework to mount the inner contents
         * of this component.
         */
      } else if (!_this2.keepContentsMounted) {
        yield (0,_index_ecb55b8d_js__WEBPACK_IMPORTED_MODULE_10__.w)();
      }
      (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.w)(() => _this2.el.classList.add('show-modal'));
      const hasCardModal = presentingElement !== undefined;
      /**
       * We need to change the status bar at the
       * start of the animation so that it completes
       * by the time the card animation is done.
       */
      if (hasCardModal && (0,_ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_11__.b)(_this2) === 'ios') {
        // Cache the original status bar color before the modal is presented
        _this2.statusBarStyle = yield StatusBar.getStyle();
        setCardStatusBarDark();
      }
      yield (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__.f)(_this2, 'modalEnter', iosEnterAnimation, mdEnterAnimation, {
        presentingEl: presentingElement,
        currentBreakpoint: _this2.initialBreakpoint,
        backdropBreakpoint: _this2.backdropBreakpoint,
        expandToScroll: _this2.expandToScroll
      });
      /* tslint:disable-next-line */
      if (typeof window !== 'undefined') {
        /**
         * This needs to be setup before any
         * non-transition async work so it can be dereferenced
         * in the dismiss method. The dismiss method
         * only waits for the entering transition
         * to finish. It does not wait for all of the `present`
         * method to resolve.
         */
        _this2.keyboardOpenCallback = () => {
          if (_this2.gesture) {
            /**
             * When the native keyboard is opened and the webview
             * is resized, the gesture implementation will become unresponsive
             * and enter a free-scroll mode.
             *
             * When the keyboard is opened, we disable the gesture for
             * a single frame and re-enable once the contents have repositioned
             * from the keyboard placement.
             */
            _this2.gesture.enable(false);
            (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.r)(() => {
              if (_this2.gesture) {
                _this2.gesture.enable(true);
              }
            });
          }
        };
        window.addEventListener(_keyboard_52278bd7_js__WEBPACK_IMPORTED_MODULE_12__.KEYBOARD_DID_OPEN, _this2.keyboardOpenCallback);
      }
      if (_this2.isSheetModal) {
        _this2.initSheetGesture();
      } else if (hasCardModal) {
        _this2.initSwipeToClose();
      }
      unlock();
    })();
  }
  initSwipeToClose() {
    var _this3 = this;
    var _a;
    if ((0,_ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_11__.b)(this) !== 'ios') {
      return;
    }
    const {
      el
    } = this;
    // All of the elements needed for the swipe gesture
    // should be in the DOM and referenced by now, except
    // for the presenting el
    const animationBuilder = this.leaveAnimation || _ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_11__.c.get('modalLeave', iosLeaveAnimation);
    const ani = this.animation = animationBuilder(el, {
      presentingEl: this.presentingElement,
      expandToScroll: this.expandToScroll
    });
    const contentEl = (0,_index_e919e353_js__WEBPACK_IMPORTED_MODULE_2__.a)(el);
    if (!contentEl) {
      (0,_index_e919e353_js__WEBPACK_IMPORTED_MODULE_2__.p)(el);
      return;
    }
    const statusBarStyle = (_a = this.statusBarStyle) !== null && _a !== void 0 ? _a : Style.Default;
    this.gesture = createSwipeToCloseGesture(el, ani, statusBarStyle, () => {
      /**
       * While the gesture animation is finishing
       * it is possible for a user to tap the backdrop.
       * This would result in the dismiss animation
       * being played again. Typically this is avoided
       * by setting `presented = false` on the overlay
       * component; however, we cannot do that here as
       * that would prevent the element from being
       * removed from the DOM.
       */
      this.gestureAnimationDismissing = true;
      /**
       * Reset the status bar style as the dismiss animation
       * starts otherwise the status bar will be the wrong
       * color for the duration of the dismiss animation.
       * The dismiss method does this as well, but
       * in this case it's only called once the animation
       * has finished.
       */
      setCardStatusBarDefault(this.statusBarStyle);
      this.animation.onFinish(/*#__PURE__*/(0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
        yield _this3.dismiss(undefined, _overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__.G);
        _this3.gestureAnimationDismissing = false;
      }));
    });
    this.gesture.enable(true);
  }
  initSheetGesture() {
    const {
      wrapperEl,
      initialBreakpoint,
      backdropBreakpoint
    } = this;
    if (!wrapperEl || initialBreakpoint === undefined) {
      return;
    }
    const animationBuilder = this.enterAnimation || _ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_11__.c.get('modalEnter', iosEnterAnimation);
    const ani = this.animation = animationBuilder(this.el, {
      presentingEl: this.presentingElement,
      currentBreakpoint: initialBreakpoint,
      backdropBreakpoint,
      expandToScroll: this.expandToScroll
    });
    ani.progressStart(true, 1);
    const {
      gesture,
      moveSheetToBreakpoint
    } = createSheetGesture(this.el, this.backdropEl, wrapperEl, initialBreakpoint, backdropBreakpoint, ani, this.sortedBreakpoints, this.expandToScroll, () => {
      var _a;
      return (_a = this.currentBreakpoint) !== null && _a !== void 0 ? _a : 0;
    }, () => this.sheetOnDismiss(), breakpoint => {
      if (this.currentBreakpoint !== breakpoint) {
        this.currentBreakpoint = breakpoint;
        this.ionBreakpointDidChange.emit({
          breakpoint
        });
      }
    });
    this.gesture = gesture;
    this.moveSheetToBreakpoint = moveSheetToBreakpoint;
    this.gesture.enable(true);
  }
  sheetOnDismiss() {
    var _this4 = this;
    /**
     * While the gesture animation is finishing
     * it is possible for a user to tap the backdrop.
     * This would result in the dismiss animation
     * being played again. Typically this is avoided
     * by setting `presented = false` on the overlay
     * component; however, we cannot do that here as
     * that would prevent the element from being
     * removed from the DOM.
     */
    this.gestureAnimationDismissing = true;
    this.animation.onFinish(/*#__PURE__*/(0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this4.currentBreakpoint = 0;
      _this4.ionBreakpointDidChange.emit({
        breakpoint: _this4.currentBreakpoint
      });
      yield _this4.dismiss(undefined, _overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__.G);
      _this4.gestureAnimationDismissing = false;
    }));
  }
  /**
   * Dismiss the modal overlay after it has been presented.
   *
   * @param data Any data to emit in the dismiss events.
   * @param role The role of the element that is dismissing the modal. For example, 'cancel' or 'backdrop'.
   *
   * This is a no-op if the overlay has not been presented yet. If you want
   * to remove an overlay from the DOM that was never presented, use the
   * [remove](https://developer.mozilla.org/en-US/docs/Web/API/Element/remove) method.
   */
  dismiss(data, role) {
    var _this5 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      var _a;
      if (_this5.gestureAnimationDismissing && role !== _overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__.G) {
        return false;
      }
      /**
       * Because the canDismiss check below is async,
       * we need to claim a lock before the check happens,
       * in case the dismiss transition does run.
       */
      const unlock = yield _this5.lockController.lock();
      /**
       * If a canDismiss handler is responsible
       * for calling the dismiss method, we should
       * not run the canDismiss check again.
       */
      if (role !== 'handler' && !(yield _this5.checkCanDismiss(data, role))) {
        unlock();
        return false;
      }
      const {
        presentingElement
      } = _this5;
      /**
       * We need to start the status bar change
       * before the animation so that the change
       * finishes when the dismiss animation does.
       */
      const hasCardModal = presentingElement !== undefined;
      if (hasCardModal && (0,_ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_11__.b)(_this5) === 'ios') {
        setCardStatusBarDefault(_this5.statusBarStyle);
      }
      /* tslint:disable-next-line */
      if (typeof window !== 'undefined' && _this5.keyboardOpenCallback) {
        window.removeEventListener(_keyboard_52278bd7_js__WEBPACK_IMPORTED_MODULE_12__.KEYBOARD_DID_OPEN, _this5.keyboardOpenCallback);
        _this5.keyboardOpenCallback = undefined;
      }
      const dismissed = yield (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__.g)(_this5, data, role, 'modalLeave', iosLeaveAnimation, mdLeaveAnimation, {
        presentingEl: presentingElement,
        currentBreakpoint: (_a = _this5.currentBreakpoint) !== null && _a !== void 0 ? _a : _this5.initialBreakpoint,
        backdropBreakpoint: _this5.backdropBreakpoint,
        expandToScroll: _this5.expandToScroll
      });
      if (dismissed) {
        const {
          delegate
        } = _this5.getDelegate();
        yield (0,_framework_delegate_2eea1763_js__WEBPACK_IMPORTED_MODULE_3__.d)(delegate, _this5.usersElement);
        (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.w)(() => _this5.el.classList.remove('show-modal'));
        if (_this5.animation) {
          _this5.animation.destroy();
        }
        if (_this5.gesture) {
          _this5.gesture.destroy();
        }
      }
      _this5.currentBreakpoint = undefined;
      _this5.animation = undefined;
      unlock();
      return dismissed;
    })();
  }
  /**
   * Returns a promise that resolves when the modal did dismiss.
   */
  onDidDismiss() {
    return (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__.h)(this.el, 'ionModalDidDismiss');
  }
  /**
   * Returns a promise that resolves when the modal will dismiss.
   */
  onWillDismiss() {
    return (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__.h)(this.el, 'ionModalWillDismiss');
  }
  /**
   * Move a sheet style modal to a specific breakpoint. The breakpoint value must
   * be a value defined in your `breakpoints` array.
   */
  setCurrentBreakpoint(breakpoint) {
    var _this6 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!_this6.isSheetModal) {
        (0,_index_738d7504_js__WEBPACK_IMPORTED_MODULE_6__.p)('setCurrentBreakpoint is only supported on sheet modals.');
        return;
      }
      if (!_this6.breakpoints.includes(breakpoint)) {
        (0,_index_738d7504_js__WEBPACK_IMPORTED_MODULE_6__.p)(`Attempted to set invalid breakpoint value ${breakpoint}. Please double check that the breakpoint value is part of your defined breakpoints.`);
        return;
      }
      const {
        currentBreakpoint,
        moveSheetToBreakpoint,
        canDismiss,
        breakpoints,
        animated
      } = _this6;
      if (currentBreakpoint === breakpoint) {
        return;
      }
      if (moveSheetToBreakpoint) {
        _this6.sheetTransition = moveSheetToBreakpoint({
          breakpoint,
          breakpointOffset: 1 - currentBreakpoint,
          canDismiss: canDismiss !== undefined && canDismiss !== true && breakpoints[0] === 0,
          animated
        });
        yield _this6.sheetTransition;
        _this6.sheetTransition = undefined;
      }
    })();
  }
  /**
   * Returns the current breakpoint of a sheet style modal
   */
  getCurrentBreakpoint() {
    var _this7 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this7.currentBreakpoint;
    })();
  }
  moveToNextBreakpoint() {
    var _this8 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        breakpoints,
        currentBreakpoint
      } = _this8;
      if (!breakpoints || currentBreakpoint == null) {
        /**
         * If the modal does not have breakpoints and/or the current
         * breakpoint is not set, we can't move to the next breakpoint.
         */
        return false;
      }
      const allowedBreakpoints = breakpoints.filter(b => b !== 0);
      const currentBreakpointIndex = allowedBreakpoints.indexOf(currentBreakpoint);
      const nextBreakpointIndex = (currentBreakpointIndex + 1) % allowedBreakpoints.length;
      const nextBreakpoint = allowedBreakpoints[nextBreakpointIndex];
      /**
       * Sets the current breakpoint to the next available breakpoint.
       * If the current breakpoint is the last breakpoint, we set the current
       * breakpoint to the first non-zero breakpoint to avoid dismissing the sheet.
       */
      yield _this8.setCurrentBreakpoint(nextBreakpoint);
      return true;
    })();
  }
  render() {
    const {
      handle,
      isSheetModal,
      presentingElement,
      htmlAttributes,
      handleBehavior,
      inheritedAttributes,
      focusTrap,
      expandToScroll
    } = this;
    const showHandle = handle !== false && isSheetModal;
    const mode = (0,_ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_11__.b)(this);
    const isCardModal = presentingElement !== undefined && mode === 'ios';
    const isHandleCycle = handleBehavior === 'cycle';
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.e, Object.assign({
      key: 'e661562f9e4126136cee337e4ab8ca69ac80faae',
      "no-router": true,
      tabindex: "-1"
    }, htmlAttributes, {
      style: {
        zIndex: `${20000 + this.overlayIndex}`
      },
      class: Object.assign({
        [mode]: true,
        ['modal-default']: !isCardModal && !isSheetModal,
        [`modal-card`]: isCardModal,
        [`modal-sheet`]: isSheetModal,
        [`modal-no-expand-scroll`]: isSheetModal && !expandToScroll,
        'overlay-hidden': true,
        [_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_8__.F]: focusTrap === false
      }, (0,_theme_01f3f29c_js__WEBPACK_IMPORTED_MODULE_9__.g)(this.cssClass)),
      onIonBackdropTap: this.onBackdropTap,
      onIonModalDidPresent: this.onLifecycle,
      onIonModalWillPresent: this.onLifecycle,
      onIonModalWillDismiss: this.onLifecycle,
      onIonModalDidDismiss: this.onLifecycle
    }), (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-backdrop", {
      key: '9221692e0e111f99e80239ca44faaaed9b288425',
      ref: el => this.backdropEl = el,
      visible: this.showBackdrop,
      tappable: this.backdropDismiss,
      part: "backdrop"
    }), mode === 'ios' && (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: '20def7088d31e5eb13c3f2404c514cd8b74cd966',
      class: "modal-shadow"
    }), (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", Object.assign({
      key: 'b11229330571d4ff7b9136dfdddcd7d759ada876',
      /*
        role and aria-modal must be used on the
        same element. They must also be set inside the
        shadow DOM otherwise ion-button will not be highlighted
        when using VoiceOver: https://bugs.webkit.org/show_bug.cgi?id=247134
      */
      role: "dialog"
    }, inheritedAttributes, {
      "aria-modal": "true",
      class: "modal-wrapper ion-overlay-wrapper",
      part: "content",
      ref: el => this.wrapperEl = el
    }), showHandle && (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      key: '95b2a62477dfbc063a91910f0d37357388cfd914',
      class: "modal-handle",
      // Prevents the handle from receiving keyboard focus when it does not cycle
      tabIndex: !isHandleCycle ? -1 : 0,
      "aria-label": "Activate to adjust the size of the dialog overlaying the screen",
      onClick: isHandleCycle ? this.onHandleClick : undefined,
      part: "handle"
    }), (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      key: 'fba17dfdbdffbfd8992f473f633d172c5124dc19'
    })));
  }
  get el() {
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
  static get watchers() {
    return {
      "isOpen": ["onIsOpenChange"],
      "trigger": ["triggerChanged"]
    };
  }
};
const LIFECYCLE_MAP = {
  ionModalDidPresent: 'ionViewDidEnter',
  ionModalWillPresent: 'ionViewWillEnter',
  ionModalWillDismiss: 'ionViewWillLeave',
  ionModalDidDismiss: 'ionViewDidLeave'
};
Modal.style = {
  ios: IonModalIosStyle0,
  md: IonModalMdStyle0
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLW1vZGFsX2VudHJ5X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDNkg7QUFDZ0U7QUFDNUU7QUFDWTtBQUNuRDtBQUNmO0FBQ0M7QUFDMkw7QUFDaE07QUFDaUI7QUFDRTtBQUNmO0FBQ0k7QUFDVztBQUN0QjtBQUNMO0FBQ0g7QUFDRjtBQUNWO0FBRWhDLElBQUk2RCxLQUFLO0FBQ1QsQ0FBQyxVQUFVQSxLQUFLLEVBQUU7RUFDZEEsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLE1BQU07RUFDdEJBLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxPQUFPO0VBQ3hCQSxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsU0FBUztBQUNoQyxDQUFDLEVBQUVBLEtBQUssS0FBS0EsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDekIsTUFBTUMsU0FBUyxHQUFHO0VBQ2RDLFNBQVNBLENBQUEsRUFBRztJQUNSLE1BQU1DLFNBQVMsR0FBRzdCLHlEQUFZLENBQUMsQ0FBQztJQUNoQyxJQUFJNkIsU0FBUyxLQUFLLElBQUksSUFBSUEsU0FBUyxLQUFLLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHQSxTQUFTLENBQUNDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxFQUFFO01BQ2hHLE9BQU9ELFNBQVMsQ0FBQ0UsT0FBTyxDQUFDSixTQUFTO0lBQ3RDO0lBQ0EsT0FBT0ssU0FBUztFQUNwQixDQUFDO0VBQ0RDLFFBQVFBLENBQUNDLE9BQU8sRUFBRTtJQUNkLE1BQU1DLE1BQU0sR0FBRyxJQUFJLENBQUNQLFNBQVMsQ0FBQyxDQUFDO0lBQy9CLElBQUksQ0FBQ08sTUFBTSxFQUFFO01BQ1Q7SUFDSjtJQUNBQSxNQUFNLENBQUNGLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDO0VBQzVCLENBQUM7RUFDREUsUUFBUTtJQUFBLElB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d1ksR0FBRyxFQUFFO0lBQTJDLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDelE7RUFDQSxJQUFJcFQsRUFBRUEsQ0FBQSxFQUFHO0lBQUUsT0FBT2hGLHFEQUFVLENBQUMsSUFBSSxDQUFDO0VBQUU7RUFDcEMsV0FBV21aLFFBQVFBLENBQUEsRUFBRztJQUFFLE9BQU87TUFDM0IsUUFBUSxFQUFFLENBQUMsZ0JBQWdCLENBQUM7TUFDNUIsU0FBUyxFQUFFLENBQUMsZ0JBQWdCO0lBQ2hDLENBQUM7RUFBRTtBQUNQLENBQUM7QUFDRCxNQUFNdEcsYUFBYSxHQUFHO0VBQ2xCdUcsa0JBQWtCLEVBQUUsaUJBQWlCO0VBQ3JDQyxtQkFBbUIsRUFBRSxrQkFBa0I7RUFDdkNDLG1CQUFtQixFQUFFLGtCQUFrQjtFQUN2Q0Msa0JBQWtCLEVBQUU7QUFDeEIsQ0FBQztBQUNEdkksS0FBSyxDQUFDL00sS0FBSyxHQUFHO0VBQ1Z1VixHQUFHLEVBQUUzSSxpQkFBaUI7RUFDdEI0SSxFQUFFLEVBQUUxSTtBQUNSLENBQUMiLCJzb3VyY2VzIjpbIi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1tb2RhbC5lbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBjIGFzIGNyZWF0ZUV2ZW50LCB3IGFzIHdyaXRlVGFzaywgaCwgZSBhcyBIb3N0LCBmIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LTUyN2I5ZTM0LmpzJztcbmltcG9ydCB7IGYgYXMgZmluZENsb3Nlc3RJb25Db250ZW50LCBpIGFzIGlzSW9uQ29udGVudCwgZCBhcyBkaXNhYmxlQ29udGVudFNjcm9sbFksIHIgYXMgcmVzZXRDb250ZW50U2Nyb2xsWSwgYSBhcyBmaW5kSW9uQ29udGVudCwgcCBhcyBwcmludElvbkNvbnRlbnRFcnJvck1zZyB9IGZyb20gJy4vaW5kZXgtZTkxOWUzNTMuanMnO1xuaW1wb3J0IHsgQyBhcyBDb3JlRGVsZWdhdGUsIGEgYXMgYXR0YWNoQ29tcG9uZW50LCBkIGFzIGRldGFjaENvbXBvbmVudCB9IGZyb20gJy4vZnJhbWV3b3JrLWRlbGVnYXRlLTJlZWExNzYzLmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0RWxlbWVudFJvb3QsIGogYXMgY2xhbXAsIHIgYXMgcmFmLCBoIGFzIGluaGVyaXRBdHRyaWJ1dGVzLCBrIGFzIGhhc0xhenlCdWlsZCB9IGZyb20gJy4vaGVscGVycy03OGVmZWVjMy5qcyc7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUxvY2tDb250cm9sbGVyIH0gZnJvbSAnLi9sb2NrLWNvbnRyb2xsZXItMzE2OTI4YmUuanMnO1xuaW1wb3J0IHsgcCBhcyBwcmludElvbldhcm5pbmcgfSBmcm9tICcuL2luZGV4LTczOGQ3NTA0LmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0Q2FwYWNpdG9yIH0gZnJvbSAnLi9jYXBhY2l0b3ItNTkzOTVjYmQuanMnO1xuaW1wb3J0IHsgRyBhcyBHRVNUVVJFLCBPIGFzIE9WRVJMQVlfR0VTVFVSRV9QUklPUklUWSwgRiBhcyBGT0NVU19UUkFQX0RJU0FCTEVfQ0xBU1MsIGUgYXMgY3JlYXRlVHJpZ2dlckNvbnRyb2xsZXIsIEIgYXMgQkFDS0RST1AsIGogYXMgcHJlcGFyZU92ZXJsYXksIGsgYXMgc2V0T3ZlcmxheUlkLCBmIGFzIHByZXNlbnQsIGcgYXMgZGlzbWlzcywgaCBhcyBldmVudE1ldGhvZCB9IGZyb20gJy4vb3ZlcmxheXMtNDFhNWQ1MWIuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRDbGFzc01hcCB9IGZyb20gJy4vdGhlbWUtMDFmM2YyOWMuanMnO1xuaW1wb3J0IHsgZSBhcyBkZWVwUmVhZHksIHcgYXMgd2FpdEZvck1vdW50IH0gZnJvbSAnLi9pbmRleC1lY2I1NWI4ZC5qcyc7XG5pbXBvcnQgeyBiIGFzIGdldElvbk1vZGUsIGMgYXMgY29uZmlnIH0gZnJvbSAnLi9pb25pYy1nbG9iYWwtY2E4NmNmMzIuanMnO1xuaW1wb3J0IHsgS0VZQk9BUkRfRElEX09QRU4gfSBmcm9tICcuL2tleWJvYXJkLTUyMjc4YmQ3LmpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlQW5pbWF0aW9uIH0gZnJvbSAnLi9hbmltYXRpb24tZWFiNWE0Y2EuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRUaW1lR2l2ZW5Qcm9ncmVzc2lvbiB9IGZyb20gJy4vY3ViaWMtYmV6aWVyLWZlMjA4M2RjLmpzJztcbmltcG9ydCB7IGNyZWF0ZUdlc3R1cmUgfSBmcm9tICcuL2luZGV4LTM5NzgyNjQyLmpzJztcbmltcG9ydCB7IHcgYXMgd2luIH0gZnJvbSAnLi9pbmRleC1hNWQ1MGRhZi5qcyc7XG5pbXBvcnQgJy4vaGFyZHdhcmUtYmFjay1idXR0b24tODY0MTAxYTMuanMnO1xuaW1wb3J0ICcuL2dlc3R1cmUtY29udHJvbGxlci0zMTRhNTRmNi5qcyc7XG5pbXBvcnQgJy4va2V5Ym9hcmQtNzMxNzVlMjQuanMnO1xuXG52YXIgU3R5bGU7XG4oZnVuY3Rpb24gKFN0eWxlKSB7XG4gICAgU3R5bGVbXCJEYXJrXCJdID0gXCJEQVJLXCI7XG4gICAgU3R5bGVbXCJMaWdodFwiXSA9IFwiTElHSFRcIjtcbiAgICBTdHlsZVtcIkRlZmF1bHRcIl0gPSBcIkRFRkFVTFRcIjtcbn0pKFN0eWxlIHx8IChTdHlsZSA9IHt9KSk7XG5jb25zdCBTdGF0dXNCYXIgPSB7XG4gICAgZ2V0RW5naW5lKCkge1xuICAgICAgICBjb25zdCBjYXBhY2l0b3IgPSBnZXRDYXBhY2l0b3IoKTtcbiAgICAgICAgaWYgKGNhcGFjaXRvciA9PT0gbnVsbCB8fCBjYXBhY2l0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhcGFjaXRvci5pc1BsdWdpbkF2YWlsYWJsZSgnU3RhdHVzQmFyJykpIHtcbiAgICAgICAgICAgIHJldHVybiBjYXBhY2l0b3IuUGx1Z2lucy5TdGF0dXNCYXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHNldFN0eWxlKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZW5naW5lID0gdGhpcy5nZXRFbmdpbmUoKTtcbiAgICAgICAgaWYgKCFlbmdpbmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbmdpbmUuc2V0U3R5bGUob3B0aW9ucyk7XG4gICAgfSxcbiAgICBnZXRTdHlsZTogYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBlbmdpbmUgPSB0aGlzLmdldEVuZ2luZSgpO1xuICAgICAgICBpZiAoIWVuZ2luZSkge1xuICAgICAgICAgICAgcmV0dXJuIFN0eWxlLkRlZmF1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBzdHlsZSB9ID0gYXdhaXQgZW5naW5lLmdldEluZm8oKTtcbiAgICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH0sXG59O1xuXG4vKipcbiAqIFVzZSB5ID0gbXggKyBiIHRvXG4gKiBmaWd1cmUgb3V0IHRoZSBiYWNrZHJvcCB2YWx1ZVxuICogYXQgYSBwYXJ0aWN1bGFyIHggY29vcmRpbmF0ZS4gVGhpc1xuICogaXMgdXNlZnVsIHdoZW4gdGhlIGJhY2tkcm9wIGRvZXNcbiAqIG5vdCBiZWdpbiB0byBmYWRlIGluIHVudGlsIGFmdGVyXG4gKiB0aGUgMCBicmVha3BvaW50LlxuICovXG5jb25zdCBnZXRCYWNrZHJvcFZhbHVlRm9yU2hlZXQgPSAoeCwgYmFja2Ryb3BCcmVha3BvaW50KSA9PiB7XG4gICAgLyoqXG4gICAgICogV2Ugd2lsbCB1c2UgdGhlc2UgcG9pbnRzOlxuICAgICAqIChiYWNrZHJvcEJyZWFrcG9pbnQsIDApXG4gICAgICogKG1heEJyZWFrcG9pbnQsIDEpXG4gICAgICogV2Uga25vdyB0aGF0IGF0IHRoZSBiZWdpbm5pbmcgYnJlYWtwb2ludCxcbiAgICAgKiB0aGUgYmFja2Ryb3Agd2lsbCBiZSBoaWRkZW4uIFdlIGFsc29cbiAgICAgKiBrbm93IHRoYXQgYXQgdGhlIG1heEJyZWFrcG9pbnQsIHRoZSBiYWNrZHJvcFxuICAgICAqIG11c3QgYmUgZnVsbHkgdmlzaWJsZS4gbWF4QnJlYWtwb2ludCBzaG91bGRcbiAgICAgKiBhbHdheXMgYmUgMSBldmVuIGlmIHRoZSBtYXhpbXVtIHZhbHVlXG4gICAgICogb2YgdGhlIGJyZWFrcG9pbnRzIGFycmF5IGlzIG5vdCAxIHNpbmNlXG4gICAgICogdGhlIGFuaW1hdGlvbiBydW5zIGZyb20gYSBwcm9ncmVzcyBvZiAwXG4gICAgICogdG8gYSBwcm9ncmVzcyBvZiAxLlxuICAgICAqIG0gPSAoeTIgLSB5MSkgLyAoeDIgLSB4MSlcbiAgICAgKlxuICAgICAqIFRoaXMgaXMgc2ltcGxpZmllZCBmcm9tOlxuICAgICAqIG0gPSAoMSAtIDApIC8gKG1heEJyZWFrcG9pbnQgLSBiYWNrZHJvcEJyZWFrcG9pbnQpXG4gICAgICpcbiAgICAgKiBJZiB0aGUgYmFja2Ryb3BCcmVha3BvaW50IGlzIDEsIHdlIHJldHVybiAwIGFzIHRoZVxuICAgICAqIGJhY2tkcm9wIGlzIGNvbXBsZXRlbHkgaGlkZGVuLlxuICAgICAqXG4gICAgICovXG4gICAgaWYgKGJhY2tkcm9wQnJlYWtwb2ludCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgY29uc3Qgc2xvcGUgPSAxIC8gKDEgLSBiYWNrZHJvcEJyZWFrcG9pbnQpO1xuICAgIC8qKlxuICAgICAqIEZyb20gaGVyZSwgY29tcHV0ZSBiIHdoaWNoIGlzXG4gICAgICogdGhlIGJhY2tkcm9wIG9wYWNpdHkgaWYgdGhlIG9mZnNldFxuICAgICAqIGlzIDAuIElmIHRoZSBiYWNrZHJvcCBkb2VzIG5vdFxuICAgICAqIGJlZ2luIHRvIGZhZGUgaW4gdW50aWwgYWZ0ZXIgdGhlXG4gICAgICogMCBicmVha3BvaW50LCB0aGlzIGIgdmFsdWUgd2lsbCBiZVxuICAgICAqIG5lZ2F0aXZlLiBUaGlzIGlzIGZpbmUgYXMgd2UgbmV2ZXIgcGFzc1xuICAgICAqIGIgZGlyZWN0bHkgaW50byB0aGUgYW5pbWF0aW9uIGtleWZyYW1lcy5cbiAgICAgKiBiID0geSAtIG14XG4gICAgICogVXNlIGEga25vd24gcG9pbnQ6IChiYWNrZHJvcEJyZWFrcG9pbnQsIDApXG4gICAgICogVGhpcyBpcyBzaW1wbGlmaWVkIGZyb206XG4gICAgICogYiA9IDAgLSAoYmFja2Ryb3BCcmVha3BvaW50ICogc2xvcGUpXG4gICAgICovXG4gICAgY29uc3QgYiA9IC0oYmFja2Ryb3BCcmVha3BvaW50ICogc2xvcGUpO1xuICAgIC8qKlxuICAgICAqIEZpbmFsbHksIHdlIGNhbiBub3cgZGV0ZXJtaW5lIHRoZVxuICAgICAqIGJhY2tkcm9wIG9mZnNldCBnaXZlbiBhbiBhcmJpdHJhcnlcbiAgICAgKiBnZXN0dXJlIG9mZnNldC5cbiAgICAgKi9cbiAgICByZXR1cm4geCAqIHNsb3BlICsgYjtcbn07XG4vKipcbiAqIFRoZSB0YWJsZXQvZGVza3RvcCBjYXJkIG1vZGFsIGFjdGl2YXRlc1xuICogd2hlbiB0aGUgd2luZG93IHdpZHRoIGlzID49IDc2OC5cbiAqIEF0IHRoYXQgcG9pbnQsIHRoZSBwcmVzZW50aW5nIGVsZW1lbnRcbiAqIGlzIG5vdCB0cmFuc2Zvcm1lZCwgc28gd2UgZG8gbm90IG5lZWQgdG9cbiAqIGFkanVzdCB0aGUgc3RhdHVzIGJhciBjb2xvci5cbiAqXG4gKi9cbmNvbnN0IHNldENhcmRTdGF0dXNCYXJEYXJrID0gKCkgPT4ge1xuICAgIGlmICghd2luIHx8IHdpbi5pbm5lcldpZHRoID49IDc2OCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIFN0YXR1c0Jhci5zZXRTdHlsZSh7IHN0eWxlOiBTdHlsZS5EYXJrIH0pO1xufTtcbmNvbnN0IHNldENhcmRTdGF0dXNCYXJEZWZhdWx0ID0gKGRlZmF1bHRTdHlsZSA9IFN0eWxlLkRlZmF1bHQpID0+IHtcbiAgICBpZiAoIXdpbiB8fCB3aW4uaW5uZXJXaWR0aCA+PSA3NjgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBTdGF0dXNCYXIuc2V0U3R5bGUoeyBzdHlsZTogZGVmYXVsdFN0eWxlIH0pO1xufTtcblxuY29uc3QgaGFuZGxlQ2FuRGlzbWlzcyA9IGFzeW5jIChlbCwgYW5pbWF0aW9uKSA9PiB7XG4gICAgLyoqXG4gICAgICogSWYgY2FuRGlzbWlzcyBpcyBub3QgYSBmdW5jdGlvblxuICAgICAqIHRoZW4gd2UgY2FuIHJldHVybiBlYXJseS4gSWYgY2FuRGlzbWlzcyBpcyBgdHJ1ZWAsXG4gICAgICogdGhlbiBjYW5EaXNtaXNzQmxvY2tzR2VzdHVyZSBpcyBgZmFsc2VgIGFzIGNhbkRpc21pc3NcbiAgICAgKiB3aWxsIG5ldmVyIGludGVycnVwdCB0aGUgZ2VzdHVyZS4gQXMgYSByZXN1bHQsXG4gICAgICogdGhpcyBjb2RlIGJsb2NrIGlzIG5ldmVyIHJlYWNoZWQuIElmIGNhbkRpc21pc3MgaXMgYGZhbHNlYCxcbiAgICAgKiB0aGVuIHdlIG5ldmVyIGRpc21pc3MuXG4gICAgICovXG4gICAgaWYgKHR5cGVvZiBlbC5jYW5EaXNtaXNzICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUnVuIHRoZSBjYW5EaXNtaXNzIGNhbGxiYWNrLlxuICAgICAqIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCxcbiAgICAgKiB0aGVuIHdlIGNhbiBwcm9jZWVkIHdpdGggZGlzbWlzcy5cbiAgICAgKi9cbiAgICBjb25zdCBzaG91bGREaXNtaXNzID0gYXdhaXQgZWwuY2FuRGlzbWlzcyh1bmRlZmluZWQsIEdFU1RVUkUpO1xuICAgIGlmICghc2hvdWxkRGlzbWlzcykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIGNhbkRpc21pc3MgcmVzb2x2ZWQgYWZ0ZXIgdGhlIHNuYXBcbiAgICAgKiBiYWNrIGFuaW1hdGlvbiBmaW5pc2hlZCwgd2UgY2FuXG4gICAgICogZGlzbWlzcyBpbW1lZGlhdGVseS5cbiAgICAgKlxuICAgICAqIElmIGNhbkRpc21pc3MgcmVzb2x2ZWQgYmVmb3JlIHRoZSBzbmFwXG4gICAgICogYmFjayBhbmltYXRpb24gZmluaXNoZWQsIHdlIG5lZWQgdG9cbiAgICAgKiB3YWl0IHVudGlsIHRoZSBzbmFwIGJhY2sgYW5pbWF0aW9uIGlzXG4gICAgICogZG9uZSBiZWZvcmUgZGlzbWlzc2luZy5cbiAgICAgKi9cbiAgICBpZiAoYW5pbWF0aW9uLmlzUnVubmluZygpKSB7XG4gICAgICAgIGFuaW1hdGlvbi5vbkZpbmlzaCgoKSA9PiB7XG4gICAgICAgICAgICBlbC5kaXNtaXNzKHVuZGVmaW5lZCwgJ2hhbmRsZXInKTtcbiAgICAgICAgfSwgeyBvbmVUaW1lQ2FsbGJhY2s6IHRydWUgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlbC5kaXNtaXNzKHVuZGVmaW5lZCwgJ2hhbmRsZXInKTtcbiAgICB9XG59O1xuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGxldHMgdXMgc2ltdWxhdGUgYSByZWFsaXN0aWMgc3ByaW5nLWxpa2UgYW5pbWF0aW9uXG4gKiB3aGVuIHN3aXBpbmcgZG93biBvbiB0aGUgbW9kYWwuXG4gKiBUaGVyZSBhcmUgdHdvIGZvcmNlcyB0aGF0IHdlIG5lZWQgdG8gdXNlIHRvIGNvbXB1dGUgdGhlIHNwcmluZyBwaHlzaWNzOlxuICpcbiAqIDEuIFN0aWZmbmVzcywgazogVGhpcyBpcyBhIG1lYXN1cmUgb2YgcmVzaXN0YW5jZSBhcHBsaWVkIGEgc3ByaW5nLlxuICogMi4gRGFtcGVuaW5nLCBjOiBUaGlzIHZhbHVlIGhhcyB0aGUgZWZmZWN0IG9mIHJlZHVjaW5nIG9yIHByZXZlbnRpbmcgb3NjaWxsYXRpb24uXG4gKlxuICogVXNpbmcgdGhlc2UgdHdvIHZhbHVlcywgd2UgY2FuIGNhbGN1bGF0ZSB0aGUgU3ByaW5nIEZvcmNlIGFuZCB0aGUgRGFtcGVuaW5nIEZvcmNlXG4gKiB0byBjb21wdXRlIHRoZSB0b3RhbCBmb3JjZSBhcHBsaWVkIHRvIGEgc3ByaW5nLlxuICpcbiAqIFNwcmluZyBGb3JjZTogVGhpcyBmb3JjZSBwdWxscyBhIHNwcmluZyBiYWNrIGludG8gaXRzIGVxdWlsaWJyaXVtIHBvc2l0aW9uLlxuICogSG9va2UncyBMYXcgdGVsbHMgdXMgdGhhdCB0aGF0IHNwcmluZyBmb3JjZSAoRlMpID0ga1guXG4gKiBrIGlzIHRoZSBzdGlmZm5lc3Mgb2YgYSBzcHJpbmcsIGFuZCBYIGlzIHRoZSBkaXNwbGFjZW1lbnQgb2YgdGhlIHNwcmluZyBmcm9tIGl0c1xuICogZXF1aWxpYnJpdW0gcG9zaXRpb24uIEluIHRoaXMgY2FzZSwgaXQgaXMgdGhlIGFtb3VudCBieSB3aGljaCB0aGUgZnJlZSBlbmRcbiAqIG9mIGEgc3ByaW5nIHdhcyBkaXNwbGFjZWQgKHN0cmV0Y2hlZC9wdXNoZWQpIGZyb20gaXRzIFwicmVsYXhlZFwiIHBvc2l0aW9uLlxuICpcbiAqIERhbXBlbmluZyBGb3JjZTogVGhpcyBmb3JjZSBzbG93cyBkb3duIG1vdGlvbi4gV2l0aG91dCBpdCwgYSBzcHJpbmcgd291bGQgb3NjaWxsYXRlIGZvcmV2ZXIuXG4gKiBUaGUgZGFtcGVuaW5nIGZvcmNlLCBGRCwgY2FuIGJlIGZvdW5kIHZpYSB0aGlzIGZvcm11bGE6IEZEID0gLWN2XG4gKiB3aGVyZSBjIHRoZSBkYW1wZW5pbmcgdmFsdWUgYW5kIHYgaXMgdmVsb2NpdHkuXG4gKlxuICogVGhlcmVmb3JlLCB0aGUgcmVzdWx0aW5nIGZvcmNlIHRoYXQgaXMgZXhlcnRlZCBvbiB0aGUgYmxvY2sgaXM6XG4gKiBGID0gRlMgKyBGRCA9IC1rWCAtIGN2XG4gKlxuICogTmV3dG9uJ3MgMm5kIExhdyB0ZWxscyB1cyB0aGF0IEYgPSBtYTpcbiAqIG1hID0gLWtYIC0gY3YuXG4gKlxuICogRm9yIElvbmljJ3MgcHVycG9zZXMsIHdlIGNhbiBhc3N1bWUgdGhhdCBtID0gMTpcbiAqIGEgPSAta1ggLSBjdlxuICpcbiAqIEltYWdpbmUgYSBibG9jayBhdHRhY2hlZCB0byB0aGUgZW5kIG9mIGEgc3ByaW5nLiBBdCBlcXVpbGlicml1bVxuICogdGhlIGJsb2NrIGlzIGF0IHBvc2l0aW9uIHggPSAxLlxuICogUHJlc3Npbmcgb24gdGhlIGJsb2NrIG1vdmVzIGl0IHRvIHBvc2l0aW9uIHggPSAwO1xuICogU28sIHRvIGNhbGN1bGF0ZSB0aGUgZGlzcGxhY2VtZW50LCB3ZSBuZWVkIHRvIHRha2UgdGhlXG4gKiBjdXJyZW50IHBvc2l0aW9uIGFuZCBzdWJ0cmFjdCB0aGUgcHJldmlvdXMgcG9zaXRpb24gZnJvbSBpdC5cbiAqIFggPSB4IC0geDAgPSAwIC0gMSA9IC0xLlxuICpcbiAqIEZvciBJb25pYydzIHB1cnBvc2VzLCB3ZSBhcmUgb25seSBwdXNoaW5nIG9uIHRoZSBzcHJpbmcgbW9kYWxcbiAqIHNvIHdlIGhhdmUgYSBtYXggcG9zaXRpb24gb2YgMS5cbiAqIEFzIGEgcmVzdWx0LCB3ZSBjYW4gZXhwYW5kIGRpc3BsYWNlbWVudCB0byB0aGlzIGZvcm11bGE6XG4gKiBYID0geCAtIDFcbiAqXG4gKiBhID0gLWsoeCAtIDEpIC0gY3ZcbiAqXG4gKiBXZSBjYW4gcmVwcmVzZW50IHRoZSBtb3Rpb24gb2Ygc29tZXRoaW5nIGFzIGEgZnVuY3Rpb24gb2YgdGltZTogZih0KSA9IHguXG4gKiBUaGUgZGVyaXZhdGl2ZSBvZiBwb3NpdGlvbiBnaXZlcyB1cyB0aGUgdmVsb2NpdHk6IGYnKHQpXG4gKiBUaGUgZGVyaXZhdGl2ZSBvZiB0aGUgdmVsb2NpdHkgZ2l2ZXMgdXMgdGhlIGFjY2VsZXJhdGlvbjogZicnKHQpXG4gKlxuICogV2UgY2FuIHN1YnN0aXR1dGUgdGhlIGZvcm11bGEgYWJvdmUgd2l0aCB0aGVzZSB2YWx1ZXM6XG4gKlxuICogZlwiKHQpID0gLWsgKiAoZih0KSAtIDEpIC0gYyAqIGYnKHQpXG4gKlxuICogVGhpcyBpcyBjYWxsZWQgYSBkaWZmZXJlbnRpYWwgZXF1YXRpb24uXG4gKlxuICogV2Uga25vdyB0aGF0IGF0IHQgPSAwLCB3ZSBhcmUgYXQgeCA9IDAgYmVjYXVzZSB0aGUgbW9kYWwgZG9lcyBub3QgbW92ZTogZigwKSA9IDBcbiAqIFRoaXMgbWVhbnMgb3VyIHZlbG9jaXR5IGlzIGFsc28gemVybzogZicoMCkgPSAwLlxuICpcbiAqIFdlIGNhbiBjaGVhdCBhIGJpdCBhbmQgcGx1ZyB0aGUgZm9ybXVsYSBpbnRvIFdvbGZyYW0gQWxwaGEuXG4gKiBIb3dldmVyLCB3ZSBuZWVkIHRvIHBpY2sgc3RpZmZuZXNzIGFuZCBkYW1wZW5pbmcgdmFsdWVzOlxuICogayA9IDAuNTdcbiAqIGMgPSAxNVxuICpcbiAqIEkgcGlja2VkIHRoZXNlIGFzIHRoZXkgYXJlIGZhaXJseSBjbG9zZSB0byBuYXRpdmUgaU9TJ3Mgc3ByaW5nIGVmZmVjdFxuICogd2l0aCB0aGUgbW9kYWwuXG4gKlxuICogV2hhdCB3ZSBwbHVnIGluIGlzIHRoaXM6IGYoMCkgPSAwOyBmJygwKSA9IDA7IGYnJyh0KSA9IC0wLjU3KGYodCkgLSAxKSAtIDE1ZicodClcbiAqXG4gKiBUaGUgcmVzdWx0IGlzIGEgZm9ybXVsYSB0aGF0IGxldHMgdXMgY2FsY3VsYXRlIHRoZSBhY2NlbGVyYXRpb25cbiAqIGZvciBhIGdpdmVuIHRpbWUgdC5cbiAqIE5vdGU6IFRoaXMgaXMgdGhlIGFwcHJveGltYXRlIGZvcm0gb2YgdGhlIHNvbHV0aW9uLiBXb2xmcmFtIEFscGhhIHdpbGxcbiAqIGdpdmUgeW91IGEgY29tcGxleCBkaWZmZXJlbnRpYWwgZXF1YXRpb24gdG9vLlxuICovXG5jb25zdCBjYWxjdWxhdGVTcHJpbmdTdGVwID0gKHQpID0+IHtcbiAgICByZXR1cm4gMC4wMDI1NTI3NSAqIDIuNzE4MjggKiogKC0xNC45NjE5ICogdCkgLSAxLjAwMjU1ICogMi43MTgyOCAqKiAoLTAuMDM4MDk2OCAqIHQpICsgMTtcbn07XG5cbi8vIERlZmF1bHRzIGZvciB0aGUgY2FyZCBzd2lwZSBhbmltYXRpb25cbmNvbnN0IFN3aXBlVG9DbG9zZURlZmF1bHRzID0ge1xuICAgIE1JTl9QUkVTRU5USU5HX1NDQUxFOiAwLjkxNSxcbn07XG5jb25zdCBjcmVhdGVTd2lwZVRvQ2xvc2VHZXN0dXJlID0gKGVsLCBhbmltYXRpb24sIHN0YXR1c0JhclN0eWxlLCBvbkRpc21pc3MpID0+IHtcbiAgICAvKipcbiAgICAgKiBUaGUgc3RlcCB2YWx1ZSBhdCB3aGljaCBhIGNhcmQgbW9kYWxcbiAgICAgKiBpcyBlbGlnaWJsZSBmb3IgZGlzbWlzc2luZyB2aWEgZ2VzdHVyZS5cbiAgICAgKi9cbiAgICBjb25zdCBESVNNSVNTX1RIUkVTSE9MRCA9IDAuNTtcbiAgICBjb25zdCBoZWlnaHQgPSBlbC5vZmZzZXRIZWlnaHQ7XG4gICAgbGV0IGlzT3BlbiA9IGZhbHNlO1xuICAgIGxldCBjYW5EaXNtaXNzQmxvY2tzR2VzdHVyZSA9IGZhbHNlO1xuICAgIGxldCBjb250ZW50RWwgPSBudWxsO1xuICAgIGxldCBzY3JvbGxFbCA9IG51bGw7XG4gICAgY29uc3QgY2FuRGlzbWlzc01heFN0ZXAgPSAwLjI7XG4gICAgbGV0IGluaXRpYWxTY3JvbGxZID0gdHJ1ZTtcbiAgICBsZXQgbGFzdFN0ZXAgPSAwO1xuICAgIGNvbnN0IGdldFNjcm9sbFkgPSAoKSA9PiB7XG4gICAgICAgIGlmIChjb250ZW50RWwgJiYgaXNJb25Db250ZW50KGNvbnRlbnRFbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50RWwuc2Nyb2xsWTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ3VzdG9tIHNjcm9sbCBjb250YWluZXJzIGFyZSBpbnRlbmRlZCB0byBiZVxuICAgICAgICAgICAgICogdXNlZCB3aXRoIHZpcnR1YWwgc2Nyb2xsaW5nLCBzbyB3ZSBhc3N1bWVcbiAgICAgICAgICAgICAqIHRoZXJlIGlzIHNjcm9sbGluZyBpbiB0aGlzIGNhc2UuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjYW5TdGFydCA9IChkZXRhaWwpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZGV0YWlsLmV2ZW50LnRhcmdldDtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gbnVsbCB8fCAhdGFyZ2V0LmNsb3Nlc3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB3ZSBhcmUgc3dpcGluZyBvbiB0aGUgY29udGVudCxcbiAgICAgICAgICogc3dpcGluZyBzaG91bGQgb25seSBiZSBwb3NzaWJsZSBpZlxuICAgICAgICAgKiB0aGUgY29udGVudCBpcyBzY3JvbGxlZCBhbGwgdGhlIHdheVxuICAgICAgICAgKiB0byB0aGUgdG9wIHNvIHRoYXQgd2UgZG8gbm90IGludGVyZmVyZVxuICAgICAgICAgKiB3aXRoIHNjcm9sbGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogV2UgY2Fubm90IGFzc3VtZSB0aGF0IHRoZSBgaW9uLWNvbnRlbnRgXG4gICAgICAgICAqIHRhcmdldCB3aWxsIHJlbWFpbiBjb25zaXN0ZW50IGJldHdlZW5cbiAgICAgICAgICogc3dpcGVzLiBGb3IgZXhhbXBsZSwgd2hlbiB1c2luZ1xuICAgICAgICAgKiBpb24tbmF2IHdpdGhpbiBhIGNhcmQgbW9kYWwgaXQgaXNcbiAgICAgICAgICogcG9zc2libGUgdG8gc3dpcGUsIHB1c2ggYSB2aWV3LCBhbmQgdGhlblxuICAgICAgICAgKiBzd2lwZSBhZ2Fpbi4gVGhlIHRhcmdldCBjb250ZW50IHdpbGwgbm90XG4gICAgICAgICAqIGJlIHRoZSBzYW1lIGJldHdlZW4gc3dpcGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgY29udGVudEVsID0gZmluZENsb3Nlc3RJb25Db250ZW50KHRhcmdldCk7XG4gICAgICAgIGlmIChjb250ZW50RWwpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhlIGNhcmQgc2hvdWxkIG5ldmVyIHN3aXBlIHRvIGNsb3NlXG4gICAgICAgICAgICAgKiBvbiB0aGUgY29udGVudCB3aXRoIGEgcmVmcmVzaGVyLlxuICAgICAgICAgICAgICogTm90ZTogV2UgY2Fubm90IHNvbHZlIHRoaXMgYnkgbWFraW5nIHRoZVxuICAgICAgICAgICAgICogc3dpcGVUb0Nsb3NlIGdlc3R1cmUgaGF2ZSBhIGhpZ2hlciBwcmlvcml0eVxuICAgICAgICAgICAgICogdGhhbiB0aGUgcmVmcmVzaGVyIGdlc3R1cmUgYXMgdGhlIGlPUyBuYXRpdmVcbiAgICAgICAgICAgICAqIHJlZnJlc2ggZ2VzdHVyZSB1c2VzIGEgc2Nyb2xsIGxpc3RlbmVyIGluXG4gICAgICAgICAgICAgKiBhZGRpdGlvbiB0byBhIGdlc3R1cmUuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogTm90ZTogRG8gbm90IHVzZSBnZXRTY3JvbGxFbGVtZW50IGhlcmVcbiAgICAgICAgICAgICAqIGJlY2F1c2Ugd2UgbmVlZCB0aGlzIHRvIGJlIGEgc3luY2hyb25vdXNcbiAgICAgICAgICAgICAqIG9wZXJhdGlvbiwgYW5kIGdldFNjcm9sbEVsZW1lbnQgaXNcbiAgICAgICAgICAgICAqIGFzeW5jaHJvbm91cy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKGlzSW9uQ29udGVudChjb250ZW50RWwpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGNvbnRlbnRFbCk7XG4gICAgICAgICAgICAgICAgc2Nyb2xsRWwgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy5pbm5lci1zY3JvbGwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjcm9sbEVsID0gY29udGVudEVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGFzUmVmcmVzaGVySW5Db250ZW50ID0gISFjb250ZW50RWwucXVlcnlTZWxlY3RvcignaW9uLXJlZnJlc2hlcicpO1xuICAgICAgICAgICAgcmV0dXJuICFoYXNSZWZyZXNoZXJJbkNvbnRlbnQgJiYgc2Nyb2xsRWwuc2Nyb2xsVG9wID09PSAwO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYXJkIHNob3VsZCBiZSBzd2lwZWFibGUgb24gYWxsXG4gICAgICAgICAqIHBhcnRzIG9mIHRoZSBtb2RhbCBleGNlcHQgZm9yIHRoZSBmb290ZXIuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBmb290ZXIgPSB0YXJnZXQuY2xvc2VzdCgnaW9uLWZvb3RlcicpO1xuICAgICAgICBpZiAoZm9vdGVyID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBjb25zdCBvblN0YXJ0ID0gKGRldGFpbCkgPT4ge1xuICAgICAgICBjb25zdCB7IGRlbHRhWSB9ID0gZGV0YWlsO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBpbml0aWFsIHNjcm9sbFkgdmFsdWUgc29cbiAgICAgICAgICogdGhhdCB3ZSBjYW4gY29ycmVjdGx5IHJlc2V0IHRoZSBzY3JvbGxZXG4gICAgICAgICAqIHByb3Agd2hlbiB0aGUgZ2VzdHVyZSBlbmRzLlxuICAgICAgICAgKi9cbiAgICAgICAgaW5pdGlhbFNjcm9sbFkgPSBnZXRTY3JvbGxZKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBjYW5EaXNtaXNzIGlzIGFueXRoaW5nIG90aGVyIHRoYW4gYHRydWVgXG4gICAgICAgICAqIHRoZW4gdXNlcnMgc2hvdWxkIGJlIGFibGUgdG8gc3dpcGUgZG93blxuICAgICAgICAgKiB1bnRpbCBhIHRocmVzaG9sZCBpcyBoaXQuIEF0IHRoYXQgcG9pbnQsXG4gICAgICAgICAqIHRoZSBjYXJkIG1vZGFsIHNob3VsZCBub3QgcHJvY2VlZCBhbnkgZnVydGhlci5cbiAgICAgICAgICogVE9ETyAoRlctOTM3KVxuICAgICAgICAgKiBSZW1vdmUgdW5kZWZpbmVkIGNoZWNrXG4gICAgICAgICAqL1xuICAgICAgICBjYW5EaXNtaXNzQmxvY2tzR2VzdHVyZSA9IGVsLmNhbkRpc21pc3MgIT09IHVuZGVmaW5lZCAmJiBlbC5jYW5EaXNtaXNzICE9PSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgd2UgYXJlIHB1bGxpbmcgZG93biwgdGhlblxuICAgICAgICAgKiBpdCBpcyBwb3NzaWJsZSB3ZSBhcmUgcHVsbGluZyBvbiB0aGVcbiAgICAgICAgICogY29udGVudC4gV2UgZG8gbm90IHdhbnQgc2Nyb2xsaW5nIHRvXG4gICAgICAgICAqIGhhcHBlbiBhdCB0aGUgc2FtZSB0aW1lIGFzIHRoZSBnZXN0dXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGRlbHRhWSA+IDAgJiYgY29udGVudEVsKSB7XG4gICAgICAgICAgICBkaXNhYmxlQ29udGVudFNjcm9sbFkoY29udGVudEVsKTtcbiAgICAgICAgfVxuICAgICAgICBhbmltYXRpb24ucHJvZ3Jlc3NTdGFydCh0cnVlLCBpc09wZW4gPyAxIDogMCk7XG4gICAgfTtcbiAgICBjb25zdCBvbk1vdmUgPSAoZGV0YWlsKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZGVsdGFZIH0gPSBkZXRhaWw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB3ZSBhcmUgcHVsbGluZyBkb3duLCB0aGVuXG4gICAgICAgICAqIGl0IGlzIHBvc3NpYmxlIHdlIGFyZSBwdWxsaW5nIG9uIHRoZVxuICAgICAgICAgKiBjb250ZW50LiBXZSBkbyBub3Qgd2FudCBzY3JvbGxpbmcgdG9cbiAgICAgICAgICogaGFwcGVuIGF0IHRoZSBzYW1lIHRpbWUgYXMgdGhlIGdlc3R1cmUuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoZGVsdGFZID4gMCAmJiBjb250ZW50RWwpIHtcbiAgICAgICAgICAgIGRpc2FibGVDb250ZW50U2Nyb2xsWShjb250ZW50RWwpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB3ZSBhcmUgc3dpcGluZyBvbiB0aGUgY29udGVudFxuICAgICAgICAgKiB0aGVuIHRoZSBzd2lwZSBnZXN0dXJlIHNob3VsZCBvbmx5XG4gICAgICAgICAqIGhhcHBlbiBpZiB3ZSBhcmUgcHVsbGluZyBkb3duLlxuICAgICAgICAgKlxuICAgICAgICAgKiBIb3dldmVyLCBpZiB3ZSBwdWxsIHVwIGFuZFxuICAgICAgICAgKiB0aGVuIGRvd24gc3VjaCB0aGF0IHRoZSBzY3JvbGwgcG9zaXRpb25cbiAgICAgICAgICogcmV0dXJucyB0byAwLCB3ZSBzaG91bGQgYmUgYWJsZSB0byBzd2lwZVxuICAgICAgICAgKiB0aGUgY2FyZC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHN0ZXAgPSBkZXRhaWwuZGVsdGFZIC8gaGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgaWYgdXNlciBpcyBzd2lwaW5nIGRvd24gYW5kXG4gICAgICAgICAqIGlmIHdlIGhhdmUgYSBjYW5EaXNtaXNzIHZhbHVlIHRoYXRcbiAgICAgICAgICogc2hvdWxkIGJsb2NrIHRoZSBnZXN0dXJlIGZyb21cbiAgICAgICAgICogcHJvY2VlZGluZyxcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGlzQXR0ZW1wdGluZ0Rpc21pc3NXaXRoQ2FuRGlzbWlzcyA9IHN0ZXAgPj0gMCAmJiBjYW5EaXNtaXNzQmxvY2tzR2VzdHVyZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHdlIGFyZSBibG9ja2luZyB0aGUgZ2VzdHVyZSBmcm9tIGRpc21pc3NpbmcsXG4gICAgICAgICAqIHNldCB0aGUgbWF4IHN0ZXAgdmFsdWUgc28gdGhhdCB0aGUgc2hlZXQgY2Fubm90IGJlXG4gICAgICAgICAqIGNvbXBsZXRlbHkgaGlkZGVuLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgbWF4U3RlcCA9IGlzQXR0ZW1wdGluZ0Rpc21pc3NXaXRoQ2FuRGlzbWlzcyA/IGNhbkRpc21pc3NNYXhTdGVwIDogMC45OTk5O1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgd2UgYXJlIGJsb2NraW5nIHRoZSBnZXN0dXJlIGZyb21cbiAgICAgICAgICogZGlzbWlzc2luZywgY2FsY3VsYXRlIHRoZSBzcHJpbmcgbW9kaWZpZXIgdmFsdWVcbiAgICAgICAgICogdGhpcyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBzdGFydGluZyBicmVha3BvaW50XG4gICAgICAgICAqIHZhbHVlIHRvIGdpdmUgdGhlIGdlc3R1cmUgYSBzcHJpbmctbGlrZSBmZWVsaW5nLlxuICAgICAgICAgKiBOb3RlIHRoYXQgdGhlIHN0YXJ0aW5nIGJyZWFrcG9pbnQgaXMgYWx3YXlzIDAsXG4gICAgICAgICAqIHNvIHdlIG9taXQgYWRkaW5nIDAgdG8gdGhlIHJlc3VsdC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZFN0ZXAgPSBpc0F0dGVtcHRpbmdEaXNtaXNzV2l0aENhbkRpc21pc3MgPyBjYWxjdWxhdGVTcHJpbmdTdGVwKHN0ZXAgLyBtYXhTdGVwKSA6IHN0ZXA7XG4gICAgICAgIGNvbnN0IGNsYW1wZWRTdGVwID0gY2xhbXAoMC4wMDAxLCBwcm9jZXNzZWRTdGVwLCBtYXhTdGVwKTtcbiAgICAgICAgYW5pbWF0aW9uLnByb2dyZXNzU3RlcChjbGFtcGVkU3RlcCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHN3aXBpbmcgZG93biBoYWxmIHdheSwgdGhlIHN0YXR1cyBiYXIgc3R5bGVcbiAgICAgICAgICogc2hvdWxkIGJlIHJlc2V0IHRvIGl0cyBkZWZhdWx0IHZhbHVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXZSB0cmFjayBsYXN0U3RlcCBzbyB0aGF0IHdlIGRvIG5vdCBmaXJlIHRoZXNlXG4gICAgICAgICAqIGZ1bmN0aW9ucyBvbiBldmVyeSBvbk1vdmUsIG9ubHkgd2hlbiB0aGUgdXNlciBoYXNcbiAgICAgICAgICogY3Jvc3NlZCBhIGNlcnRhaW4gdGhyZXNob2xkLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGNsYW1wZWRTdGVwID49IERJU01JU1NfVEhSRVNIT0xEICYmIGxhc3RTdGVwIDwgRElTTUlTU19USFJFU0hPTEQpIHtcbiAgICAgICAgICAgIHNldENhcmRTdGF0dXNCYXJEZWZhdWx0KHN0YXR1c0JhclN0eWxlKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSG93ZXZlciwgaWYgd2Ugc3dpcGUgYmFjayB1cCwgdGhlbiB0aGVcbiAgICAgICAgICAgICAqIHN0YXR1cyBiYXIgc3R5bGUgc2hvdWxkIGJlIHNldCB0byBoYXZlIGxpZ2h0XG4gICAgICAgICAgICAgKiB0ZXh0IG9uIGEgZGFyayBiYWNrZ3JvdW5kLlxuICAgICAgICAgICAgICovXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2xhbXBlZFN0ZXAgPCBESVNNSVNTX1RIUkVTSE9MRCAmJiBsYXN0U3RlcCA+PSBESVNNSVNTX1RIUkVTSE9MRCkge1xuICAgICAgICAgICAgc2V0Q2FyZFN0YXR1c0JhckRhcmsoKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0U3RlcCA9IGNsYW1wZWRTdGVwO1xuICAgIH07XG4gICAgY29uc3Qgb25FbmQgPSAoZGV0YWlsKSA9PiB7XG4gICAgICAgIGNvbnN0IHZlbG9jaXR5ID0gZGV0YWlsLnZlbG9jaXR5WTtcbiAgICAgICAgY29uc3Qgc3RlcCA9IGRldGFpbC5kZWx0YVkgLyBoZWlnaHQ7XG4gICAgICAgIGNvbnN0IGlzQXR0ZW1wdGluZ0Rpc21pc3NXaXRoQ2FuRGlzbWlzcyA9IHN0ZXAgPj0gMCAmJiBjYW5EaXNtaXNzQmxvY2tzR2VzdHVyZTtcbiAgICAgICAgY29uc3QgbWF4U3RlcCA9IGlzQXR0ZW1wdGluZ0Rpc21pc3NXaXRoQ2FuRGlzbWlzcyA/IGNhbkRpc21pc3NNYXhTdGVwIDogMC45OTk5O1xuICAgICAgICBjb25zdCBwcm9jZXNzZWRTdGVwID0gaXNBdHRlbXB0aW5nRGlzbWlzc1dpdGhDYW5EaXNtaXNzID8gY2FsY3VsYXRlU3ByaW5nU3RlcChzdGVwIC8gbWF4U3RlcCkgOiBzdGVwO1xuICAgICAgICBjb25zdCBjbGFtcGVkU3RlcCA9IGNsYW1wKDAuMDAwMSwgcHJvY2Vzc2VkU3RlcCwgbWF4U3RlcCk7XG4gICAgICAgIGNvbnN0IHRocmVzaG9sZCA9IChkZXRhaWwuZGVsdGFZICsgdmVsb2NpdHkgKiAxMDAwKSAvIGhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGNhbkRpc21pc3MgYmxvY2tzXG4gICAgICAgICAqIHRoZSBzd2lwZSBnZXN0dXJlLCB0aGVuIHRoZVxuICAgICAgICAgKiBhbmltYXRpb24gY2FuIG5ldmVyIGNvbXBsZXRlIHVudGlsXG4gICAgICAgICAqIGNhbkRpc21pc3MgaXMgY2hlY2tlZC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHNob3VsZENvbXBsZXRlID0gIWlzQXR0ZW1wdGluZ0Rpc21pc3NXaXRoQ2FuRGlzbWlzcyAmJiB0aHJlc2hvbGQgPj0gRElTTUlTU19USFJFU0hPTEQ7XG4gICAgICAgIGxldCBuZXdTdGVwVmFsdWUgPSBzaG91bGRDb21wbGV0ZSA/IC0wLjAwMSA6IDAuMDAxO1xuICAgICAgICBpZiAoIXNob3VsZENvbXBsZXRlKSB7XG4gICAgICAgICAgICBhbmltYXRpb24uZWFzaW5nKCdjdWJpYy1iZXppZXIoMSwgMCwgMC42OCwgMC4yOCknKTtcbiAgICAgICAgICAgIG5ld1N0ZXBWYWx1ZSArPSBnZXRUaW1lR2l2ZW5Qcm9ncmVzc2lvbihbMCwgMF0sIFsxLCAwXSwgWzAuNjgsIDAuMjhdLCBbMSwgMV0sIGNsYW1wZWRTdGVwKVswXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFuaW1hdGlvbi5lYXNpbmcoJ2N1YmljLWJlemllcigwLjMyLCAwLjcyLCAwLCAxKScpO1xuICAgICAgICAgICAgbmV3U3RlcFZhbHVlICs9IGdldFRpbWVHaXZlblByb2dyZXNzaW9uKFswLCAwXSwgWzAuMzIsIDAuNzJdLCBbMCwgMV0sIFsxLCAxXSwgY2xhbXBlZFN0ZXApWzBdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gc2hvdWxkQ29tcGxldGVcbiAgICAgICAgICAgID8gY29tcHV0ZUR1cmF0aW9uKHN0ZXAgKiBoZWlnaHQsIHZlbG9jaXR5KVxuICAgICAgICAgICAgOiBjb21wdXRlRHVyYXRpb24oKDEgLSBjbGFtcGVkU3RlcCkgKiBoZWlnaHQsIHZlbG9jaXR5KTtcbiAgICAgICAgaXNPcGVuID0gc2hvdWxkQ29tcGxldGU7XG4gICAgICAgIGdlc3R1cmUuZW5hYmxlKGZhbHNlKTtcbiAgICAgICAgaWYgKGNvbnRlbnRFbCkge1xuICAgICAgICAgICAgcmVzZXRDb250ZW50U2Nyb2xsWShjb250ZW50RWwsIGluaXRpYWxTY3JvbGxZKTtcbiAgICAgICAgfVxuICAgICAgICBhbmltYXRpb25cbiAgICAgICAgICAgIC5vbkZpbmlzaCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXNob3VsZENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgZ2VzdHVyZS5lbmFibGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICAucHJvZ3Jlc3NFbmQoc2hvdWxkQ29tcGxldGUgPyAxIDogMCwgbmV3U3RlcFZhbHVlLCBkdXJhdGlvbik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgY2FuRGlzbWlzcyB2YWx1ZSBibG9ja2VkIHRoZSBnZXN0dXJlXG4gICAgICAgICAqIGZyb20gcHJvY2VlZGluZywgdGhlbiB3ZSBzaG91bGQgaWdub3JlIHdoYXRldmVyXG4gICAgICAgICAqIHNob3VsZENvbXBsZXRlIGlzLiBXaGV0aGVyIG9yIG5vdCB0aGUgbW9kYWxcbiAgICAgICAgICogYW5pbWF0aW9uIHNob3VsZCBjb21wbGV0ZSBpcyBub3cgZGV0ZXJtaW5lZCBieVxuICAgICAgICAgKiBjYW5EaXNtaXNzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB0aGUgdXNlciBzd2lwZWQgPjI1JSBvZiB0aGUgd2F5XG4gICAgICAgICAqIHRvIHRoZSBtYXggc3RlcCwgdGhlbiB3ZSBzaG91bGRcbiAgICAgICAgICogY2hlY2sgY2FuRGlzbWlzcy4gMjUlIHdhcyBjaG9zZW5cbiAgICAgICAgICogdG8gYXZvaWQgYWNjaWRlbnRhbCBzd2lwZXMuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoaXNBdHRlbXB0aW5nRGlzbWlzc1dpdGhDYW5EaXNtaXNzICYmIGNsYW1wZWRTdGVwID4gbWF4U3RlcCAvIDQpIHtcbiAgICAgICAgICAgIGhhbmRsZUNhbkRpc21pc3MoZWwsIGFuaW1hdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2hvdWxkQ29tcGxldGUpIHtcbiAgICAgICAgICAgIG9uRGlzbWlzcygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBnZXN0dXJlID0gY3JlYXRlR2VzdHVyZSh7XG4gICAgICAgIGVsLFxuICAgICAgICBnZXN0dXJlTmFtZTogJ21vZGFsU3dpcGVUb0Nsb3NlJyxcbiAgICAgICAgZ2VzdHVyZVByaW9yaXR5OiBPVkVSTEFZX0dFU1RVUkVfUFJJT1JJVFksXG4gICAgICAgIGRpcmVjdGlvbjogJ3knLFxuICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuICAgICAgICBjYW5TdGFydCxcbiAgICAgICAgb25TdGFydCxcbiAgICAgICAgb25Nb3ZlLFxuICAgICAgICBvbkVuZCxcbiAgICB9KTtcbiAgICByZXR1cm4gZ2VzdHVyZTtcbn07XG5jb25zdCBjb21wdXRlRHVyYXRpb24gPSAocmVtYWluaW5nLCB2ZWxvY2l0eSkgPT4ge1xuICAgIHJldHVybiBjbGFtcCg0MDAsIHJlbWFpbmluZyAvIE1hdGguYWJzKHZlbG9jaXR5ICogMS4xKSwgNTAwKTtcbn07XG5cbmNvbnN0IGNyZWF0ZVNoZWV0RW50ZXJBbmltYXRpb24gPSAob3B0cykgPT4ge1xuICAgIGNvbnN0IHsgY3VycmVudEJyZWFrcG9pbnQsIGJhY2tkcm9wQnJlYWtwb2ludCwgZXhwYW5kVG9TY3JvbGwgfSA9IG9wdHM7XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGJhY2tkcm9wQnJlYWtwb2ludCBpcyB1bmRlZmluZWQsIHRoZW4gdGhlIGJhY2tkcm9wXG4gICAgICogc2hvdWxkIGFsd2F5cyBmYWRlIGluLiBJZiB0aGUgYmFja2Ryb3BCcmVha3BvaW50IGNhbWUgYmVmb3JlIHRoZVxuICAgICAqIGN1cnJlbnQgYnJlYWtwb2ludCwgdGhlbiB0aGUgYmFja2Ryb3Agc2hvdWxkIGJlIGZhZGluZyBpbi5cbiAgICAgKi9cbiAgICBjb25zdCBzaG91bGRTaG93QmFja2Ryb3AgPSBiYWNrZHJvcEJyZWFrcG9pbnQgPT09IHVuZGVmaW5lZCB8fCBiYWNrZHJvcEJyZWFrcG9pbnQgPCBjdXJyZW50QnJlYWtwb2ludDtcbiAgICBjb25zdCBpbml0aWFsQmFja2Ryb3AgPSBzaG91bGRTaG93QmFja2Ryb3AgPyBgY2FsYyh2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KSAqICR7Y3VycmVudEJyZWFrcG9pbnR9KWAgOiAnMCc7XG4gICAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oJ2JhY2tkcm9wQW5pbWF0aW9uJykuZnJvbVRvKCdvcGFjaXR5JywgMCwgaW5pdGlhbEJhY2tkcm9wKTtcbiAgICBpZiAoc2hvdWxkU2hvd0JhY2tkcm9wKSB7XG4gICAgICAgIGJhY2tkcm9wQW5pbWF0aW9uXG4gICAgICAgICAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAgICAgICAgICdwb2ludGVyLWV2ZW50cyc6ICdub25lJyxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5hZnRlckNsZWFyU3R5bGVzKFsncG9pbnRlci1ldmVudHMnXSk7XG4gICAgfVxuICAgIGNvbnN0IHdyYXBwZXJBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oJ3dyYXBwZXJBbmltYXRpb24nKS5rZXlmcmFtZXMoW1xuICAgICAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgxMDAlKScgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHsxMDAgLSBjdXJyZW50QnJlYWtwb2ludCAqIDEwMH0lKWAgfSxcbiAgICBdKTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGFsbG93cyB0aGUgY29udGVudCB0byBiZSBzY3JvbGxhYmxlIGF0IGFueSBicmVha3BvaW50LlxuICAgICAqL1xuICAgIGNvbnN0IGNvbnRlbnRBbmltYXRpb24gPSAhZXhwYW5kVG9TY3JvbGxcbiAgICAgICAgPyBjcmVhdGVBbmltYXRpb24oJ2NvbnRlbnRBbmltYXRpb24nKS5rZXlmcmFtZXMoW1xuICAgICAgICAgICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6IDEsIG1heEhlaWdodDogYCR7KDEgLSBjdXJyZW50QnJlYWtwb2ludCkgKiAxMDB9JWAgfSxcbiAgICAgICAgICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAxLCBtYXhIZWlnaHQ6IGAke2N1cnJlbnRCcmVha3BvaW50ICogMTAwfSVgIH0sXG4gICAgICAgIF0pXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiB7IHdyYXBwZXJBbmltYXRpb24sIGJhY2tkcm9wQW5pbWF0aW9uLCBjb250ZW50QW5pbWF0aW9uIH07XG59O1xuY29uc3QgY3JlYXRlU2hlZXRMZWF2ZUFuaW1hdGlvbiA9IChvcHRzKSA9PiB7XG4gICAgY29uc3QgeyBjdXJyZW50QnJlYWtwb2ludCwgYmFja2Ryb3BCcmVha3BvaW50IH0gPSBvcHRzO1xuICAgIC8qKlxuICAgICAqIEJhY2tkcm9wIGRvZXMgbm90IGFsd2F5cyBmYWRlIGluIGZyb20gMCB0byAxIGlmIGJhY2tkcm9wQnJlYWtwb2ludFxuICAgICAqIGlzIGRlZmluZWQsIHNvIHdlIG5lZWQgdG8gYWNjb3VudCBmb3IgdGhhdCBvZmZzZXQgYnkgZmlndXJpbmcgb3V0XG4gICAgICogd2hhdCB0aGUgY3VycmVudCBiYWNrZHJvcCB2YWx1ZSBzaG91bGQgYmUuXG4gICAgICovXG4gICAgY29uc3QgYmFja2Ryb3BWYWx1ZSA9IGBjYWxjKHZhcigtLWJhY2tkcm9wLW9wYWNpdHkpICogJHtnZXRCYWNrZHJvcFZhbHVlRm9yU2hlZXQoY3VycmVudEJyZWFrcG9pbnQsIGJhY2tkcm9wQnJlYWtwb2ludCl9KWA7XG4gICAgY29uc3QgZGVmYXVsdEJhY2tkcm9wID0gW1xuICAgICAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogYmFja2Ryb3BWYWx1ZSB9LFxuICAgICAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogMCB9LFxuICAgIF07XG4gICAgY29uc3QgY3VzdG9tQmFja2Ryb3AgPSBbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiBiYWNrZHJvcFZhbHVlIH0sXG4gICAgICAgIHsgb2Zmc2V0OiBiYWNrZHJvcEJyZWFrcG9pbnQsIG9wYWNpdHk6IDAgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDAgfSxcbiAgICBdO1xuICAgIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCdiYWNrZHJvcEFuaW1hdGlvbicpLmtleWZyYW1lcyhiYWNrZHJvcEJyZWFrcG9pbnQgIT09IDAgPyBjdXN0b21CYWNrZHJvcCA6IGRlZmF1bHRCYWNrZHJvcCk7XG4gICAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbignd3JhcHBlckFuaW1hdGlvbicpLmtleWZyYW1lcyhbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKCR7MTAwIC0gY3VycmVudEJyZWFrcG9pbnQgKiAxMDB9JSlgIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKDEwMCUpYCB9LFxuICAgIF0pO1xuICAgIHJldHVybiB7IHdyYXBwZXJBbmltYXRpb24sIGJhY2tkcm9wQW5pbWF0aW9uIH07XG59O1xuXG5jb25zdCBjcmVhdGVFbnRlckFuaW1hdGlvbiQxID0gKCkgPT4ge1xuICAgIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAgICAgLmZyb21Ubygnb3BhY2l0eScsIDAuMDEsICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScpXG4gICAgICAgIC5iZWZvcmVTdHlsZXMoe1xuICAgICAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZScsXG4gICAgfSlcbiAgICAgICAgLmFmdGVyQ2xlYXJTdHlsZXMoWydwb2ludGVyLWV2ZW50cyddKTtcbiAgICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCkuZnJvbVRvKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWSgxMDB2aCknLCAndHJhbnNsYXRlWSgwdmgpJyk7XG4gICAgcmV0dXJuIHsgYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb24sIGNvbnRlbnRBbmltYXRpb246IHVuZGVmaW5lZCB9O1xufTtcbi8qKlxuICogaU9TIE1vZGFsIEVudGVyIEFuaW1hdGlvbiBmb3IgdGhlIENhcmQgcHJlc2VudGF0aW9uIHN0eWxlXG4gKi9cbmNvbnN0IGlvc0VudGVyQW5pbWF0aW9uID0gKGJhc2VFbCwgb3B0cykgPT4ge1xuICAgIGNvbnN0IHsgcHJlc2VudGluZ0VsLCBjdXJyZW50QnJlYWtwb2ludCwgZXhwYW5kVG9TY3JvbGwgfSA9IG9wdHM7XG4gICAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGJhc2VFbCk7XG4gICAgY29uc3QgeyB3cmFwcGVyQW5pbWF0aW9uLCBiYWNrZHJvcEFuaW1hdGlvbiwgY29udGVudEFuaW1hdGlvbiB9ID0gY3VycmVudEJyZWFrcG9pbnQgIT09IHVuZGVmaW5lZCA/IGNyZWF0ZVNoZWV0RW50ZXJBbmltYXRpb24ob3B0cykgOiBjcmVhdGVFbnRlckFuaW1hdGlvbiQxKCk7XG4gICAgYmFja2Ryb3BBbmltYXRpb24uYWRkRWxlbWVudChyb290LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrZHJvcCcpKTtcbiAgICB3cmFwcGVyQW5pbWF0aW9uLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwtd3JhcHBlciwgLm1vZGFsLXNoYWRvdycpKS5iZWZvcmVTdHlsZXMoeyBvcGFjaXR5OiAxIH0pO1xuICAgIC8vIFRoZSBjb250ZW50IGFuaW1hdGlvbiBpcyBvbmx5IGFkZGVkIGlmIHNjcm9sbGluZyBpcyBlbmFibGVkIGZvclxuICAgIC8vIGFsbCB0aGUgYnJlYWtwb2ludHMuXG4gICAgIWV4cGFuZFRvU2Nyb2xsICYmIChjb250ZW50QW5pbWF0aW9uID09PSBudWxsIHx8IGNvbnRlbnRBbmltYXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRlbnRBbmltYXRpb24uYWRkRWxlbWVudChiYXNlRWwucXVlcnlTZWxlY3RvcignLmlvbi1wYWdlJykpKTtcbiAgICBjb25zdCBiYXNlQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCdlbnRlcmluZy1iYXNlJylcbiAgICAgICAgLmFkZEVsZW1lbnQoYmFzZUVsKVxuICAgICAgICAuZWFzaW5nKCdjdWJpYy1iZXppZXIoMC4zMiwwLjcyLDAsMSknKVxuICAgICAgICAuZHVyYXRpb24oNTAwKVxuICAgICAgICAuYWRkQW5pbWF0aW9uKFt3cmFwcGVyQW5pbWF0aW9uXSlcbiAgICAgICAgLmJlZm9yZUFkZFdyaXRlKCgpID0+IHtcbiAgICAgICAgaWYgKGV4cGFuZFRvU2Nyb2xsKSB7XG4gICAgICAgICAgICAvLyBTY3JvbGwgY2FuIG9ubHkgYmUgZG9uZSB3aGVuIHRoZSBtb2RhbCBpcyBmdWxseSBleHBhbmRlZC5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlcmUgYXJlIHNvbWUgYnJvd3NlcnMgdGhhdCBjYXVzZXMgZmxpY2tlcmluZyB3aGVuXG4gICAgICAgICAqIGRyYWdnaW5nIHRoZSBjb250ZW50IHdoZW4gc2Nyb2xsIGlzIGVuYWJsZWQgYXQgZXZlcnlcbiAgICAgICAgICogYnJlYWtwb2ludC4gVGhpcyBpcyBkdWUgdG8gdGhlIHdyYXBwZXIgZWxlbWVudCBiZWluZ1xuICAgICAgICAgKiB0cmFuc2Zvcm1lZCBvZmYgdGhlIHNjcmVlbiBhbmQgaGF2aW5nIGEgc25hcCBhbmltYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEEgd29ya2Fyb3VuZCBpcyB0byBjbG9uZSB0aGUgZm9vdGVyIGVsZW1lbnQgYW5kIGFwcGVuZFxuICAgICAgICAgKiBpdCBvdXRzaWRlIG9mIHRoZSB3cmFwcGVyIGVsZW1lbnQuIFRoaXMgd2F5LCB0aGUgZm9vdGVyXG4gICAgICAgICAqIGlzIHN0aWxsIHZpc2libGUgYW5kIHRoZSBkcmFnIGNhbiBiZSBkb25lIHdpdGhvdXRcbiAgICAgICAgICogZmxpY2tlcmluZy4gVGhlIG9yaWdpbmFsIGZvb3RlciBpcyBoaWRkZW4gdW50aWwgdGhlIG1vZGFsXG4gICAgICAgICAqIGlzIGRpc21pc3NlZC4gVGhpcyBtYWludGFpbnMgdGhlIGFuaW1hdGlvbiBvZiB0aGUgZm9vdGVyXG4gICAgICAgICAqIHdoZW4gdGhlIG1vZGFsIGlzIGRpc21pc3NlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHdvcmthcm91bmQgbmVlZHMgdG8gYmUgZG9uZSBiZWZvcmUgdGhlIGFuaW1hdGlvbiBzdGFydHNcbiAgICAgICAgICogc28gdGhlcmUgYXJlIG5vIGZsaWNrZXJpbmcgaXNzdWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgaW9uRm9vdGVyID0gYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1mb290ZXInKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgY2hlY2sgaXMgbmVlZGVkIHRvIHByZXZlbnQgbW9yZSB0aGFuIG9uZSBmb290ZXJcbiAgICAgICAgICogZnJvbSBiZWluZyBhcHBlbmRlZCB0byB0aGUgc2hhZG93IHJvb3QuXG4gICAgICAgICAqIE90aGVyd2lzZSwgaU9TIGFuZCBNRCBlbnRlciBhbmltYXRpb25zIHdvdWxkIGFwcGVuZFxuICAgICAgICAgKiB0aGUgZm9vdGVyIHR3aWNlLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgaW9uRm9vdGVyQWxyZWFkeUFwcGVuZGVkID0gYmFzZUVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignaW9uLWZvb3RlcicpO1xuICAgICAgICBpZiAoaW9uRm9vdGVyICYmICFpb25Gb290ZXJBbHJlYWR5QXBwZW5kZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvb3RlckhlaWdodCA9IGlvbkZvb3Rlci5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBjbG9uZWRGb290ZXIgPSBpb25Gb290ZXIuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgICAgYmFzZUVsLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQoY2xvbmVkRm9vdGVyKTtcbiAgICAgICAgICAgIGlvbkZvb3Rlci5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICBpb25Gb290ZXIuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgICAgICAvLyBQYWRkaW5nIGlzIGFkZGVkIHRvIHByZXZlbnQgc29tZSBjb250ZW50IGZyb20gYmVpbmcgaGlkZGVuLlxuICAgICAgICAgICAgY29uc3QgcGFnZSA9IGJhc2VFbC5xdWVyeVNlbGVjdG9yKCcuaW9uLXBhZ2UnKTtcbiAgICAgICAgICAgIHBhZ2Uuc3R5bGUuc2V0UHJvcGVydHkoJ3BhZGRpbmctYm90dG9tJywgYCR7Zm9vdGVySGVpZ2h0fXB4YCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoY29udGVudEFuaW1hdGlvbikge1xuICAgICAgICBiYXNlQW5pbWF0aW9uLmFkZEFuaW1hdGlvbihjb250ZW50QW5pbWF0aW9uKTtcbiAgICB9XG4gICAgaWYgKHByZXNlbnRpbmdFbCkge1xuICAgICAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5pbm5lcldpZHRoIDwgNzY4O1xuICAgICAgICBjb25zdCBoYXNDYXJkTW9kYWwgPSBwcmVzZW50aW5nRWwudGFnTmFtZSA9PT0gJ0lPTi1NT0RBTCcgJiYgcHJlc2VudGluZ0VsLnByZXNlbnRpbmdFbGVtZW50ICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHByZXNlbnRpbmdFbFJvb3QgPSBnZXRFbGVtZW50Um9vdChwcmVzZW50aW5nRWwpO1xuICAgICAgICBjb25zdCBwcmVzZW50aW5nQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCkuYmVmb3JlU3R5bGVzKHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCknLFxuICAgICAgICAgICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiAndG9wIGNlbnRlcicsXG4gICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBib2R5RWwgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmFsbGJhY2sgZm9yIGJyb3dzZXJzIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCBgbWF4KClgIChleDogRmlyZWZveClcbiAgICAgICAgICAgICAqIE5vIG5lZWQgdG8gd29ycnkgYWJvdXQgc3RhdHVzYmFyIHBhZGRpbmcgc2luY2UgZW5naW5lcyBsaWtlIEdlY2tvXG4gICAgICAgICAgICAgKiBhcmUgbm90IHVzZWQgYXMgdGhlIGVuZ2luZSBmb3Igc3RhbmRhbG9uZSBDb3Jkb3ZhL0NhcGFjaXRvciBhcHBzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybU9mZnNldCA9ICFDU1Muc3VwcG9ydHMoJ3dpZHRoJywgJ21heCgwcHgsIDFweCknKSA/ICczMHB4JyA6ICdtYXgoMzBweCwgdmFyKC0taW9uLXNhZmUtYXJlYS10b3ApKSc7XG4gICAgICAgICAgICBjb25zdCBtb2RhbFRyYW5zZm9ybSA9IGhhc0NhcmRNb2RhbCA/ICctMTBweCcgOiB0cmFuc2Zvcm1PZmZzZXQ7XG4gICAgICAgICAgICBjb25zdCB0b1ByZXNlbnRpbmdTY2FsZSA9IFN3aXBlVG9DbG9zZURlZmF1bHRzLk1JTl9QUkVTRU5USU5HX1NDQUxFO1xuICAgICAgICAgICAgY29uc3QgZmluYWxUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgke21vZGFsVHJhbnNmb3JtfSkgc2NhbGUoJHt0b1ByZXNlbnRpbmdTY2FsZX0pYDtcbiAgICAgICAgICAgIHByZXNlbnRpbmdBbmltYXRpb25cbiAgICAgICAgICAgICAgICAuYWZ0ZXJTdHlsZXMoe1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogZmluYWxUcmFuc2Zvcm0sXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5iZWZvcmVBZGRXcml0ZSgoKSA9PiBib2R5RWwuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtY29sb3InLCAnYmxhY2snKSlcbiAgICAgICAgICAgICAgICAuYWRkRWxlbWVudChwcmVzZW50aW5nRWwpXG4gICAgICAgICAgICAgICAgLmtleWZyYW1lcyhbXG4gICAgICAgICAgICAgICAgeyBvZmZzZXQ6IDAsIGZpbHRlcjogJ2NvbnRyYXN0KDEpJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwcHgpIHNjYWxlKDEpJywgYm9yZGVyUmFkaXVzOiAnMHB4JyB9LFxuICAgICAgICAgICAgICAgIHsgb2Zmc2V0OiAxLCBmaWx0ZXI6ICdjb250cmFzdCgwLjg1KScsIHRyYW5zZm9ybTogZmluYWxUcmFuc2Zvcm0sIGJvcmRlclJhZGl1czogJzEwcHggMTBweCAwIDAnIH0sXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGJhc2VBbmltYXRpb24uYWRkQW5pbWF0aW9uKHByZXNlbnRpbmdBbmltYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYmFzZUFuaW1hdGlvbi5hZGRBbmltYXRpb24oYmFja2Ryb3BBbmltYXRpb24pO1xuICAgICAgICAgICAgaWYgKCFoYXNDYXJkTW9kYWwpIHtcbiAgICAgICAgICAgICAgICB3cmFwcGVyQW5pbWF0aW9uLmZyb21Ubygnb3BhY2l0eScsICcwJywgJzEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvUHJlc2VudGluZ1NjYWxlID0gaGFzQ2FyZE1vZGFsID8gU3dpcGVUb0Nsb3NlRGVmYXVsdHMuTUlOX1BSRVNFTlRJTkdfU0NBTEUgOiAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsVHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoLTEwcHgpIHNjYWxlKCR7dG9QcmVzZW50aW5nU2NhbGV9KWA7XG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ0FuaW1hdGlvblxuICAgICAgICAgICAgICAgICAgICAuYWZ0ZXJTdHlsZXMoe1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGZpbmFsVHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5hZGRFbGVtZW50KHByZXNlbnRpbmdFbFJvb3QucXVlcnlTZWxlY3RvcignLm1vZGFsLXdyYXBwZXInKSlcbiAgICAgICAgICAgICAgICAgICAgLmtleWZyYW1lcyhbXG4gICAgICAgICAgICAgICAgICAgIHsgb2Zmc2V0OiAwLCBmaWx0ZXI6ICdjb250cmFzdCgxKScsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCkgc2NhbGUoMSknIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgb2Zmc2V0OiAxLCBmaWx0ZXI6ICdjb250cmFzdCgwLjg1KScsIHRyYW5zZm9ybTogZmluYWxUcmFuc2Zvcm0gfSxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaGFkb3dBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgICAgICAgICAgICAgICAgICAuYWZ0ZXJTdHlsZXMoe1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGZpbmFsVHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5hZGRFbGVtZW50KHByZXNlbnRpbmdFbFJvb3QucXVlcnlTZWxlY3RvcignLm1vZGFsLXNoYWRvdycpKVxuICAgICAgICAgICAgICAgICAgICAua2V5ZnJhbWVzKFtcbiAgICAgICAgICAgICAgICAgICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6ICcxJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwKSBzY2FsZSgxKScgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6ICcwJywgdHJhbnNmb3JtOiBmaW5hbFRyYW5zZm9ybSB9LFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIGJhc2VBbmltYXRpb24uYWRkQW5pbWF0aW9uKFtwcmVzZW50aW5nQW5pbWF0aW9uLCBzaGFkb3dBbmltYXRpb25dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYmFzZUFuaW1hdGlvbi5hZGRBbmltYXRpb24oYmFja2Ryb3BBbmltYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZUFuaW1hdGlvbjtcbn07XG5cbmNvbnN0IGNyZWF0ZUxlYXZlQW5pbWF0aW9uJDEgPSAoKSA9PiB7XG4gICAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKS5mcm9tVG8oJ29wYWNpdHknLCAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknLCAwKTtcbiAgICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCkuZnJvbVRvKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWSgwdmgpJywgJ3RyYW5zbGF0ZVkoMTAwdmgpJyk7XG4gICAgcmV0dXJuIHsgYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb24gfTtcbn07XG4vKipcbiAqIGlPUyBNb2RhbCBMZWF2ZSBBbmltYXRpb25cbiAqL1xuY29uc3QgaW9zTGVhdmVBbmltYXRpb24gPSAoYmFzZUVsLCBvcHRzLCBkdXJhdGlvbiA9IDUwMCkgPT4ge1xuICAgIGNvbnN0IHsgcHJlc2VudGluZ0VsLCBjdXJyZW50QnJlYWtwb2ludCwgZXhwYW5kVG9TY3JvbGwgfSA9IG9wdHM7XG4gICAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGJhc2VFbCk7XG4gICAgY29uc3QgeyB3cmFwcGVyQW5pbWF0aW9uLCBiYWNrZHJvcEFuaW1hdGlvbiB9ID0gY3VycmVudEJyZWFrcG9pbnQgIT09IHVuZGVmaW5lZCA/IGNyZWF0ZVNoZWV0TGVhdmVBbmltYXRpb24ob3B0cykgOiBjcmVhdGVMZWF2ZUFuaW1hdGlvbiQxKCk7XG4gICAgYmFja2Ryb3BBbmltYXRpb24uYWRkRWxlbWVudChyb290LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrZHJvcCcpKTtcbiAgICB3cmFwcGVyQW5pbWF0aW9uLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwtd3JhcHBlciwgLm1vZGFsLXNoYWRvdycpKS5iZWZvcmVTdHlsZXMoeyBvcGFjaXR5OiAxIH0pO1xuICAgIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oJ2xlYXZpbmctYmFzZScpXG4gICAgICAgIC5hZGRFbGVtZW50KGJhc2VFbClcbiAgICAgICAgLmVhc2luZygnY3ViaWMtYmV6aWVyKDAuMzIsMC43MiwwLDEpJylcbiAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxuICAgICAgICAuYWRkQW5pbWF0aW9uKHdyYXBwZXJBbmltYXRpb24pXG4gICAgICAgIC5iZWZvcmVBZGRXcml0ZSgoKSA9PiB7XG4gICAgICAgIGlmIChleHBhbmRUb1Njcm9sbCkge1xuICAgICAgICAgICAgLy8gU2Nyb2xsIGNhbiBvbmx5IGJlIGRvbmUgd2hlbiB0aGUgbW9kYWwgaXMgZnVsbHkgZXhwYW5kZWQuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGV4cGFuZFRvU2Nyb2xsIGlzIGRpc2FibGVkLCB3ZSBuZWVkIHRvIHN3YXBcbiAgICAgICAgICogdGhlIHZpc2liaWxpdHkgdG8gdGhlIG9yaWdpbmFsLCBzbyB0aGUgZm9vdGVyXG4gICAgICAgICAqIGRpc21pc3NlcyB3aXRoIHRoZSBtb2RhbCBhbmQgZG9lc24ndCBzdGF5XG4gICAgICAgICAqIHVudGlsIHRoZSBtb2RhbCBpcyByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGlvbkZvb3RlciA9IGJhc2VFbC5xdWVyeVNlbGVjdG9yKCdpb24tZm9vdGVyJyk7XG4gICAgICAgIGlmIChpb25Gb290ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lZEZvb3RlciA9IGJhc2VFbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1mb290ZXInKTtcbiAgICAgICAgICAgIGlvbkZvb3Rlci5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpO1xuICAgICAgICAgICAgaW9uRm9vdGVyLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbiAgICAgICAgICAgIGNsb25lZEZvb3Rlci5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICBjbG9uZWRGb290ZXIuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgICAgICBjb25zdCBwYWdlID0gYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJy5pb24tcGFnZScpO1xuICAgICAgICAgICAgcGFnZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgncGFkZGluZy1ib3R0b20nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChwcmVzZW50aW5nRWwpIHtcbiAgICAgICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cuaW5uZXJXaWR0aCA8IDc2ODtcbiAgICAgICAgY29uc3QgaGFzQ2FyZE1vZGFsID0gcHJlc2VudGluZ0VsLnRhZ05hbWUgPT09ICdJT04tTU9EQUwnICYmIHByZXNlbnRpbmdFbC5wcmVzZW50aW5nRWxlbWVudCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBwcmVzZW50aW5nRWxSb290ID0gZ2V0RWxlbWVudFJvb3QocHJlc2VudGluZ0VsKTtcbiAgICAgICAgY29uc3QgcHJlc2VudGluZ0FuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgICAgICAgICAuYmVmb3JlQ2xlYXJTdHlsZXMoWyd0cmFuc2Zvcm0nXSlcbiAgICAgICAgICAgIC5hZnRlckNsZWFyU3R5bGVzKFsndHJhbnNmb3JtJ10pXG4gICAgICAgICAgICAub25GaW5pc2goKGN1cnJlbnRTdGVwKSA9PiB7XG4gICAgICAgICAgICAvLyBvbmx5IHJlc2V0IGJhY2tncm91bmQgY29sb3IgaWYgdGhpcyBpcyB0aGUgbGFzdCBjYXJkLXN0eWxlIG1vZGFsXG4gICAgICAgICAgICBpZiAoY3VycmVudFN0ZXAgIT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmVzZW50aW5nRWwuc3R5bGUuc2V0UHJvcGVydHkoJ292ZXJmbG93JywgJycpO1xuICAgICAgICAgICAgY29uc3QgbnVtTW9kYWxzID0gQXJyYXkuZnJvbShib2R5RWwucXVlcnlTZWxlY3RvckFsbCgnaW9uLW1vZGFsOm5vdCgub3ZlcmxheS1oaWRkZW4pJykpLmZpbHRlcigobSkgPT4gbS5wcmVzZW50aW5nRWxlbWVudCAhPT0gdW5kZWZpbmVkKS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobnVtTW9kYWxzIDw9IDEpIHtcbiAgICAgICAgICAgICAgICBib2R5RWwuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtY29sb3InLCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBib2R5RWwgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybU9mZnNldCA9ICFDU1Muc3VwcG9ydHMoJ3dpZHRoJywgJ21heCgwcHgsIDFweCknKSA/ICczMHB4JyA6ICdtYXgoMzBweCwgdmFyKC0taW9uLXNhZmUtYXJlYS10b3ApKSc7XG4gICAgICAgICAgICBjb25zdCBtb2RhbFRyYW5zZm9ybSA9IGhhc0NhcmRNb2RhbCA/ICctMTBweCcgOiB0cmFuc2Zvcm1PZmZzZXQ7XG4gICAgICAgICAgICBjb25zdCB0b1ByZXNlbnRpbmdTY2FsZSA9IFN3aXBlVG9DbG9zZURlZmF1bHRzLk1JTl9QUkVTRU5USU5HX1NDQUxFO1xuICAgICAgICAgICAgY29uc3QgZmluYWxUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgke21vZGFsVHJhbnNmb3JtfSkgc2NhbGUoJHt0b1ByZXNlbnRpbmdTY2FsZX0pYDtcbiAgICAgICAgICAgIHByZXNlbnRpbmdBbmltYXRpb24uYWRkRWxlbWVudChwcmVzZW50aW5nRWwpLmtleWZyYW1lcyhbXG4gICAgICAgICAgICAgICAgeyBvZmZzZXQ6IDAsIGZpbHRlcjogJ2NvbnRyYXN0KDAuODUpJywgdHJhbnNmb3JtOiBmaW5hbFRyYW5zZm9ybSwgYm9yZGVyUmFkaXVzOiAnMTBweCAxMHB4IDAgMCcgfSxcbiAgICAgICAgICAgICAgICB7IG9mZnNldDogMSwgZmlsdGVyOiAnY29udHJhc3QoMSknLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDBweCkgc2NhbGUoMSknLCBib3JkZXJSYWRpdXM6ICcwcHgnIH0sXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGJhc2VBbmltYXRpb24uYWRkQW5pbWF0aW9uKHByZXNlbnRpbmdBbmltYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYmFzZUFuaW1hdGlvbi5hZGRBbmltYXRpb24oYmFja2Ryb3BBbmltYXRpb24pO1xuICAgICAgICAgICAgaWYgKCFoYXNDYXJkTW9kYWwpIHtcbiAgICAgICAgICAgICAgICB3cmFwcGVyQW5pbWF0aW9uLmZyb21Ubygnb3BhY2l0eScsICcxJywgJzAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvUHJlc2VudGluZ1NjYWxlID0gaGFzQ2FyZE1vZGFsID8gU3dpcGVUb0Nsb3NlRGVmYXVsdHMuTUlOX1BSRVNFTlRJTkdfU0NBTEUgOiAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsVHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoLTEwcHgpIHNjYWxlKCR7dG9QcmVzZW50aW5nU2NhbGV9KWA7XG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ0FuaW1hdGlvblxuICAgICAgICAgICAgICAgICAgICAuYWRkRWxlbWVudChwcmVzZW50aW5nRWxSb290LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC13cmFwcGVyJykpXG4gICAgICAgICAgICAgICAgICAgIC5hZnRlclN0eWxlcyh7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDAsIDAsIDApJyxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAua2V5ZnJhbWVzKFtcbiAgICAgICAgICAgICAgICAgICAgeyBvZmZzZXQ6IDAsIGZpbHRlcjogJ2NvbnRyYXN0KDAuODUpJywgdHJhbnNmb3JtOiBmaW5hbFRyYW5zZm9ybSB9LFxuICAgICAgICAgICAgICAgICAgICB7IG9mZnNldDogMSwgZmlsdGVyOiAnY29udHJhc3QoMSknLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApIHNjYWxlKDEpJyB9LFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNoYWRvd0FuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRFbGVtZW50KHByZXNlbnRpbmdFbFJvb3QucXVlcnlTZWxlY3RvcignLm1vZGFsLXNoYWRvdycpKVxuICAgICAgICAgICAgICAgICAgICAuYWZ0ZXJTdHlsZXMoe1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApIHNjYWxlKDEpJyxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAua2V5ZnJhbWVzKFtcbiAgICAgICAgICAgICAgICAgICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6ICcwJywgdHJhbnNmb3JtOiBmaW5hbFRyYW5zZm9ybSB9LFxuICAgICAgICAgICAgICAgICAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogJzEnLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApIHNjYWxlKDEpJyB9LFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIGJhc2VBbmltYXRpb24uYWRkQW5pbWF0aW9uKFtwcmVzZW50aW5nQW5pbWF0aW9uLCBzaGFkb3dBbmltYXRpb25dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYmFzZUFuaW1hdGlvbi5hZGRBbmltYXRpb24oYmFja2Ryb3BBbmltYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZUFuaW1hdGlvbjtcbn07XG5cbmNvbnN0IGNyZWF0ZUVudGVyQW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAgICAgLmZyb21Ubygnb3BhY2l0eScsIDAuMDEsICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScpXG4gICAgICAgIC5iZWZvcmVTdHlsZXMoe1xuICAgICAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZScsXG4gICAgfSlcbiAgICAgICAgLmFmdGVyQ2xlYXJTdHlsZXMoWydwb2ludGVyLWV2ZW50cyddKTtcbiAgICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCkua2V5ZnJhbWVzKFtcbiAgICAgICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6IDAuMDEsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoNDBweCknIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKDBweClgIH0sXG4gICAgXSk7XG4gICAgcmV0dXJuIHsgYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb24sIGNvbnRlbnRBbmltYXRpb246IHVuZGVmaW5lZCB9O1xufTtcbi8qKlxuICogTWQgTW9kYWwgRW50ZXIgQW5pbWF0aW9uXG4gKi9cbmNvbnN0IG1kRW50ZXJBbmltYXRpb24gPSAoYmFzZUVsLCBvcHRzKSA9PiB7XG4gICAgY29uc3QgeyBjdXJyZW50QnJlYWtwb2ludCwgZXhwYW5kVG9TY3JvbGwgfSA9IG9wdHM7XG4gICAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGJhc2VFbCk7XG4gICAgY29uc3QgeyB3cmFwcGVyQW5pbWF0aW9uLCBiYWNrZHJvcEFuaW1hdGlvbiwgY29udGVudEFuaW1hdGlvbiB9ID0gY3VycmVudEJyZWFrcG9pbnQgIT09IHVuZGVmaW5lZCA/IGNyZWF0ZVNoZWV0RW50ZXJBbmltYXRpb24ob3B0cykgOiBjcmVhdGVFbnRlckFuaW1hdGlvbigpO1xuICAgIGJhY2tkcm9wQW5pbWF0aW9uLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCdpb24tYmFja2Ryb3AnKSk7XG4gICAgd3JhcHBlckFuaW1hdGlvbi5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignLm1vZGFsLXdyYXBwZXInKSk7XG4gICAgLy8gVGhlIGNvbnRlbnQgYW5pbWF0aW9uIGlzIG9ubHkgYWRkZWQgaWYgc2Nyb2xsaW5nIGlzIGVuYWJsZWQgZm9yXG4gICAgLy8gYWxsIHRoZSBicmVha3BvaW50cy5cbiAgICBleHBhbmRUb1Njcm9sbCAmJiAoY29udGVudEFuaW1hdGlvbiA9PT0gbnVsbCB8fCBjb250ZW50QW5pbWF0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250ZW50QW5pbWF0aW9uLmFkZEVsZW1lbnQoYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJy5pb24tcGFnZScpKSk7XG4gICAgY29uc3QgYmFzZUFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgICAgIC5hZGRFbGVtZW50KGJhc2VFbClcbiAgICAgICAgLmVhc2luZygnY3ViaWMtYmV6aWVyKDAuMzYsMC42NiwwLjA0LDEpJylcbiAgICAgICAgLmR1cmF0aW9uKDI4MClcbiAgICAgICAgLmFkZEFuaW1hdGlvbihbYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb25dKVxuICAgICAgICAuYmVmb3JlQWRkV3JpdGUoKCkgPT4ge1xuICAgICAgICBpZiAoZXhwYW5kVG9TY3JvbGwpIHtcbiAgICAgICAgICAgIC8vIFNjcm9sbCBjYW4gb25seSBiZSBkb25lIHdoZW4gdGhlIG1vZGFsIGlzIGZ1bGx5IGV4cGFuZGVkLlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGVyZSBhcmUgc29tZSBicm93c2VycyB0aGF0IGNhdXNlcyBmbGlja2VyaW5nIHdoZW5cbiAgICAgICAgICogZHJhZ2dpbmcgdGhlIGNvbnRlbnQgd2hlbiBzY3JvbGwgaXMgZW5hYmxlZCBhdCBldmVyeVxuICAgICAgICAgKiBicmVha3BvaW50LiBUaGlzIGlzIGR1ZSB0byB0aGUgd3JhcHBlciBlbGVtZW50IGJlaW5nXG4gICAgICAgICAqIHRyYW5zZm9ybWVkIG9mZiB0aGUgc2NyZWVuIGFuZCBoYXZpbmcgYSBzbmFwIGFuaW1hdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQSB3b3JrYXJvdW5kIGlzIHRvIGNsb25lIHRoZSBmb290ZXIgZWxlbWVudCBhbmQgYXBwZW5kXG4gICAgICAgICAqIGl0IG91dHNpZGUgb2YgdGhlIHdyYXBwZXIgZWxlbWVudC4gVGhpcyB3YXksIHRoZSBmb290ZXJcbiAgICAgICAgICogaXMgc3RpbGwgdmlzaWJsZSBhbmQgdGhlIGRyYWcgY2FuIGJlIGRvbmUgd2l0aG91dFxuICAgICAgICAgKiBmbGlja2VyaW5nLiBUaGUgb3JpZ2luYWwgZm9vdGVyIGlzIGhpZGRlbiB1bnRpbCB0aGUgbW9kYWxcbiAgICAgICAgICogaXMgZGlzbWlzc2VkLiBUaGlzIG1haW50YWlucyB0aGUgYW5pbWF0aW9uIG9mIHRoZSBmb290ZXJcbiAgICAgICAgICogd2hlbiB0aGUgbW9kYWwgaXMgZGlzbWlzc2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgd29ya2Fyb3VuZCBuZWVkcyB0byBiZSBkb25lIGJlZm9yZSB0aGUgYW5pbWF0aW9uIHN0YXJ0c1xuICAgICAgICAgKiBzbyB0aGVyZSBhcmUgbm8gZmxpY2tlcmluZyBpc3N1ZXMuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBpb25Gb290ZXIgPSBiYXNlRWwucXVlcnlTZWxlY3RvcignaW9uLWZvb3RlcicpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBjaGVjayBpcyBuZWVkZWQgdG8gcHJldmVudCBtb3JlIHRoYW4gb25lIGZvb3RlclxuICAgICAgICAgKiBmcm9tIGJlaW5nIGFwcGVuZGVkIHRvIHRoZSBzaGFkb3cgcm9vdC5cbiAgICAgICAgICogT3RoZXJ3aXNlLCBpT1MgYW5kIE1EIGVudGVyIGFuaW1hdGlvbnMgd291bGQgYXBwZW5kXG4gICAgICAgICAqIHRoZSBmb290ZXIgdHdpY2UuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBpb25Gb290ZXJBbHJlYWR5QXBwZW5kZWQgPSBiYXNlRWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdpb24tZm9vdGVyJyk7XG4gICAgICAgIGlmIChpb25Gb290ZXIgJiYgIWlvbkZvb3RlckFscmVhZHlBcHBlbmRlZCkge1xuICAgICAgICAgICAgY29uc3QgZm9vdGVySGVpZ2h0ID0gaW9uRm9vdGVyLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lZEZvb3RlciA9IGlvbkZvb3Rlci5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICBiYXNlRWwuc2hhZG93Um9vdC5hcHBlbmRDaGlsZChjbG9uZWRGb290ZXIpO1xuICAgICAgICAgICAgaW9uRm9vdGVyLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgIGlvbkZvb3Rlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgICAgIC8vIFBhZGRpbmcgaXMgYWRkZWQgdG8gcHJldmVudCBzb21lIGNvbnRlbnQgZnJvbSBiZWluZyBoaWRkZW4uXG4gICAgICAgICAgICBjb25zdCBwYWdlID0gYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJy5pb24tcGFnZScpO1xuICAgICAgICAgICAgcGFnZS5zdHlsZS5zZXRQcm9wZXJ0eSgncGFkZGluZy1ib3R0b20nLCBgJHtmb290ZXJIZWlnaHR9cHhgKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChjb250ZW50QW5pbWF0aW9uKSB7XG4gICAgICAgIGJhc2VBbmltYXRpb24uYWRkQW5pbWF0aW9uKGNvbnRlbnRBbmltYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZUFuaW1hdGlvbjtcbn07XG5cbmNvbnN0IGNyZWF0ZUxlYXZlQW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCkuZnJvbVRvKCdvcGFjaXR5JywgJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJywgMCk7XG4gICAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpLmtleWZyYW1lcyhbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAwLjk5LCB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKDBweClgIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDQwcHgpJyB9LFxuICAgIF0pO1xuICAgIHJldHVybiB7IGJhY2tkcm9wQW5pbWF0aW9uLCB3cmFwcGVyQW5pbWF0aW9uIH07XG59O1xuLyoqXG4gKiBNZCBNb2RhbCBMZWF2ZSBBbmltYXRpb25cbiAqL1xuY29uc3QgbWRMZWF2ZUFuaW1hdGlvbiA9IChiYXNlRWwsIG9wdHMpID0+IHtcbiAgICBjb25zdCB7IGN1cnJlbnRCcmVha3BvaW50LCBleHBhbmRUb1Njcm9sbCB9ID0gb3B0cztcbiAgICBjb25zdCByb290ID0gZ2V0RWxlbWVudFJvb3QoYmFzZUVsKTtcbiAgICBjb25zdCB7IHdyYXBwZXJBbmltYXRpb24sIGJhY2tkcm9wQW5pbWF0aW9uIH0gPSBjdXJyZW50QnJlYWtwb2ludCAhPT0gdW5kZWZpbmVkID8gY3JlYXRlU2hlZXRMZWF2ZUFuaW1hdGlvbihvcHRzKSA6IGNyZWF0ZUxlYXZlQW5pbWF0aW9uKCk7XG4gICAgYmFja2Ryb3BBbmltYXRpb24uYWRkRWxlbWVudChyb290LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrZHJvcCcpKTtcbiAgICB3cmFwcGVyQW5pbWF0aW9uLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtd3JhcHBlcicpKTtcbiAgICBjb25zdCBiYXNlQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAgICAgLmVhc2luZygnY3ViaWMtYmV6aWVyKDAuNDcsMCwwLjc0NSwwLjcxNSknKVxuICAgICAgICAuZHVyYXRpb24oMjAwKVxuICAgICAgICAuYWRkQW5pbWF0aW9uKFtiYWNrZHJvcEFuaW1hdGlvbiwgd3JhcHBlckFuaW1hdGlvbl0pXG4gICAgICAgIC5iZWZvcmVBZGRXcml0ZSgoKSA9PiB7XG4gICAgICAgIGlmIChleHBhbmRUb1Njcm9sbCkge1xuICAgICAgICAgICAgLy8gU2Nyb2xsIGNhbiBvbmx5IGJlIGRvbmUgd2hlbiB0aGUgbW9kYWwgaXMgZnVsbHkgZXhwYW5kZWQuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGV4cGFuZFRvU2Nyb2xsIGlzIGRpc2FibGVkLCB3ZSBuZWVkIHRvIHN3YXBcbiAgICAgICAgICogdGhlIHZpc2liaWxpdHkgdG8gdGhlIG9yaWdpbmFsLCBzbyB0aGUgZm9vdGVyXG4gICAgICAgICAqIGRpc21pc3NlcyB3aXRoIHRoZSBtb2RhbCBhbmQgZG9lc24ndCBzdGF5XG4gICAgICAgICAqIHVudGlsIHRoZSBtb2RhbCBpcyByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGlvbkZvb3RlciA9IGJhc2VFbC5xdWVyeVNlbGVjdG9yKCdpb24tZm9vdGVyJyk7XG4gICAgICAgIGlmIChpb25Gb290ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lZEZvb3RlciA9IGJhc2VFbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1mb290ZXInKTtcbiAgICAgICAgICAgIGlvbkZvb3Rlci5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpO1xuICAgICAgICAgICAgaW9uRm9vdGVyLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbiAgICAgICAgICAgIGNsb25lZEZvb3Rlci5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICBjbG9uZWRGb290ZXIuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgICAgICBjb25zdCBwYWdlID0gYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJy5pb24tcGFnZScpO1xuICAgICAgICAgICAgcGFnZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgncGFkZGluZy1ib3R0b20nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBiYXNlQW5pbWF0aW9uO1xufTtcblxuY29uc3QgY3JlYXRlU2hlZXRHZXN0dXJlID0gKGJhc2VFbCwgYmFja2Ryb3BFbCwgd3JhcHBlckVsLCBpbml0aWFsQnJlYWtwb2ludCwgYmFja2Ryb3BCcmVha3BvaW50LCBhbmltYXRpb24sIGJyZWFrcG9pbnRzID0gW10sIGV4cGFuZFRvU2Nyb2xsLCBnZXRDdXJyZW50QnJlYWtwb2ludCwgb25EaXNtaXNzLCBvbkJyZWFrcG9pbnRDaGFuZ2UpID0+IHtcbiAgICAvLyBEZWZhdWx0cyBmb3IgdGhlIHNoZWV0IHN3aXBlIGFuaW1hdGlvblxuICAgIGNvbnN0IGRlZmF1bHRCYWNrZHJvcCA9IFtcbiAgICAgICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6ICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDAuMDEgfSxcbiAgICBdO1xuICAgIGNvbnN0IGN1c3RvbUJhY2tkcm9wID0gW1xuICAgICAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJyB9LFxuICAgICAgICB7IG9mZnNldDogMSAtIGJhY2tkcm9wQnJlYWtwb2ludCwgb3BhY2l0eTogMCB9LFxuICAgICAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogMCB9LFxuICAgIF07XG4gICAgY29uc3QgU2hlZXREZWZhdWx0cyA9IHtcbiAgICAgICAgV1JBUFBFUl9LRVlGUkFNRVM6IFtcbiAgICAgICAgICAgIHsgb2Zmc2V0OiAwLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDAlKScgfSxcbiAgICAgICAgICAgIHsgb2Zmc2V0OiAxLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDEwMCUpJyB9LFxuICAgICAgICBdLFxuICAgICAgICBCQUNLRFJPUF9LRVlGUkFNRVM6IGJhY2tkcm9wQnJlYWtwb2ludCAhPT0gMCA/IGN1c3RvbUJhY2tkcm9wIDogZGVmYXVsdEJhY2tkcm9wLFxuICAgICAgICBDT05URU5UX0tFWUZSQU1FUzogW1xuICAgICAgICAgICAgeyBvZmZzZXQ6IDAsIG1heEhlaWdodDogJzEwMCUnIH0sXG4gICAgICAgICAgICB7IG9mZnNldDogMSwgbWF4SGVpZ2h0OiAnMCUnIH0sXG4gICAgICAgIF0sXG4gICAgfTtcbiAgICBjb25zdCBjb250ZW50RWwgPSBiYXNlRWwucXVlcnlTZWxlY3RvcignaW9uLWNvbnRlbnQnKTtcbiAgICBjb25zdCBoZWlnaHQgPSB3cmFwcGVyRWwuY2xpZW50SGVpZ2h0O1xuICAgIGxldCBjdXJyZW50QnJlYWtwb2ludCA9IGluaXRpYWxCcmVha3BvaW50O1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGxldCBjYW5EaXNtaXNzQmxvY2tzR2VzdHVyZSA9IGZhbHNlO1xuICAgIGxldCBjYWNoZWRTY3JvbGxFbCA9IG51bGw7XG4gICAgY29uc3QgY2FuRGlzbWlzc01heFN0ZXAgPSAwLjk1O1xuICAgIGNvbnN0IG1heEJyZWFrcG9pbnQgPSBicmVha3BvaW50c1ticmVha3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBtaW5CcmVha3BvaW50ID0gYnJlYWtwb2ludHNbMF07XG4gICAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGFuaW1hdGlvbi5jaGlsZEFuaW1hdGlvbnMuZmluZCgoYW5pKSA9PiBhbmkuaWQgPT09ICd3cmFwcGVyQW5pbWF0aW9uJyk7XG4gICAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBhbmltYXRpb24uY2hpbGRBbmltYXRpb25zLmZpbmQoKGFuaSkgPT4gYW5pLmlkID09PSAnYmFja2Ryb3BBbmltYXRpb24nKTtcbiAgICBjb25zdCBjb250ZW50QW5pbWF0aW9uID0gYW5pbWF0aW9uLmNoaWxkQW5pbWF0aW9ucy5maW5kKChhbmkpID0+IGFuaS5pZCA9PT0gJ2NvbnRlbnRBbmltYXRpb24nKTtcbiAgICBjb25zdCBlbmFibGVCYWNrZHJvcCA9ICgpID0+IHtcbiAgICAgICAgYmFzZUVsLnN0eWxlLnNldFByb3BlcnR5KCdwb2ludGVyLWV2ZW50cycsICdhdXRvJyk7XG4gICAgICAgIGJhY2tkcm9wRWwuc3R5bGUuc2V0UHJvcGVydHkoJ3BvaW50ZXItZXZlbnRzJywgJ2F1dG8nKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdGhlIGJhY2tkcm9wIGlzIGVuYWJsZWQsIGVsZW1lbnRzIHN1Y2hcbiAgICAgICAgICogYXMgaW5wdXRzIHNob3VsZCBub3QgYmUgZm9jdXNhYmxlIG91dHNpZGVcbiAgICAgICAgICogdGhlIHNoZWV0LlxuICAgICAgICAgKi9cbiAgICAgICAgYmFzZUVsLmNsYXNzTGlzdC5yZW1vdmUoRk9DVVNfVFJBUF9ESVNBQkxFX0NMQVNTKTtcbiAgICB9O1xuICAgIGNvbnN0IGRpc2FibGVCYWNrZHJvcCA9ICgpID0+IHtcbiAgICAgICAgYmFzZUVsLnN0eWxlLnNldFByb3BlcnR5KCdwb2ludGVyLWV2ZW50cycsICdub25lJyk7XG4gICAgICAgIGJhY2tkcm9wRWwuc3R5bGUuc2V0UHJvcGVydHkoJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdGhlIGJhY2tkcm9wIGlzIGVuYWJsZWQsIGVsZW1lbnRzIHN1Y2hcbiAgICAgICAgICogYXMgaW5wdXRzIHNob3VsZCBub3QgYmUgZm9jdXNhYmxlIG91dHNpZGVcbiAgICAgICAgICogdGhlIHNoZWV0LlxuICAgICAgICAgKiBBZGRpbmcgdGhpcyBjbGFzcyBkaXNhYmxlcyBmb2N1cyB0cmFwcGluZ1xuICAgICAgICAgKiBmb3IgdGhlIHNoZWV0IHRlbXBvcmFyaWx5LlxuICAgICAgICAgKi9cbiAgICAgICAgYmFzZUVsLmNsYXNzTGlzdC5hZGQoRk9DVVNfVFJBUF9ESVNBQkxFX0NMQVNTKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRvZ2dsZXMgdGhlIHZpc2libGUgbW9kYWwgZm9vdGVyIHdoZW4gYGV4cGFuZFRvU2Nyb2xsYCBpcyBkaXNhYmxlZC5cbiAgICAgKiBAcGFyYW0gZm9vdGVyIFRoZSBmb290ZXIgdG8gc2hvdy5cbiAgICAgKi9cbiAgICBjb25zdCBzd2FwRm9vdGVyVmlzaWJpbGl0eSA9IChmb290ZXIpID0+IHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxGb290ZXIgPSBiYXNlRWwucXVlcnlTZWxlY3RvcignaW9uLWZvb3RlcicpO1xuICAgICAgICBpZiAoIW9yaWdpbmFsRm9vdGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2xvbmVkRm9vdGVyID0gd3JhcHBlckVsLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgY29uc3QgZm9vdGVyVG9IaWRlID0gZm9vdGVyID09PSAnb3JpZ2luYWwnID8gY2xvbmVkRm9vdGVyIDogb3JpZ2luYWxGb290ZXI7XG4gICAgICAgIGNvbnN0IGZvb3RlclRvU2hvdyA9IGZvb3RlciA9PT0gJ29yaWdpbmFsJyA/IG9yaWdpbmFsRm9vdGVyIDogY2xvbmVkRm9vdGVyO1xuICAgICAgICBmb290ZXJUb1Nob3cuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2Rpc3BsYXknKTtcbiAgICAgICAgZm9vdGVyVG9TaG93LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbiAgICAgICAgY29uc3QgcGFnZSA9IGJhc2VFbC5xdWVyeVNlbGVjdG9yKCcuaW9uLXBhZ2UnKTtcbiAgICAgICAgaWYgKGZvb3RlciA9PT0gJ29yaWdpbmFsJykge1xuICAgICAgICAgICAgcGFnZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgncGFkZGluZy1ib3R0b20nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VQYWRkaW5nID0gZm9vdGVyVG9TaG93LmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIHBhZ2Uuc3R5bGUuc2V0UHJvcGVydHkoJ3BhZGRpbmctYm90dG9tJywgYCR7cGFnZVBhZGRpbmd9cHhgKTtcbiAgICAgICAgfVxuICAgICAgICBmb290ZXJUb0hpZGUuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICBmb290ZXJUb0hpZGUuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZnRlciB0aGUgZW50ZXJpbmcgYW5pbWF0aW9uIGNvbXBsZXRlcyxcbiAgICAgKiB3ZSBuZWVkIHRvIHNldCB0aGUgYW5pbWF0aW9uIHRvIGdvIGZyb21cbiAgICAgKiBvZmZzZXQgMCB0byBvZmZzZXQgMSBzbyB0aGF0IHVzZXJzIGNhblxuICAgICAqIHN3aXBlIGluIGFueSBkaXJlY3Rpb24uIFdlIHRoZW4gc2V0IHRoZVxuICAgICAqIGFuaW1hdGlvbiBvZmZzZXQgdG8gdGhlIGN1cnJlbnQgYnJlYWtwb2ludFxuICAgICAqIHNvIHRoZXJlIGlzIG5vIGZsaWNrZXJpbmcuXG4gICAgICovXG4gICAgaWYgKHdyYXBwZXJBbmltYXRpb24gJiYgYmFja2Ryb3BBbmltYXRpb24pIHtcbiAgICAgICAgd3JhcHBlckFuaW1hdGlvbi5rZXlmcmFtZXMoWy4uLlNoZWV0RGVmYXVsdHMuV1JBUFBFUl9LRVlGUkFNRVNdKTtcbiAgICAgICAgYmFja2Ryb3BBbmltYXRpb24ua2V5ZnJhbWVzKFsuLi5TaGVldERlZmF1bHRzLkJBQ0tEUk9QX0tFWUZSQU1FU10pO1xuICAgICAgICBjb250ZW50QW5pbWF0aW9uID09PSBudWxsIHx8IGNvbnRlbnRBbmltYXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRlbnRBbmltYXRpb24ua2V5ZnJhbWVzKFsuLi5TaGVldERlZmF1bHRzLkNPTlRFTlRfS0VZRlJBTUVTXSk7XG4gICAgICAgIGFuaW1hdGlvbi5wcm9ncmVzc1N0YXJ0KHRydWUsIDEgLSBjdXJyZW50QnJlYWtwb2ludCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBiYWNrZHJvcCBpcyBub3QgZW5hYmxlZCwgdGhlbiBjb250ZW50XG4gICAgICAgICAqIGJlaGluZCBtb2RhbCBzaG91bGQgYmUgY2xpY2thYmxlLiBUbyBkbyB0aGlzLCB3ZSBuZWVkXG4gICAgICAgICAqIHRvIHJlbW92ZSBwb2ludGVyLWV2ZW50cyBmcm9tIGlvbi1tb2RhbCBhcyBhIHdob2xlLlxuICAgICAgICAgKiBpb24tYmFja2Ryb3AgYW5kIC5tb2RhbC13cmFwcGVyIGFsd2F5cyBoYXZlIHBvaW50ZXItZXZlbnRzOiBhdXRvXG4gICAgICAgICAqIGFwcGxpZWQsIHNvIHRoZSBtb2RhbCBjb250ZW50IGNhbiBzdGlsbCBiZSBpbnRlcmFjdGVkIHdpdGguXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBzaG91bGRFbmFibGVCYWNrZHJvcCA9IGN1cnJlbnRCcmVha3BvaW50ID4gYmFja2Ryb3BCcmVha3BvaW50O1xuICAgICAgICBpZiAoc2hvdWxkRW5hYmxlQmFja2Ryb3ApIHtcbiAgICAgICAgICAgIGVuYWJsZUJhY2tkcm9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkaXNhYmxlQmFja2Ryb3AoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29udGVudEVsICYmIGN1cnJlbnRCcmVha3BvaW50ICE9PSBtYXhCcmVha3BvaW50ICYmIGV4cGFuZFRvU2Nyb2xsKSB7XG4gICAgICAgIGNvbnRlbnRFbC5zY3JvbGxZID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGNhblN0YXJ0ID0gKGRldGFpbCkgPT4ge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgd2UgYXJlIHN3aXBpbmcgb24gdGhlIGNvbnRlbnQsIHN3aXBpbmcgc2hvdWxkIG9ubHkgYmUgcG9zc2libGUgaWYgdGhlIGNvbnRlbnRcbiAgICAgICAgICogaXMgc2Nyb2xsZWQgYWxsIHRoZSB3YXkgdG8gdGhlIHRvcCBzbyB0aGF0IHdlIGRvIG5vdCBpbnRlcmZlcmUgd2l0aCBzY3JvbGxpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdlIGNhbm5vdCBhc3N1bWUgdGhhdCB0aGUgYGlvbi1jb250ZW50YCB0YXJnZXQgd2lsbCByZW1haW4gY29uc2lzdGVudCBiZXR3ZWVuIHN3aXBlcy5cbiAgICAgICAgICogRm9yIGV4YW1wbGUsIHdoZW4gdXNpbmcgaW9uLW5hdiB3aXRoaW4gYSBtb2RhbCBpdCBpcyBwb3NzaWJsZSB0byBzd2lwZSwgcHVzaCBhIHZpZXcsXG4gICAgICAgICAqIGFuZCB0aGVuIHN3aXBlIGFnYWluLiBUaGUgdGFyZ2V0IGNvbnRlbnQgd2lsbCBub3QgYmUgdGhlIHNhbWUgYmV0d2VlbiBzd2lwZXMuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBjb250ZW50RWwgPSBmaW5kQ2xvc2VzdElvbkNvbnRlbnQoZGV0YWlsLmV2ZW50LnRhcmdldCk7XG4gICAgICAgIGN1cnJlbnRCcmVha3BvaW50ID0gZ2V0Q3VycmVudEJyZWFrcG9pbnQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGBleHBhbmRUb1Njcm9sbGAgaXMgZGlzYWJsZWQsIHdlIHNob3VsZCBub3QgYWxsb3cgdGhlIHN3aXBlIGdlc3R1cmVcbiAgICAgICAgICogdG8gc3RhcnQgaWYgdGhlIGNvbnRlbnQgaXMgbm90IHNjcm9sbGVkIHRvIHRoZSB0b3AuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoIWV4cGFuZFRvU2Nyb2xsICYmIGNvbnRlbnRFbCkge1xuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsRWwgPSBpc0lvbkNvbnRlbnQoY29udGVudEVsKSA/IGdldEVsZW1lbnRSb290KGNvbnRlbnRFbCkucXVlcnlTZWxlY3RvcignLmlubmVyLXNjcm9sbCcpIDogY29udGVudEVsO1xuICAgICAgICAgICAgcmV0dXJuIHNjcm9sbEVsLnNjcm9sbFRvcCA9PT0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudEJyZWFrcG9pbnQgPT09IDEgJiYgY29udGVudEVsKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoZSBtb2RhbCBzaG91bGQgbmV2ZXIgc3dpcGUgdG8gY2xvc2Ugb24gdGhlIGNvbnRlbnQgd2l0aCBhIHJlZnJlc2hlci5cbiAgICAgICAgICAgICAqIE5vdGUgMTogV2UgY2Fubm90IHNvbHZlIHRoaXMgYnkgbWFraW5nIHRoaXMgZ2VzdHVyZSBoYXZlIGEgaGlnaGVyIHByaW9yaXR5IHRoYW5cbiAgICAgICAgICAgICAqIHRoZSByZWZyZXNoZXIgZ2VzdHVyZSBhcyB0aGUgaU9TIG5hdGl2ZSByZWZyZXNoIGdlc3R1cmUgdXNlcyBhIHNjcm9sbCBsaXN0ZW5lciBpblxuICAgICAgICAgICAgICogYWRkaXRpb24gdG8gYSBnZXN0dXJlLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIE5vdGUgMjogRG8gbm90IHVzZSBnZXRTY3JvbGxFbGVtZW50IGhlcmUgYmVjYXVzZSB3ZSBuZWVkIHRoaXMgdG8gYmUgYSBzeW5jaHJvbm91c1xuICAgICAgICAgICAgICogb3BlcmF0aW9uLCBhbmQgZ2V0U2Nyb2xsRWxlbWVudCBpcyBhc3luY2hyb25vdXMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbEVsID0gaXNJb25Db250ZW50KGNvbnRlbnRFbCkgPyBnZXRFbGVtZW50Um9vdChjb250ZW50RWwpLnF1ZXJ5U2VsZWN0b3IoJy5pbm5lci1zY3JvbGwnKSA6IGNvbnRlbnRFbDtcbiAgICAgICAgICAgIGNvbnN0IGhhc1JlZnJlc2hlckluQ29udGVudCA9ICEhY29udGVudEVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1yZWZyZXNoZXInKTtcbiAgICAgICAgICAgIHJldHVybiAhaGFzUmVmcmVzaGVySW5Db250ZW50ICYmIHNjcm9sbEVsLnNjcm9sbFRvcCA9PT0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIGNvbnN0IG9uU3RhcnQgPSAoZGV0YWlsKSA9PiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBjYW5EaXNtaXNzIGlzIGFueXRoaW5nIG90aGVyIHRoYW4gYHRydWVgXG4gICAgICAgICAqIHRoZW4gdXNlcnMgc2hvdWxkIGJlIGFibGUgdG8gc3dpcGUgZG93blxuICAgICAgICAgKiB1bnRpbCBhIHRocmVzaG9sZCBpcyBoaXQuIEF0IHRoYXQgcG9pbnQsXG4gICAgICAgICAqIHRoZSBjYXJkIG1vZGFsIHNob3VsZCBub3QgcHJvY2VlZCBhbnkgZnVydGhlci5cbiAgICAgICAgICpcbiAgICAgICAgICogY2FuRGlzbWlzcyBpcyBuZXZlciBmaXJlZCB2aWEgZ2VzdHVyZSBpZiB0aGVyZSBpc1xuICAgICAgICAgKiBubyAwIGJyZWFrcG9pbnQuIEhvd2V2ZXIsIGl0IGNhbiBiZSBmaXJlZCBpZiB0aGUgdXNlclxuICAgICAgICAgKiBwcmVzc2VzIEVzYyBvciB0aGUgaGFyZHdhcmUgYmFjayBidXR0b24uXG4gICAgICAgICAqIFRPRE8gKEZXLTkzNylcbiAgICAgICAgICogUmVtb3ZlIHVuZGVmaW5lZCBjaGVja1xuICAgICAgICAgKi9cbiAgICAgICAgY2FuRGlzbWlzc0Jsb2Nrc0dlc3R1cmUgPSBiYXNlRWwuY2FuRGlzbWlzcyAhPT0gdW5kZWZpbmVkICYmIGJhc2VFbC5jYW5EaXNtaXNzICE9PSB0cnVlICYmIG1pbkJyZWFrcG9pbnQgPT09IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSB0aGUgc2Nyb2xsIGVsZW1lbnQgcmVmZXJlbmNlIHdoZW4gdGhlIGdlc3R1cmUgc3RhcnRzLFxuICAgICAgICAgKiB0aGlzIGFsbG93cyB1cyB0byBhdm9pZCBxdWVyeWluZyB0aGUgRE9NIGZvciB0aGUgdGFyZ2V0IGluIG9uTW92ZSxcbiAgICAgICAgICogd2hpY2ggd291bGQgaW1wYWN0IHBlcmZvcm1hbmNlIHNpZ25pZmljYW50bHkuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoIWV4cGFuZFRvU2Nyb2xsKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRFbCA9IGZpbmRDbG9zZXN0SW9uQ29udGVudChkZXRhaWwuZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgICAgIGNhY2hlZFNjcm9sbEVsID1cbiAgICAgICAgICAgICAgICB0YXJnZXRFbCAmJiBpc0lvbkNvbnRlbnQodGFyZ2V0RWwpID8gZ2V0RWxlbWVudFJvb3QodGFyZ2V0RWwpLnF1ZXJ5U2VsZWN0b3IoJy5pbm5lci1zY3JvbGwnKSA6IHRhcmdldEVsO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBleHBhbmRUb1Njcm9sbCBpcyBkaXNhYmxlZCwgd2UgbmVlZCB0byBzd2FwXG4gICAgICAgICAqIHRoZSBmb290ZXIgdmlzaWJpbGl0eSB0byB0aGUgb3JpZ2luYWwsIHNvIGlmIHRoZSBtb2RhbFxuICAgICAgICAgKiBpcyBkaXNtaXNzZWQsIHRoZSBmb290ZXIgZGlzbWlzc2VzIHdpdGggdGhlIG1vZGFsXG4gICAgICAgICAqIGFuZCBkb2Vzbid0IHN0YXkgb24gdGhlIHNjcmVlbiBhZnRlciB0aGUgbW9kYWwgaXMgZ29uZS5cbiAgICAgICAgICovXG4gICAgICAgIGlmICghZXhwYW5kVG9TY3JvbGwpIHtcbiAgICAgICAgICAgIHN3YXBGb290ZXJWaXNpYmlsaXR5KCdvcmlnaW5hbCcpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB3ZSBhcmUgcHVsbGluZyBkb3duLCB0aGVuIGl0IGlzIHBvc3NpYmxlIHdlIGFyZSBwdWxsaW5nIG9uIHRoZSBjb250ZW50LlxuICAgICAgICAgKiBXZSBkbyBub3Qgd2FudCBzY3JvbGxpbmcgdG8gaGFwcGVuIGF0IHRoZSBzYW1lIHRpbWUgYXMgdGhlIGdlc3R1cmUuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoZGV0YWlsLmRlbHRhWSA+IDAgJiYgY29udGVudEVsKSB7XG4gICAgICAgICAgICBjb250ZW50RWwuc2Nyb2xsWSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERpc21pc3NlcyB0aGUgb3BlbiBrZXlib2FyZCB3aGVuIHRoZSBzaGVldCBkcmFnIGdlc3R1cmUgaXMgc3RhcnRlZC5cbiAgICAgICAgICAgICAqIFNldHMgdGhlIGZvY3VzIG9udG8gdGhlIG1vZGFsIGVsZW1lbnQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGJhc2VFbC5mb2N1cygpO1xuICAgICAgICB9KTtcbiAgICAgICAgYW5pbWF0aW9uLnByb2dyZXNzU3RhcnQodHJ1ZSwgMSAtIGN1cnJlbnRCcmVha3BvaW50KTtcbiAgICB9O1xuICAgIGNvbnN0IG9uTW92ZSA9IChkZXRhaWwpID0+IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGBleHBhbmRUb1Njcm9sbGAgaXMgZGlzYWJsZWQsIGFuZCBhbiB1cHdhcmRzIHN3aXBlIGdlc3R1cmUgaXMgZG9uZSB3aXRoaW5cbiAgICAgICAgICogdGhlIHNjcm9sbGFibGUgY29udGVudCwgd2Ugc2hvdWxkIG5vdCBhbGxvdyB0aGUgc3dpcGUgZ2VzdHVyZSB0byBjb250aW51ZS5cbiAgICAgICAgICovXG4gICAgICAgIGlmICghZXhwYW5kVG9TY3JvbGwgJiYgZGV0YWlsLmRlbHRhWSA8PSAwICYmIGNhY2hlZFNjcm9sbEVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHdlIGFyZSBwdWxsaW5nIGRvd24sIHRoZW4gaXQgaXMgcG9zc2libGUgd2UgYXJlIHB1bGxpbmcgb24gdGhlIGNvbnRlbnQuXG4gICAgICAgICAqIFdlIGRvIG5vdCB3YW50IHNjcm9sbGluZyB0byBoYXBwZW4gYXQgdGhlIHNhbWUgdGltZSBhcyB0aGUgZ2VzdHVyZS5cbiAgICAgICAgICogVGhpcyBhY2NvdW50cyBmb3Igd2hlbiB0aGUgdXNlciBzY3JvbGxzIGRvd24sIHNjcm9sbHMgYWxsIHRoZSB3YXkgdXAsIGFuZCB0aGVuXG4gICAgICAgICAqIHB1bGxzIGRvd24gYWdhaW4gc3VjaCB0aGF0IHRoZSBtb2RhbCBzaG91bGQgc3RhcnQgdG8gbW92ZS5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChkZXRhaWwuZGVsdGFZID4gMCAmJiBjb250ZW50RWwpIHtcbiAgICAgICAgICAgIGNvbnRlbnRFbC5zY3JvbGxZID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdpdmVuIHRoZSBjaGFuZ2UgaW4gZ2VzdHVyZSBwb3NpdGlvbiBvbiB0aGUgWSBheGlzLFxuICAgICAgICAgKiBjb21wdXRlIHdoZXJlIHRoZSBvZmZzZXQgb2YgdGhlIGFuaW1hdGlvbiBzaG91bGQgYmVcbiAgICAgICAgICogcmVsYXRpdmUgdG8gd2hlcmUgdGhlIHVzZXIgZHJhZ2dlZC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGluaXRpYWxTdGVwID0gMSAtIGN1cnJlbnRCcmVha3BvaW50O1xuICAgICAgICBjb25zdCBzZWNvbmRUb0xhc3RCcmVha3BvaW50ID0gYnJlYWtwb2ludHMubGVuZ3RoID4gMSA/IDEgLSBicmVha3BvaW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc3RlcCA9IGluaXRpYWxTdGVwICsgZGV0YWlsLmRlbHRhWSAvIGhlaWdodDtcbiAgICAgICAgY29uc3QgaXNBdHRlbXB0aW5nRGlzbWlzc1dpdGhDYW5EaXNtaXNzID0gc2Vjb25kVG9MYXN0QnJlYWtwb2ludCAhPT0gdW5kZWZpbmVkICYmIHN0ZXAgPj0gc2Vjb25kVG9MYXN0QnJlYWtwb2ludCAmJiBjYW5EaXNtaXNzQmxvY2tzR2VzdHVyZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHdlIGFyZSBibG9ja2luZyB0aGUgZ2VzdHVyZSBmcm9tIGRpc21pc3NpbmcsXG4gICAgICAgICAqIHNldCB0aGUgbWF4IHN0ZXAgdmFsdWUgc28gdGhhdCB0aGUgc2hlZXQgY2Fubm90IGJlXG4gICAgICAgICAqIGNvbXBsZXRlbHkgaGlkZGVuLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgbWF4U3RlcCA9IGlzQXR0ZW1wdGluZ0Rpc21pc3NXaXRoQ2FuRGlzbWlzcyA/IGNhbkRpc21pc3NNYXhTdGVwIDogMC45OTk5O1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgd2UgYXJlIGJsb2NraW5nIHRoZSBnZXN0dXJlIGZyb21cbiAgICAgICAgICogZGlzbWlzc2luZywgY2FsY3VsYXRlIHRoZSBzcHJpbmcgbW9kaWZpZXIgdmFsdWVcbiAgICAgICAgICogdGhpcyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBzdGFydGluZyBicmVha3BvaW50XG4gICAgICAgICAqIHZhbHVlIHRvIGdpdmUgdGhlIGdlc3R1cmUgYSBzcHJpbmctbGlrZSBmZWVsaW5nLlxuICAgICAgICAgKiBOb3RlIHRoYXQgd2hlbiBpc0F0dGVtcHRpbmdEaXNtaXNzV2l0aENhbkRpc21pc3MgaXMgdHJ1ZSxcbiAgICAgICAgICogdGhlIG1vZGlmaWVyIGlzIGFsd2F5cyBhZGRlZCB0byB0aGUgYnJlYWtwb2ludCB0aGF0XG4gICAgICAgICAqIGFwcGVhcnMgcmlnaHQgYWZ0ZXIgdGhlIDAgYnJlYWtwb2ludC5cbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZSB0aGF0IHRoaXMgbW9kaWZpZXIgaXMgZXNzZW50aWFsbHkgdGhlIHByb2dyZXNzaW9uXG4gICAgICAgICAqIGJldHdlZW4gc2Vjb25kVG9MYXN0QnJlYWtwb2ludCBhbmQgbWF4U3RlcCB3aGljaCBpc1xuICAgICAgICAgKiB3aHkgd2Ugc3VidHJhY3Qgc2Vjb25kVG9MYXN0QnJlYWtwb2ludC4gVGhpcyBsZXRzIHVzIGdldFxuICAgICAgICAgKiB0aGUgcmVzdWx0IGFzIGEgdmFsdWUgZnJvbSAwIHRvIDEuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBwcm9jZXNzZWRTdGVwID0gaXNBdHRlbXB0aW5nRGlzbWlzc1dpdGhDYW5EaXNtaXNzICYmIHNlY29uZFRvTGFzdEJyZWFrcG9pbnQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBzZWNvbmRUb0xhc3RCcmVha3BvaW50ICtcbiAgICAgICAgICAgICAgICBjYWxjdWxhdGVTcHJpbmdTdGVwKChzdGVwIC0gc2Vjb25kVG9MYXN0QnJlYWtwb2ludCkgLyAobWF4U3RlcCAtIHNlY29uZFRvTGFzdEJyZWFrcG9pbnQpKVxuICAgICAgICAgICAgOiBzdGVwO1xuICAgICAgICBvZmZzZXQgPSBjbGFtcCgwLjAwMDEsIHByb2Nlc3NlZFN0ZXAsIG1heFN0ZXApO1xuICAgICAgICBhbmltYXRpb24ucHJvZ3Jlc3NTdGVwKG9mZnNldCk7XG4gICAgfTtcbiAgICBjb25zdCBvbkVuZCA9IChkZXRhaWwpID0+IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGV4cGFuZFRvU2Nyb2xsIGlzIGRpc2FibGVkLCB3ZSBzaG91bGQgbm90IGFsbG93IHRoZSBtb3ZlU2hlZXRUb0JyZWFrcG9pbnRcbiAgICAgICAgICogZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSB1c2VyIGlzIHRyeWluZyB0byBzd2lwZSBjb250ZW50IHVwd2FyZHMgYW5kIHRoZSBjb250ZW50XG4gICAgICAgICAqIGlzIG5vdCBzY3JvbGxlZCB0byB0aGUgdG9wLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCFleHBhbmRUb1Njcm9sbCAmJiBkZXRhaWwuZGVsdGFZIDw9IDAgJiYgY2FjaGVkU2Nyb2xsRWwgJiYgY2FjaGVkU2Nyb2xsRWwuc2Nyb2xsVG9wID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSBnZXN0dXJlIHJlbGVhc2VzLCB3ZSBuZWVkIHRvIGRldGVybWluZVxuICAgICAgICAgKiB0aGUgY2xvc2VzdCBicmVha3BvaW50IHRvIHNuYXAgdG8uXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCB2ZWxvY2l0eSA9IGRldGFpbC52ZWxvY2l0eVk7XG4gICAgICAgIGNvbnN0IHRocmVzaG9sZCA9IChkZXRhaWwuZGVsdGFZICsgdmVsb2NpdHkgKiAzNTApIC8gaGVpZ2h0O1xuICAgICAgICBjb25zdCBkaWZmID0gY3VycmVudEJyZWFrcG9pbnQgLSB0aHJlc2hvbGQ7XG4gICAgICAgIGNvbnN0IGNsb3Nlc3QgPSBicmVha3BvaW50cy5yZWR1Y2UoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyhiIC0gZGlmZikgPCBNYXRoLmFicyhhIC0gZGlmZikgPyBiIDogYTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1vdmVTaGVldFRvQnJlYWtwb2ludCh7XG4gICAgICAgICAgICBicmVha3BvaW50OiBjbG9zZXN0LFxuICAgICAgICAgICAgYnJlYWtwb2ludE9mZnNldDogb2Zmc2V0LFxuICAgICAgICAgICAgY2FuRGlzbWlzczogY2FuRGlzbWlzc0Jsb2Nrc0dlc3R1cmUsXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoZSBzd2lwZSBpcyB1c2VyLWRyaXZlbiwgc28gd2Ugc2hvdWxkXG4gICAgICAgICAgICAgKiBhbHdheXMgYW5pbWF0ZSB3aGVuIHRoZSBnZXN0dXJlIGVuZHMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGFuaW1hdGVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IG1vdmVTaGVldFRvQnJlYWtwb2ludCA9IChvcHRpb25zKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgYnJlYWtwb2ludCwgY2FuRGlzbWlzcywgYnJlYWtwb2ludE9mZnNldCwgYW5pbWF0ZWQgfSA9IG9wdGlvbnM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYW5EaXNtaXNzIHNob3VsZCBvbmx5IHByZXZlbnQgc25hcHBpbmdcbiAgICAgICAgICogd2hlbiB1c2VycyBhcmUgdHJ5aW5nIHRvIGRpc21pc3MuIElmIGNhbkRpc21pc3NcbiAgICAgICAgICogaXMgcHJlc2VudCBidXQgdGhlIHVzZXIgaXMgdHJ5aW5nIHRvIHN3aXBlIHVwd2FyZHMsXG4gICAgICAgICAqIHdlIHNob3VsZCBhbGxvdyB0aGF0IHRvIGhhcHBlbixcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHNob3VsZFByZXZlbnREaXNtaXNzID0gY2FuRGlzbWlzcyAmJiBicmVha3BvaW50ID09PSAwO1xuICAgICAgICBjb25zdCBzbmFwVG9CcmVha3BvaW50ID0gc2hvdWxkUHJldmVudERpc21pc3MgPyBjdXJyZW50QnJlYWtwb2ludCA6IGJyZWFrcG9pbnQ7XG4gICAgICAgIGNvbnN0IHNob3VsZFJlbWFpbk9wZW4gPSBzbmFwVG9CcmVha3BvaW50ICE9PSAwO1xuICAgICAgICBjdXJyZW50QnJlYWtwb2ludCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgdGhlIGFuaW1hdGlvbiBzbyB0aGF0IGl0IHBsYXlzIGZyb21cbiAgICAgICAgICogdGhlIGxhc3Qgb2Zmc2V0IHRvIHRoZSBjbG9zZXN0IHNuYXAgcG9pbnQuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAod3JhcHBlckFuaW1hdGlvbiAmJiBiYWNrZHJvcEFuaW1hdGlvbikge1xuICAgICAgICAgICAgd3JhcHBlckFuaW1hdGlvbi5rZXlmcmFtZXMoW1xuICAgICAgICAgICAgICAgIHsgb2Zmc2V0OiAwLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKCR7YnJlYWtwb2ludE9mZnNldCAqIDEwMH0lKWAgfSxcbiAgICAgICAgICAgICAgICB7IG9mZnNldDogMSwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgkeygxIC0gc25hcFRvQnJlYWtwb2ludCkgKiAxMDB9JSlgIH0sXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGJhY2tkcm9wQW5pbWF0aW9uLmtleWZyYW1lcyhbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGBjYWxjKHZhcigtLWJhY2tkcm9wLW9wYWNpdHkpICogJHtnZXRCYWNrZHJvcFZhbHVlRm9yU2hlZXQoMSAtIGJyZWFrcG9pbnRPZmZzZXQsIGJhY2tkcm9wQnJlYWtwb2ludCl9KWAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogMSxcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogYGNhbGModmFyKC0tYmFja2Ryb3Atb3BhY2l0eSkgKiAke2dldEJhY2tkcm9wVmFsdWVGb3JTaGVldChzbmFwVG9CcmVha3BvaW50LCBiYWNrZHJvcEJyZWFrcG9pbnQpfSlgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGlmIChjb250ZW50QW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGhlIG1vZGFsIGNvbnRlbnQgc2hvdWxkIHNjcm9sbCBhdCBhbnkgYnJlYWtwb2ludCB3aGVuIGV4cGFuZFRvU2Nyb2xsXG4gICAgICAgICAgICAgICAgICogaXMgZGlzYWJsZWQuIEluIG9yZGVyIHRvIGRvIHRoaXMsIHRoZSBjb250ZW50IG5lZWRzIHRvIGJlIGNvbXBsZXRlbHlcbiAgICAgICAgICAgICAgICAgKiB2aWV3YWJsZSBzbyBzY3JvbGxpbmcgY2FuIGFjY2VzcyBldmVyeXRoaW5nLiBPdGhlcndpc2UsIHRoZSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICogYmVoYXZpb3Igd291bGQgc2hvdyB0aGUgY29udGVudCBvZmYgdGhlIHNjcmVlbiBhbmQgb25seSBhbGxvd1xuICAgICAgICAgICAgICAgICAqIHNjcm9sbGluZyB3aGVuIHRoZSBzaGVldCBpcyBmdWxseSBleHBhbmRlZC5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjb250ZW50QW5pbWF0aW9uLmtleWZyYW1lcyhbXG4gICAgICAgICAgICAgICAgICAgIHsgb2Zmc2V0OiAwLCBtYXhIZWlnaHQ6IGAkeygxIC0gYnJlYWtwb2ludE9mZnNldCkgKiAxMDB9JWAgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBvZmZzZXQ6IDEsIG1heEhlaWdodDogYCR7c25hcFRvQnJlYWtwb2ludCAqIDEwMH0lYCB9LFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYW5pbWF0aW9uLnByb2dyZXNzU3RlcCgwKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogR2VzdHVyZSBzaG91bGQgcmVtYWluIGRpc2FibGVkIHVudGlsIHRoZVxuICAgICAgICAgKiBzbmFwcGluZyBhbmltYXRpb24gY29tcGxldGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2VzdHVyZS5lbmFibGUoZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZXhwYW5kVG9TY3JvbGwgaXMgZGlzYWJsZWQsIHdlIG5lZWQgdG8gc3dhcFxuICAgICAgICAgKiB0aGUgZm9vdGVyIHZpc2liaWxpdHkgdG8gdGhlIGNsb25lZCBvbmUgc28gdGhlIGZvb3RlclxuICAgICAgICAgKiBkb2Vzbid0IGZsaWNrZXIgd2hlbiB0aGUgc2hlZXQncyBoZWlnaHQgaXMgYW5pbWF0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoIWV4cGFuZFRvU2Nyb2xsICYmIHNob3VsZFJlbWFpbk9wZW4pIHtcbiAgICAgICAgICAgIHN3YXBGb290ZXJWaXNpYmlsaXR5KCdjbG9uZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkUHJldmVudERpc21pc3MpIHtcbiAgICAgICAgICAgIGhhbmRsZUNhbkRpc21pc3MoYmFzZUVsLCBhbmltYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFzaG91bGRSZW1haW5PcGVuKSB7XG4gICAgICAgICAgICBvbkRpc21pc3MoKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRW5hYmxlcyBzY3JvbGxpbmcgaW1tZWRpYXRlbHkgaWYgdGhlIHNoZWV0IGlzIGFib3V0IHRvIGZ1bGx5IGV4cGFuZFxuICAgICAgICAgKiBvciBpZiBpdCBhbGxvd3Mgc2Nyb2xsaW5nIGF0IGFueSBicmVha3BvaW50LiBXaXRob3V0IHRoaXMsIHRoZXJlIHdvdWxkXG4gICAgICAgICAqIGJlIGEgfjUwMG1zIGRlbGF5IHdoaWxlIHRoZSBtb2RhbCBhbmltYXRpb24gY29tcGxldGVzLCBjYXVzaW5nIGFcbiAgICAgICAgICogbm90aWNlYWJsZSBsYWcuIE5hdGl2ZSBpT1MgYWxsb3dzIHNjcm9sbGluZyBhcyBzb29uIGFzIHRoZSBnZXN0dXJlIGlzXG4gICAgICAgICAqIHJlbGVhc2VkLCBzbyB3ZSBhbGlnbiB3aXRoIHRoYXQgYmVoYXZpb3IuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoY29udGVudEVsICYmIChzbmFwVG9CcmVha3BvaW50ID09PSBicmVha3BvaW50c1ticmVha3BvaW50cy5sZW5ndGggLSAxXSB8fCAhZXhwYW5kVG9TY3JvbGwpKSB7XG4gICAgICAgICAgICBjb250ZW50RWwuc2Nyb2xsWSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBhbmltYXRpb25cbiAgICAgICAgICAgICAgICAub25GaW5pc2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGRSZW1haW5PcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBPbmNlIHRoZSBzbmFwcGluZyBhbmltYXRpb24gY29tcGxldGVzLFxuICAgICAgICAgICAgICAgICAgICAgKiB3ZSBuZWVkIHRvIHJlc2V0IHRoZSBhbmltYXRpb24gdG8gZ29cbiAgICAgICAgICAgICAgICAgICAgICogZnJvbSAwIHRvIDEgc28gdXNlcnMgY2FuIHN3aXBlIGluIGFueSBkaXJlY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgICAqIFdlIHRoZW4gc2V0IHRoZSBhbmltYXRpb24gb2Zmc2V0IHRvIHRoZSBjdXJyZW50XG4gICAgICAgICAgICAgICAgICAgICAqIGJyZWFrcG9pbnQgc28gdGhhdCBpdCBzdGFydHMgYXQgdGhlIHNuYXBwZWQgcG9zaXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAod3JhcHBlckFuaW1hdGlvbiAmJiBiYWNrZHJvcEFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVyQW5pbWF0aW9uLmtleWZyYW1lcyhbLi4uU2hlZXREZWZhdWx0cy5XUkFQUEVSX0tFWUZSQU1FU10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wQW5pbWF0aW9uLmtleWZyYW1lcyhbLi4uU2hlZXREZWZhdWx0cy5CQUNLRFJPUF9LRVlGUkFNRVNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50QW5pbWF0aW9uID09PSBudWxsIHx8IGNvbnRlbnRBbmltYXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRlbnRBbmltYXRpb24ua2V5ZnJhbWVzKFsuLi5TaGVldERlZmF1bHRzLkNPTlRFTlRfS0VZRlJBTUVTXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLnByb2dyZXNzU3RhcnQodHJ1ZSwgMSAtIHNuYXBUb0JyZWFrcG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCcmVha3BvaW50ID0gc25hcFRvQnJlYWtwb2ludDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJyZWFrcG9pbnRDaGFuZ2UoY3VycmVudEJyZWFrcG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEJhY2tkcm9wIHNob3VsZCBiZWNvbWUgZW5hYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGFmdGVyIHRoZSBiYWNrZHJvcEJyZWFrcG9pbnQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRFbmFibGVCYWNrZHJvcCA9IGN1cnJlbnRCcmVha3BvaW50ID4gYmFja2Ryb3BCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRFbmFibGVCYWNrZHJvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVCYWNrZHJvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZUJhY2tkcm9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlc3R1cmUuZW5hYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VzdHVyZS5lbmFibGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGhpcyBtdXN0IGJlIGEgb25lIHRpbWUgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgKiBvdGhlcndpc2UgYSBuZXcgY2FsbGJhY2sgd2lsbFxuICAgICAgICAgICAgICAgICAqIGJlIGFkZGVkIGV2ZXJ5IHRpbWUgb25FbmQgcnVucy5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIH0sIHsgb25lVGltZUNhbGxiYWNrOiB0cnVlIH0pXG4gICAgICAgICAgICAgICAgLnByb2dyZXNzRW5kKDEsIDAsIGFuaW1hdGVkID8gNTAwIDogMCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgZ2VzdHVyZSA9IGNyZWF0ZUdlc3R1cmUoe1xuICAgICAgICBlbDogd3JhcHBlckVsLFxuICAgICAgICBnZXN0dXJlTmFtZTogJ21vZGFsU2hlZXQnLFxuICAgICAgICBnZXN0dXJlUHJpb3JpdHk6IDQwLFxuICAgICAgICBkaXJlY3Rpb246ICd5JyxcbiAgICAgICAgdGhyZXNob2xkOiAxMCxcbiAgICAgICAgY2FuU3RhcnQsXG4gICAgICAgIG9uU3RhcnQsXG4gICAgICAgIG9uTW92ZSxcbiAgICAgICAgb25FbmQsXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2VzdHVyZSxcbiAgICAgICAgbW92ZVNoZWV0VG9CcmVha3BvaW50LFxuICAgIH07XG59O1xuXG5jb25zdCBtb2RhbElvc0NzcyA9IFwiOmhvc3R7LS13aWR0aDoxMDAlOy0tbWluLXdpZHRoOmF1dG87LS1tYXgtd2lkdGg6YXV0bzstLWhlaWdodDoxMDAlOy0tbWluLWhlaWdodDphdXRvOy0tbWF4LWhlaWdodDphdXRvOy0tb3ZlcmZsb3c6aGlkZGVuOy0tYm9yZGVyLXJhZGl1czowOy0tYm9yZGVyLXdpZHRoOjA7LS1ib3JkZXItc3R5bGU6bm9uZTstLWJvcmRlci1jb2xvcjp0cmFuc3BhcmVudDstLWJhY2tncm91bmQ6dmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IsICNmZmYpOy0tYm94LXNoYWRvdzpub25lOy0tYmFja2Ryb3Atb3BhY2l0eTowO2xlZnQ6MDtyaWdodDowO3RvcDowO2JvdHRvbTowO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmFic29sdXRlOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtvdXRsaW5lOm5vbmU7Y29sb3I6dmFyKC0taW9uLXRleHQtY29sb3IsICMwMDApO2NvbnRhaW46c3RyaWN0fS5tb2RhbC13cmFwcGVyLGlvbi1iYWNrZHJvcHtwb2ludGVyLWV2ZW50czphdXRvfTpob3N0KC5vdmVybGF5LWhpZGRlbil7ZGlzcGxheTpub25lfS5tb2RhbC13cmFwcGVyLC5tb2RhbC1zaGFkb3d7Ym9yZGVyLXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTt3aWR0aDp2YXIoLS13aWR0aCk7bWluLXdpZHRoOnZhcigtLW1pbi13aWR0aCk7bWF4LXdpZHRoOnZhcigtLW1heC13aWR0aCk7aGVpZ2h0OnZhcigtLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1taW4taGVpZ2h0KTttYXgtaGVpZ2h0OnZhcigtLW1heC1oZWlnaHQpO2JvcmRlci13aWR0aDp2YXIoLS1ib3JkZXItd2lkdGgpO2JvcmRlci1zdHlsZTp2YXIoLS1ib3JkZXItc3R5bGUpO2JvcmRlci1jb2xvcjp2YXIoLS1ib3JkZXItY29sb3IpO2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZCk7LXdlYmtpdC1ib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO2JveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7b3ZlcmZsb3c6dmFyKC0tb3ZlcmZsb3cpO3otaW5kZXg6MTB9Lm1vZGFsLXNoYWRvd3twb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50fUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWluLWhlaWdodDogNjAwcHgpezpob3N0ey0td2lkdGg6NjAwcHg7LS1oZWlnaHQ6NTAwcHg7LS1pb24tc2FmZS1hcmVhLXRvcDowcHg7LS1pb24tc2FmZS1hcmVhLWJvdHRvbTowcHg7LS1pb24tc2FmZS1hcmVhLXJpZ2h0OjBweDstLWlvbi1zYWZlLWFyZWEtbGVmdDowcHh9fUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWluLWhlaWdodDogNzY4cHgpezpob3N0ey0td2lkdGg6NjAwcHg7LS1oZWlnaHQ6NjAwcHh9fS5tb2RhbC1oYW5kbGV7bGVmdDowcHg7cmlnaHQ6MHB4O3RvcDo1cHg7Ym9yZGVyLXJhZGl1czo4cHg7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6YXV0bzttYXJnaW4taW5saW5lLXN0YXJ0OmF1dG87LXdlYmtpdC1tYXJnaW4tZW5kOmF1dG87bWFyZ2luLWlubGluZS1lbmQ6YXV0bztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDozNnB4O2hlaWdodDo1cHg7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKTtib3JkZXI6MDtiYWNrZ3JvdW5kOnZhcigtLWlvbi1jb2xvci1zdGVwLTM1MCwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3Itc3RlcC0zNTAsICNjMGMwYmUpKTtjdXJzb3I6cG9pbnRlcjt6LWluZGV4OjExfS5tb2RhbC1oYW5kbGU6OmJlZm9yZXstd2Via2l0LXBhZGRpbmctc3RhcnQ6NHB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjRweDstd2Via2l0LXBhZGRpbmctZW5kOjRweDtwYWRkaW5nLWlubGluZS1lbmQ6NHB4O3BhZGRpbmctdG9wOjRweDtwYWRkaW5nLWJvdHRvbTo0cHg7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MzZweDtoZWlnaHQ6NXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLCAtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsIC01MCUpO2NvbnRlbnQ6XFxcIlxcXCJ9Omhvc3QoLm1vZGFsLXNoZWV0KXstLWhlaWdodDpjYWxjKDEwMCUgLSAodmFyKC0taW9uLXNhZmUtYXJlYS10b3ApICsgMTBweCkpfTpob3N0KC5tb2RhbC1zaGVldCkgLm1vZGFsLXdyYXBwZXIsOmhvc3QoLm1vZGFsLXNoZWV0KSAubW9kYWwtc2hhZG93e3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTowfTpob3N0KC5tb2RhbC1zaGVldC5tb2RhbC1uby1leHBhbmQtc2Nyb2xsKSBpb24tZm9vdGVye3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTowO3dpZHRoOnZhcigtLXdpZHRoKX06aG9zdHstLWJhY2tkcm9wLW9wYWNpdHk6dmFyKC0taW9uLWJhY2tkcm9wLW9wYWNpdHksIDAuNCl9Omhvc3QoLm1vZGFsLWNhcmQpLDpob3N0KC5tb2RhbC1zaGVldCl7LS1ib3JkZXItcmFkaXVzOjEwcHh9QG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkgYW5kIChtaW4taGVpZ2h0OiA2MDBweCl7Omhvc3R7LS1ib3JkZXItcmFkaXVzOjEwcHh9fS5tb2RhbC13cmFwcGVyey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAxMDAlLCAgMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAxMDAlLCAgMCl9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY3cHgpe0BzdXBwb3J0cyAod2lkdGg6IG1heCgwcHgsIDFweCkpezpob3N0KC5tb2RhbC1jYXJkKXstLWhlaWdodDpjYWxjKDEwMCUgLSBtYXgoMzBweCwgdmFyKC0taW9uLXNhZmUtYXJlYS10b3ApKSAtIDEwcHgpfX1Ac3VwcG9ydHMgbm90ICh3aWR0aDogbWF4KDBweCwgMXB4KSl7Omhvc3QoLm1vZGFsLWNhcmQpey0taGVpZ2h0OmNhbGMoMTAwJSAtIDQwcHgpfX06aG9zdCgubW9kYWwtY2FyZCkgLm1vZGFsLXdyYXBwZXJ7Ym9yZGVyLXN0YXJ0LXN0YXJ0LXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTtib3JkZXItc3RhcnQtZW5kLXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTtib3JkZXItZW5kLWVuZC1yYWRpdXM6MDtib3JkZXItZW5kLXN0YXJ0LXJhZGl1czowfTpob3N0KC5tb2RhbC1jYXJkKXstLWJhY2tkcm9wLW9wYWNpdHk6MDstLXdpZHRoOjEwMCU7LW1zLWZsZXgtYWxpZ246ZW5kO2FsaWduLWl0ZW1zOmZsZXgtZW5kfTpob3N0KC5tb2RhbC1jYXJkKSAubW9kYWwtc2hhZG93e2Rpc3BsYXk6bm9uZX06aG9zdCgubW9kYWwtY2FyZCkgaW9uLWJhY2tkcm9we3BvaW50ZXItZXZlbnRzOm5vbmV9fUBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KXs6aG9zdCgubW9kYWwtY2FyZCl7LS13aWR0aDpjYWxjKDEwMCUgLSAxMjBweCk7LS1oZWlnaHQ6Y2FsYygxMDAlIC0gKDEyMHB4ICsgdmFyKC0taW9uLXNhZmUtYXJlYS10b3ApICsgdmFyKC0taW9uLXNhZmUtYXJlYS1ib3R0b20pKSk7LS1tYXgtd2lkdGg6NzIwcHg7LS1tYXgtaGVpZ2h0OjEwMDBweDstLWJhY2tkcm9wLW9wYWNpdHk6MDstLWJveC1zaGFkb3c6MHB4IDBweCAzMHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgMC41cyBlYXNlLWluLW91dDt0cmFuc2l0aW9uOmFsbCAwLjVzIGVhc2UtaW4tb3V0fTpob3N0KC5tb2RhbC1jYXJkKSAubW9kYWwtd3JhcHBlcnstd2Via2l0LWJveC1zaGFkb3c6bm9uZTtib3gtc2hhZG93Om5vbmV9Omhvc3QoLm1vZGFsLWNhcmQpIC5tb2RhbC1zaGFkb3d7LXdlYmtpdC1ib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO2JveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyl9fTpob3N0KC5tb2RhbC1zaGVldCkgLm1vZGFsLXdyYXBwZXJ7Ym9yZGVyLXN0YXJ0LXN0YXJ0LXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTtib3JkZXItc3RhcnQtZW5kLXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTtib3JkZXItZW5kLWVuZC1yYWRpdXM6MDtib3JkZXItZW5kLXN0YXJ0LXJhZGl1czowfTpob3N0KC5tb2RhbC1zaGVldC5tb2RhbC1uby1leHBhbmQtc2Nyb2xsKSBpb24tZm9vdGVyIGlvbi10b29sYmFyOmZpcnN0LW9mLXR5cGV7cGFkZGluZy10b3A6NnB4fVwiO1xuY29uc3QgSW9uTW9kYWxJb3NTdHlsZTAgPSBtb2RhbElvc0NzcztcblxuY29uc3QgbW9kYWxNZENzcyA9IFwiOmhvc3R7LS13aWR0aDoxMDAlOy0tbWluLXdpZHRoOmF1dG87LS1tYXgtd2lkdGg6YXV0bzstLWhlaWdodDoxMDAlOy0tbWluLWhlaWdodDphdXRvOy0tbWF4LWhlaWdodDphdXRvOy0tb3ZlcmZsb3c6aGlkZGVuOy0tYm9yZGVyLXJhZGl1czowOy0tYm9yZGVyLXdpZHRoOjA7LS1ib3JkZXItc3R5bGU6bm9uZTstLWJvcmRlci1jb2xvcjp0cmFuc3BhcmVudDstLWJhY2tncm91bmQ6dmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IsICNmZmYpOy0tYm94LXNoYWRvdzpub25lOy0tYmFja2Ryb3Atb3BhY2l0eTowO2xlZnQ6MDtyaWdodDowO3RvcDowO2JvdHRvbTowO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmFic29sdXRlOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtvdXRsaW5lOm5vbmU7Y29sb3I6dmFyKC0taW9uLXRleHQtY29sb3IsICMwMDApO2NvbnRhaW46c3RyaWN0fS5tb2RhbC13cmFwcGVyLGlvbi1iYWNrZHJvcHtwb2ludGVyLWV2ZW50czphdXRvfTpob3N0KC5vdmVybGF5LWhpZGRlbil7ZGlzcGxheTpub25lfS5tb2RhbC13cmFwcGVyLC5tb2RhbC1zaGFkb3d7Ym9yZGVyLXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTt3aWR0aDp2YXIoLS13aWR0aCk7bWluLXdpZHRoOnZhcigtLW1pbi13aWR0aCk7bWF4LXdpZHRoOnZhcigtLW1heC13aWR0aCk7aGVpZ2h0OnZhcigtLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1taW4taGVpZ2h0KTttYXgtaGVpZ2h0OnZhcigtLW1heC1oZWlnaHQpO2JvcmRlci13aWR0aDp2YXIoLS1ib3JkZXItd2lkdGgpO2JvcmRlci1zdHlsZTp2YXIoLS1ib3JkZXItc3R5bGUpO2JvcmRlci1jb2xvcjp2YXIoLS1ib3JkZXItY29sb3IpO2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZCk7LXdlYmtpdC1ib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO2JveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7b3ZlcmZsb3c6dmFyKC0tb3ZlcmZsb3cpO3otaW5kZXg6MTB9Lm1vZGFsLXNoYWRvd3twb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50fUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWluLWhlaWdodDogNjAwcHgpezpob3N0ey0td2lkdGg6NjAwcHg7LS1oZWlnaHQ6NTAwcHg7LS1pb24tc2FmZS1hcmVhLXRvcDowcHg7LS1pb24tc2FmZS1hcmVhLWJvdHRvbTowcHg7LS1pb24tc2FmZS1hcmVhLXJpZ2h0OjBweDstLWlvbi1zYWZlLWFyZWEtbGVmdDowcHh9fUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWluLWhlaWdodDogNzY4cHgpezpob3N0ey0td2lkdGg6NjAwcHg7LS1oZWlnaHQ6NjAwcHh9fS5tb2RhbC1oYW5kbGV7bGVmdDowcHg7cmlnaHQ6MHB4O3RvcDo1cHg7Ym9yZGVyLXJhZGl1czo4cHg7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6YXV0bzttYXJnaW4taW5saW5lLXN0YXJ0OmF1dG87LXdlYmtpdC1tYXJnaW4tZW5kOmF1dG87bWFyZ2luLWlubGluZS1lbmQ6YXV0bztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDozNnB4O2hlaWdodDo1cHg7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKTtib3JkZXI6MDtiYWNrZ3JvdW5kOnZhcigtLWlvbi1jb2xvci1zdGVwLTM1MCwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3Itc3RlcC0zNTAsICNjMGMwYmUpKTtjdXJzb3I6cG9pbnRlcjt6LWluZGV4OjExfS5tb2RhbC1oYW5kbGU6OmJlZm9yZXstd2Via2l0LXBhZGRpbmctc3RhcnQ6NHB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjRweDstd2Via2l0LXBhZGRpbmctZW5kOjRweDtwYWRkaW5nLWlubGluZS1lbmQ6NHB4O3BhZGRpbmctdG9wOjRweDtwYWRkaW5nLWJvdHRvbTo0cHg7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MzZweDtoZWlnaHQ6NXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLCAtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsIC01MCUpO2NvbnRlbnQ6XFxcIlxcXCJ9Omhvc3QoLm1vZGFsLXNoZWV0KXstLWhlaWdodDpjYWxjKDEwMCUgLSAodmFyKC0taW9uLXNhZmUtYXJlYS10b3ApICsgMTBweCkpfTpob3N0KC5tb2RhbC1zaGVldCkgLm1vZGFsLXdyYXBwZXIsOmhvc3QoLm1vZGFsLXNoZWV0KSAubW9kYWwtc2hhZG93e3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTowfTpob3N0KC5tb2RhbC1zaGVldC5tb2RhbC1uby1leHBhbmQtc2Nyb2xsKSBpb24tZm9vdGVye3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTowO3dpZHRoOnZhcigtLXdpZHRoKX06aG9zdHstLWJhY2tkcm9wLW9wYWNpdHk6dmFyKC0taW9uLWJhY2tkcm9wLW9wYWNpdHksIDAuMzIpfUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWluLWhlaWdodDogNjAwcHgpezpob3N0ey0tYm9yZGVyLXJhZGl1czoycHg7LS1ib3gtc2hhZG93OjAgMjhweCA0OHB4IHJnYmEoMCwgMCwgMCwgMC40KX19Lm1vZGFsLXdyYXBwZXJ7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDQwcHgsICAwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDQwcHgsICAwKTtvcGFjaXR5OjAuMDF9XCI7XG5jb25zdCBJb25Nb2RhbE1kU3R5bGUwID0gbW9kYWxNZENzcztcblxuY29uc3QgTW9kYWwgPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgICAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgICAgICB0aGlzLmRpZFByZXNlbnQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbk1vZGFsRGlkUHJlc2VudFwiLCA3KTtcbiAgICAgICAgdGhpcy53aWxsUHJlc2VudCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uTW9kYWxXaWxsUHJlc2VudFwiLCA3KTtcbiAgICAgICAgdGhpcy53aWxsRGlzbWlzcyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uTW9kYWxXaWxsRGlzbWlzc1wiLCA3KTtcbiAgICAgICAgdGhpcy5kaWREaXNtaXNzID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25Nb2RhbERpZERpc21pc3NcIiwgNyk7XG4gICAgICAgIHRoaXMuaW9uQnJlYWtwb2ludERpZENoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uQnJlYWtwb2ludERpZENoYW5nZVwiLCA3KTtcbiAgICAgICAgdGhpcy5kaWRQcmVzZW50U2hvcnRoYW5kID0gY3JlYXRlRXZlbnQodGhpcywgXCJkaWRQcmVzZW50XCIsIDcpO1xuICAgICAgICB0aGlzLndpbGxQcmVzZW50U2hvcnRoYW5kID0gY3JlYXRlRXZlbnQodGhpcywgXCJ3aWxsUHJlc2VudFwiLCA3KTtcbiAgICAgICAgdGhpcy53aWxsRGlzbWlzc1Nob3J0aGFuZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwid2lsbERpc21pc3NcIiwgNyk7XG4gICAgICAgIHRoaXMuZGlkRGlzbWlzc1Nob3J0aGFuZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiZGlkRGlzbWlzc1wiLCA3KTtcbiAgICAgICAgdGhpcy5pb25Nb3VudCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uTW91bnRcIiwgNyk7XG4gICAgICAgIHRoaXMubG9ja0NvbnRyb2xsZXIgPSBjcmVhdGVMb2NrQ29udHJvbGxlcigpO1xuICAgICAgICB0aGlzLnRyaWdnZXJDb250cm9sbGVyID0gY3JlYXRlVHJpZ2dlckNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5jb3JlRGVsZWdhdGUgPSBDb3JlRGVsZWdhdGUoKTtcbiAgICAgICAgdGhpcy5pc1NoZWV0TW9kYWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbmhlcml0ZWRBdHRyaWJ1dGVzID0ge307XG4gICAgICAgIHRoaXMuaW5saW5lID0gZmFsc2U7XG4gICAgICAgIC8vIFdoZXRoZXIgb3Igbm90IG1vZGFsIGlzIGJlaW5nIGRpc21pc3NlZCB2aWEgZ2VzdHVyZVxuICAgICAgICB0aGlzLmdlc3R1cmVBbmltYXRpb25EaXNtaXNzaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25IYW5kbGVDbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2hlZXRUcmFuc2l0aW9uLCBoYW5kbGVCZWhhdmlvciB9ID0gdGhpcztcbiAgICAgICAgICAgIGlmIChoYW5kbGVCZWhhdmlvciAhPT0gJ2N5Y2xlJyB8fCBzaGVldFRyYW5zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoZSBzaGVldCBtb2RhbCBzaG91bGQgbm90IGFkdmFuY2UgdG8gdGhlIG5leHQgYnJlYWtwb2ludFxuICAgICAgICAgICAgICAgICAqIGlmIHRoZSBoYW5kbGUgYmVoYXZpb3IgaXMgbm90IGBjeWNsZWAgb3IgaWYgdGhlIGhhbmRsZVxuICAgICAgICAgICAgICAgICAqIGlzIGNsaWNrZWQgd2hpbGUgdGhlIHNoZWV0IGlzIG1vdmluZyB0byBhIGJyZWFrcG9pbnQuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tb3ZlVG9OZXh0QnJlYWtwb2ludCgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uQmFja2Ryb3BUYXAgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHNoZWV0VHJhbnNpdGlvbiB9ID0gdGhpcztcbiAgICAgICAgICAgIGlmIChzaGVldFRyYW5zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZW4gdGhlIGhhbmRsZSBpcyBkb3VibGUgY2xpY2tlZCBhdCB0aGUgbGFyZ2VzdCBicmVha3BvaW50LFxuICAgICAgICAgICAgICAgICAqIGl0IHdpbGwgc3RhcnQgdG8gbW92ZSB0byB0aGUgZmlyc3QgYnJlYWtwb2ludC4gV2hpbGUgdHJhbnNpdGlvbmluZyxcbiAgICAgICAgICAgICAgICAgKiB0aGUgYmFja2Ryb3Agd2lsbCBvZnRlbiByZWNlaXZlIHRoZSBzZWNvbmQgY2xpY2suIFdlIHByZXZlbnQgdGhlXG4gICAgICAgICAgICAgICAgICogYmFja2Ryb3AgZnJvbSBkaXNtaXNzaW5nIHRoZSBtb2RhbCB3aGlsZSBtb3ZpbmcgYmV0d2VlbiBicmVha3BvaW50cy5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc21pc3ModW5kZWZpbmVkLCBCQUNLRFJPUCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25MaWZlY3ljbGUgPSAobW9kYWxFdmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWwgPSB0aGlzLnVzZXJzRWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBMSUZFQ1lDTEVfTUFQW21vZGFsRXZlbnQudHlwZV07XG4gICAgICAgICAgICBpZiAoZWwgJiYgbmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgYnViYmxlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IG1vZGFsRXZlbnQuZGV0YWlsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGVsLmRpc3BhdGNoRXZlbnQoZXYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnByZXNlbnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc0NvbnRyb2xsZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vdmVybGF5SW5kZXggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMua2V5Ym9hcmRDbG9zZSA9IHRydWU7XG4gICAgICAgIHRoaXMuZW50ZXJBbmltYXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubGVhdmVBbmltYXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYnJlYWtwb2ludHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZXhwYW5kVG9TY3JvbGwgPSB0cnVlO1xuICAgICAgICB0aGlzLmluaXRpYWxCcmVha3BvaW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmJhY2tkcm9wQnJlYWtwb2ludCA9IDA7XG4gICAgICAgIHRoaXMuaGFuZGxlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmhhbmRsZUJlaGF2aW9yID0gJ25vbmUnO1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jb21wb25lbnRQcm9wcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jc3NDbGFzcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5iYWNrZHJvcERpc21pc3MgPSB0cnVlO1xuICAgICAgICB0aGlzLnNob3dCYWNrZHJvcCA9IHRydWU7XG4gICAgICAgIHRoaXMuYW5pbWF0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnByZXNlbnRpbmdFbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmh0bWxBdHRyaWJ1dGVzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRyaWdnZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMua2VlcENvbnRlbnRzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZvY3VzVHJhcCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2FuRGlzbWlzcyA9IHRydWU7XG4gICAgfVxuICAgIG9uSXNPcGVuQ2hhbmdlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICBpZiAobmV3VmFsdWUgPT09IHRydWUgJiYgb2xkVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNlbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXdWYWx1ZSA9PT0gZmFsc2UgJiYgb2xkVmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzbWlzcygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRyaWdnZXJDaGFuZ2VkKCkge1xuICAgICAgICBjb25zdCB7IHRyaWdnZXIsIGVsLCB0cmlnZ2VyQ29udHJvbGxlciB9ID0gdGhpcztcbiAgICAgICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgICAgICAgIHRyaWdnZXJDb250cm9sbGVyLmFkZENsaWNrTGlzdGVuZXIoZWwsIHRyaWdnZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGJyZWFrcG9pbnRzQ2hhbmdlZChicmVha3BvaW50cykge1xuICAgICAgICBpZiAoYnJlYWtwb2ludHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zb3J0ZWRCcmVha3BvaW50cyA9IGJyZWFrcG9pbnRzLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgY29uc3QgeyBlbCB9ID0gdGhpcztcbiAgICAgICAgcHJlcGFyZU92ZXJsYXkoZWwpO1xuICAgICAgICB0aGlzLnRyaWdnZXJDaGFuZ2VkKCk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLnRyaWdnZXJDb250cm9sbGVyLnJlbW92ZUNsaWNrTGlzdGVuZXIoKTtcbiAgICB9XG4gICAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgeyBicmVha3BvaW50cywgaW5pdGlhbEJyZWFrcG9pbnQsIGVsLCBodG1sQXR0cmlidXRlcyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgaXNTaGVldE1vZGFsID0gKHRoaXMuaXNTaGVldE1vZGFsID0gYnJlYWtwb2ludHMgIT09IHVuZGVmaW5lZCAmJiBpbml0aWFsQnJlYWtwb2ludCAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlc1RvSW5oZXJpdCA9IFsnYXJpYS1sYWJlbCcsICdyb2xlJ107XG4gICAgICAgIHRoaXMuaW5oZXJpdGVkQXR0cmlidXRlcyA9IGluaGVyaXRBdHRyaWJ1dGVzKGVsLCBhdHRyaWJ1dGVzVG9Jbmhlcml0KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdXNpbmcgYSBjb250cm9sbGVyIG1vZGFsIHlvdSBjYW4gc2V0IGF0dHJpYnV0ZXNcbiAgICAgICAgICogdXNpbmcgdGhlIGh0bWxBdHRyaWJ1dGVzIHByb3BlcnR5LiBTaW5jZSB0aGUgYWJvdmUgYXR0cmlidXRlc1xuICAgICAgICAgKiBuZWVkIHRvIGJlIGluaGVyaXRlZCBpbnNpZGUgb2YgdGhlIG1vZGFsLCB3ZSBuZWVkIHRvIGxvb2tcbiAgICAgICAgICogYW5kIHNlZSBpZiB0aGVzZSBhdHRyaWJ1dGVzIGFyZSBiZWluZyBzZXQgdmlhIGh0bWxBdHRyaWJ1dGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXZSBjb3VsZCBhbHRlcm5hdGl2ZWx5IG1vdmUgdGhpcyB0byBjb21wb25lbnREaWRMb2FkIHRvIHNpbXBsaWZ5IHRoZSB3b3JrXG4gICAgICAgICAqIGhlcmUsIGJ1dCB3ZSdkIHRoZW4gbmVlZCB0byBtYWtlIGluaGVyaXRlZEF0dHJpYnV0ZXMgYSBTdGF0ZSB2YXJpYWJsZSxcbiAgICAgICAgICogdGh1cyBjYXVzaW5nIGFub3RoZXIgcmVuZGVyIHRvIGFsd2F5cyBoYXBwZW4gYWZ0ZXIgdGhlIGZpcnN0IHJlbmRlci5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChodG1sQXR0cmlidXRlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzVG9Jbmhlcml0LmZvckVhY2goKGF0dHJpYnV0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZVZhbHVlID0gaHRtbEF0dHJpYnV0ZXNbYXR0cmlidXRlXTtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIElmIGFuIGF0dHJpYnV0ZSB3ZSBuZWVkIHRvIGluaGVyaXQgd2FzXG4gICAgICAgICAgICAgICAgICAgICAqIHNldCB1c2luZyBodG1sQXR0cmlidXRlcyB0aGVuIGFkZCBpdCB0b1xuICAgICAgICAgICAgICAgICAgICAgKiBpbmhlcml0ZWRBdHRyaWJ1dGVzIGFuZCByZW1vdmUgaXQgZnJvbSBodG1sQXR0cmlidXRlcy5cbiAgICAgICAgICAgICAgICAgICAgICogVGhpcyBlbnN1cmVzIHRoZSBhdHRyaWJ1dGUgaXMgaW5oZXJpdGVkIGFuZCBub3RcbiAgICAgICAgICAgICAgICAgICAgICogc2V0IG9uIHRoZSBob3N0LlxuICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgKiBJbiB0aGlzIGNhc2UsIGlmIGFuIGluaGVyaXRlZCBhdHRyaWJ1dGUgaXMgc2V0XG4gICAgICAgICAgICAgICAgICAgICAqIG9uIHRoZSBob3N0IGVsZW1lbnQgYW5kIHVzaW5nIGh0bWxBdHRyaWJ1dGVzIHRoZW5cbiAgICAgICAgICAgICAgICAgICAgICogaHRtbEF0dHJpYnV0ZXMgd2lucywgYnV0IHRoYXQncyBub3QgYSBwYXR0ZXJuIHRoYXQgd2UgcmVjb21tZW5kLlxuICAgICAgICAgICAgICAgICAgICAgKiBUaGUgb25seSB0aW1lIHlvdSdkIG5lZWQgaHRtbEF0dHJpYnV0ZXMgaXMgd2hlbiB1c2luZyBtb2RhbENvbnRyb2xsZXIuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaGVyaXRlZEF0dHJpYnV0ZXMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaW5oZXJpdGVkQXR0cmlidXRlcyksIHsgW2F0dHJpYnV0ZV06IGh0bWxBdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gfSk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBodG1sQXR0cmlidXRlc1thdHRyaWJ1dGVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1NoZWV0TW9kYWwpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEJyZWFrcG9pbnQgPSB0aGlzLmluaXRpYWxCcmVha3BvaW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChicmVha3BvaW50cyAhPT0gdW5kZWZpbmVkICYmIGluaXRpYWxCcmVha3BvaW50ICE9PSB1bmRlZmluZWQgJiYgIWJyZWFrcG9pbnRzLmluY2x1ZGVzKGluaXRpYWxCcmVha3BvaW50KSkge1xuICAgICAgICAgICAgcHJpbnRJb25XYXJuaW5nKCdZb3VyIGJyZWFrcG9pbnRzIGFycmF5IG11c3QgaW5jbHVkZSB0aGUgaW5pdGlhbEJyZWFrcG9pbnQgdmFsdWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoKF9hID0gdGhpcy5odG1sQXR0cmlidXRlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkKSkge1xuICAgICAgICAgICAgc2V0T3ZlcmxheUlkKHRoaXMuZWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBtb2RhbCB3YXMgcmVuZGVyZWQgd2l0aCBpc09wZW49XCJ0cnVlXCJcbiAgICAgICAgICogdGhlbiB3ZSBzaG91bGQgb3BlbiBtb2RhbCBpbW1lZGlhdGVseS5cbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLmlzT3BlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmFmKCgpID0+IHRoaXMucHJlc2VudCgpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJyZWFrcG9pbnRzQ2hhbmdlZCh0aGlzLmJyZWFrcG9pbnRzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gYmluZGluZyB2YWx1ZXMgaW4gZnJhbWV3b3JrcyBzdWNoIGFzIEFuZ3VsYXJcbiAgICAgICAgICogaXQgaXMgcG9zc2libGUgZm9yIHRoZSB2YWx1ZSB0byBiZSBzZXQgYWZ0ZXIgdGhlIFdlYiBDb21wb25lbnRcbiAgICAgICAgICogaW5pdGlhbGl6ZXMgYnV0IGJlZm9yZSB0aGUgdmFsdWUgd2F0Y2hlciBpcyBzZXQgdXAgaW4gU3RlbmNpbC5cbiAgICAgICAgICogQXMgYSByZXN1bHQsIHRoZSB3YXRjaGVyIGNhbGxiYWNrIG1heSBub3QgYmUgZmlyZWQuXG4gICAgICAgICAqIFdlIHdvcmsgYXJvdW5kIHRoaXMgYnkgbWFudWFsbHkgY2FsbGluZyB0aGUgd2F0Y2hlclxuICAgICAgICAgKiBjYWxsYmFjayB3aGVuIHRoZSBjb21wb25lbnQgaGFzIGxvYWRlZCBhbmQgdGhlIHdhdGNoZXJcbiAgICAgICAgICogaXMgY29uZmlndXJlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJpZ2dlckNoYW5nZWQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCBhbiBvdmVybGF5XG4gICAgICogaXMgYmVpbmcgdXNlZCBpbmxpbmUgb3IgdmlhIGEgY29udHJvbGxlci9KU1xuICAgICAqIGFuZCByZXR1cm5zIHRoZSBjb3JyZWN0IGRlbGVnYXRlLlxuICAgICAqIEJ5IGRlZmF1bHQsIHN1YnNlcXVlbnQgY2FsbHMgdG8gZ2V0RGVsZWdhdGVcbiAgICAgKiB3aWxsIHVzZSBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBkZWxlZ2F0ZS5cbiAgICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY2FsbGluZyBkaXNtaXNzIGFmdGVyXG4gICAgICogcHJlc2VudCBzbyB0aGF0IHRoZSBjb3JyZWN0IGRlbGVnYXRlIGlzIGdpdmVuLlxuICAgICAqL1xuICAgIGdldERlbGVnYXRlKGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMud29ya2luZ0RlbGVnYXRlICYmICFmb3JjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkZWxlZ2F0ZTogdGhpcy53b3JraW5nRGVsZWdhdGUsXG4gICAgICAgICAgICAgICAgaW5saW5lOiB0aGlzLmlubGluZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHVzaW5nIG92ZXJsYXkgaW5saW5lXG4gICAgICAgICAqIHdlIHBvdGVudGlhbGx5IG5lZWQgdG8gdXNlIHRoZSBjb3JlRGVsZWdhdGVcbiAgICAgICAgICogc28gdGhhdCB0aGlzIHdvcmtzIGluIHZhbmlsbGEgSlMgYXBwcy5cbiAgICAgICAgICogSWYgYSBkZXZlbG9wZXIgaGFzIHByZXNlbnRlZCB0aGlzIGNvbXBvbmVudFxuICAgICAgICAgKiB2aWEgYSBjb250cm9sbGVyLCB0aGVuIHdlIGNhbiBhc3N1bWVcbiAgICAgICAgICogdGhlIGNvbXBvbmVudCBpcyBhbHJlYWR5IGluIHRoZVxuICAgICAgICAgKiBjb3JyZWN0IHBsYWNlLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgcGFyZW50RWwgPSB0aGlzLmVsLnBhcmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGlubGluZSA9ICh0aGlzLmlubGluZSA9IHBhcmVudEVsICE9PSBudWxsICYmICF0aGlzLmhhc0NvbnRyb2xsZXIpO1xuICAgICAgICBjb25zdCBkZWxlZ2F0ZSA9ICh0aGlzLndvcmtpbmdEZWxlZ2F0ZSA9IGlubGluZSA/IHRoaXMuZGVsZWdhdGUgfHwgdGhpcy5jb3JlRGVsZWdhdGUgOiB0aGlzLmRlbGVnYXRlKTtcbiAgICAgICAgcmV0dXJuIHsgaW5saW5lLCBkZWxlZ2F0ZSB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRoZVxuICAgICAqIG1vZGFsIGlzIGFsbG93ZWQgdG8gZGlzbWlzcyBiYXNlZFxuICAgICAqIG9uIHRoZSBzdGF0ZSBvZiB0aGUgY2FuRGlzbWlzcyBwcm9wLlxuICAgICAqL1xuICAgIGFzeW5jIGNoZWNrQ2FuRGlzbWlzcyhkYXRhLCByb2xlKSB7XG4gICAgICAgIGNvbnN0IHsgY2FuRGlzbWlzcyB9ID0gdGhpcztcbiAgICAgICAgaWYgKHR5cGVvZiBjYW5EaXNtaXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FuRGlzbWlzcyhkYXRhLCByb2xlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FuRGlzbWlzcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJlc2VudCB0aGUgbW9kYWwgb3ZlcmxheSBhZnRlciBpdCBoYXMgYmVlbiBjcmVhdGVkLlxuICAgICAqL1xuICAgIGFzeW5jIHByZXNlbnQoKSB7XG4gICAgICAgIGNvbnN0IHVubG9jayA9IGF3YWl0IHRoaXMubG9ja0NvbnRyb2xsZXIubG9jaygpO1xuICAgICAgICBpZiAodGhpcy5wcmVzZW50ZWQpIHtcbiAgICAgICAgICAgIHVubG9jaygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgcHJlc2VudGluZ0VsZW1lbnQsIGVsIH0gPSB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIG1vZGFsIGlzIHByZXNlbnRlZCBtdWx0aXBsZSB0aW1lcyAoaW5saW5lIG1vZGFscyksIHdlXG4gICAgICAgICAqIG5lZWQgdG8gcmVzZXQgdGhlIGN1cnJlbnQgYnJlYWtwb2ludCB0byB0aGUgaW5pdGlhbCBicmVha3BvaW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50QnJlYWtwb2ludCA9IHRoaXMuaW5pdGlhbEJyZWFrcG9pbnQ7XG4gICAgICAgIGNvbnN0IHsgaW5saW5lLCBkZWxlZ2F0ZSB9ID0gdGhpcy5nZXREZWxlZ2F0ZSh0cnVlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVtaXQgaW9uTW91bnQgc28gSlMgRnJhbWV3b3JrcyBoYXZlIGFuIG9wcG9ydHVuaXR5XG4gICAgICAgICAqIHRvIGFkZCB0aGUgY2hpbGQgY29tcG9uZW50IHRvIHRoZSBET00uIFRoZSBjaGlsZFxuICAgICAgICAgKiBjb21wb25lbnQgd2lsbCBiZSBhc3NpZ25lZCB0byB0aGlzLnVzZXJzRWxlbWVudCBiZWxvdy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW9uTW91bnQuZW1pdCgpO1xuICAgICAgICB0aGlzLnVzZXJzRWxlbWVudCA9IGF3YWl0IGF0dGFjaENvbXBvbmVudChkZWxlZ2F0ZSwgZWwsIHRoaXMuY29tcG9uZW50LCBbJ2lvbi1wYWdlJ10sIHRoaXMuY29tcG9uZW50UHJvcHMsIGlubGluZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHVzaW5nIHRoZSBsYXp5IGxvYWRlZCBidWlsZCBvZiBTdGVuY2lsLCB3ZSBuZWVkIHRvIHdhaXRcbiAgICAgICAgICogZm9yIGV2ZXJ5IFN0ZW5jaWwgY29tcG9uZW50IGluc3RhbmNlIHRvIGJlIHJlYWR5IGJlZm9yZSBwcmVzZW50aW5nXG4gICAgICAgICAqIG90aGVyd2lzZSB0aGVyZSBjYW4gYmUgYSBmbGFzaCBvZiB1bnN0eWxlZCBjb250ZW50LiBXaXRoIHRoZVxuICAgICAgICAgKiBjdXN0b20gZWxlbWVudHMgYnVuZGxlIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIEpTIGZyYW1ld29ya1xuICAgICAgICAgKiBtb3VudCB0aGUgaW5uZXIgY29udGVudHMgb2YgdGhlIG92ZXJsYXkgb3RoZXJ3aXNlIFdlYktpdCBtYXlcbiAgICAgICAgICogZ2V0IHRoZSB0cmFuc2l0aW9uIGluY29ycmVjdC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChoYXNMYXp5QnVpbGQoZWwpKSB7XG4gICAgICAgICAgICBhd2FpdCBkZWVwUmVhZHkodGhpcy51c2Vyc0VsZW1lbnQpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiBrZWVwQ29udGVudHNNb3VudGVkPVwidHJ1ZVwiIHRoZW4gdGhlXG4gICAgICAgICAgICAgKiBKUyBGcmFtZXdvcmsgaGFzIGFscmVhZHkgbW91bnRlZCB0aGUgaW5uZXJcbiAgICAgICAgICAgICAqIGNvbnRlbnRzIHNvIHRoZXJlIGlzIG5vIG5lZWQgdG8gd2FpdC5cbiAgICAgICAgICAgICAqIE90aGVyd2lzZSwgd2UgbmVlZCB0byB3YWl0IGZvciB0aGUgSlNcbiAgICAgICAgICAgICAqIEZyYW1ld29yayB0byBtb3VudCB0aGUgaW5uZXIgY29udGVudHNcbiAgICAgICAgICAgICAqIG9mIHRoaXMgY29tcG9uZW50LlxuICAgICAgICAgICAgICovXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMua2VlcENvbnRlbnRzTW91bnRlZCkge1xuICAgICAgICAgICAgYXdhaXQgd2FpdEZvck1vdW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgd3JpdGVUYXNrKCgpID0+IHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnc2hvdy1tb2RhbCcpKTtcbiAgICAgICAgY29uc3QgaGFzQ2FyZE1vZGFsID0gcHJlc2VudGluZ0VsZW1lbnQgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlIG5lZWQgdG8gY2hhbmdlIHRoZSBzdGF0dXMgYmFyIGF0IHRoZVxuICAgICAgICAgKiBzdGFydCBvZiB0aGUgYW5pbWF0aW9uIHNvIHRoYXQgaXQgY29tcGxldGVzXG4gICAgICAgICAqIGJ5IHRoZSB0aW1lIHRoZSBjYXJkIGFuaW1hdGlvbiBpcyBkb25lLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGhhc0NhcmRNb2RhbCAmJiBnZXRJb25Nb2RlKHRoaXMpID09PSAnaW9zJykge1xuICAgICAgICAgICAgLy8gQ2FjaGUgdGhlIG9yaWdpbmFsIHN0YXR1cyBiYXIgY29sb3IgYmVmb3JlIHRoZSBtb2RhbCBpcyBwcmVzZW50ZWRcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFyU3R5bGUgPSBhd2FpdCBTdGF0dXNCYXIuZ2V0U3R5bGUoKTtcbiAgICAgICAgICAgIHNldENhcmRTdGF0dXNCYXJEYXJrKCk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcHJlc2VudCh0aGlzLCAnbW9kYWxFbnRlcicsIGlvc0VudGVyQW5pbWF0aW9uLCBtZEVudGVyQW5pbWF0aW9uLCB7XG4gICAgICAgICAgICBwcmVzZW50aW5nRWw6IHByZXNlbnRpbmdFbGVtZW50LFxuICAgICAgICAgICAgY3VycmVudEJyZWFrcG9pbnQ6IHRoaXMuaW5pdGlhbEJyZWFrcG9pbnQsXG4gICAgICAgICAgICBiYWNrZHJvcEJyZWFrcG9pbnQ6IHRoaXMuYmFja2Ryb3BCcmVha3BvaW50LFxuICAgICAgICAgICAgZXhwYW5kVG9TY3JvbGw6IHRoaXMuZXhwYW5kVG9TY3JvbGwsXG4gICAgICAgIH0pO1xuICAgICAgICAvKiB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmUgKi9cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoaXMgbmVlZHMgdG8gYmUgc2V0dXAgYmVmb3JlIGFueVxuICAgICAgICAgICAgICogbm9uLXRyYW5zaXRpb24gYXN5bmMgd29yayBzbyBpdCBjYW4gYmUgZGVyZWZlcmVuY2VkXG4gICAgICAgICAgICAgKiBpbiB0aGUgZGlzbWlzcyBtZXRob2QuIFRoZSBkaXNtaXNzIG1ldGhvZFxuICAgICAgICAgICAgICogb25seSB3YWl0cyBmb3IgdGhlIGVudGVyaW5nIHRyYW5zaXRpb25cbiAgICAgICAgICAgICAqIHRvIGZpbmlzaC4gSXQgZG9lcyBub3Qgd2FpdCBmb3IgYWxsIG9mIHRoZSBgcHJlc2VudGBcbiAgICAgICAgICAgICAqIG1ldGhvZCB0byByZXNvbHZlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkT3BlbkNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdlc3R1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFdoZW4gdGhlIG5hdGl2ZSBrZXlib2FyZCBpcyBvcGVuZWQgYW5kIHRoZSB3ZWJ2aWV3XG4gICAgICAgICAgICAgICAgICAgICAqIGlzIHJlc2l6ZWQsIHRoZSBnZXN0dXJlIGltcGxlbWVudGF0aW9uIHdpbGwgYmVjb21lIHVucmVzcG9uc2l2ZVxuICAgICAgICAgICAgICAgICAgICAgKiBhbmQgZW50ZXIgYSBmcmVlLXNjcm9sbCBtb2RlLlxuICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgKiBXaGVuIHRoZSBrZXlib2FyZCBpcyBvcGVuZWQsIHdlIGRpc2FibGUgdGhlIGdlc3R1cmUgZm9yXG4gICAgICAgICAgICAgICAgICAgICAqIGEgc2luZ2xlIGZyYW1lIGFuZCByZS1lbmFibGUgb25jZSB0aGUgY29udGVudHMgaGF2ZSByZXBvc2l0aW9uZWRcbiAgICAgICAgICAgICAgICAgICAgICogZnJvbSB0aGUga2V5Ym9hcmQgcGxhY2VtZW50LlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXN0dXJlLmVuYWJsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXN0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXN0dXJlLmVuYWJsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKEtFWUJPQVJEX0RJRF9PUEVOLCB0aGlzLmtleWJvYXJkT3BlbkNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc1NoZWV0TW9kYWwpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdFNoZWV0R2VzdHVyZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhhc0NhcmRNb2RhbCkge1xuICAgICAgICAgICAgdGhpcy5pbml0U3dpcGVUb0Nsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdW5sb2NrKCk7XG4gICAgfVxuICAgIGluaXRTd2lwZVRvQ2xvc2UoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKGdldElvbk1vZGUodGhpcykgIT09ICdpb3MnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBlbCB9ID0gdGhpcztcbiAgICAgICAgLy8gQWxsIG9mIHRoZSBlbGVtZW50cyBuZWVkZWQgZm9yIHRoZSBzd2lwZSBnZXN0dXJlXG4gICAgICAgIC8vIHNob3VsZCBiZSBpbiB0aGUgRE9NIGFuZCByZWZlcmVuY2VkIGJ5IG5vdywgZXhjZXB0XG4gICAgICAgIC8vIGZvciB0aGUgcHJlc2VudGluZyBlbFxuICAgICAgICBjb25zdCBhbmltYXRpb25CdWlsZGVyID0gdGhpcy5sZWF2ZUFuaW1hdGlvbiB8fCBjb25maWcuZ2V0KCdtb2RhbExlYXZlJywgaW9zTGVhdmVBbmltYXRpb24pO1xuICAgICAgICBjb25zdCBhbmkgPSAodGhpcy5hbmltYXRpb24gPSBhbmltYXRpb25CdWlsZGVyKGVsLCB7XG4gICAgICAgICAgICBwcmVzZW50aW5nRWw6IHRoaXMucHJlc2VudGluZ0VsZW1lbnQsXG4gICAgICAgICAgICBleHBhbmRUb1Njcm9sbDogdGhpcy5leHBhbmRUb1Njcm9sbCxcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBjb250ZW50RWwgPSBmaW5kSW9uQ29udGVudChlbCk7XG4gICAgICAgIGlmICghY29udGVudEVsKSB7XG4gICAgICAgICAgICBwcmludElvbkNvbnRlbnRFcnJvck1zZyhlbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzQmFyU3R5bGUgPSAoX2EgPSB0aGlzLnN0YXR1c0JhclN0eWxlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBTdHlsZS5EZWZhdWx0O1xuICAgICAgICB0aGlzLmdlc3R1cmUgPSBjcmVhdGVTd2lwZVRvQ2xvc2VHZXN0dXJlKGVsLCBhbmksIHN0YXR1c0JhclN0eWxlLCAoKSA9PiB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdoaWxlIHRoZSBnZXN0dXJlIGFuaW1hdGlvbiBpcyBmaW5pc2hpbmdcbiAgICAgICAgICAgICAqIGl0IGlzIHBvc3NpYmxlIGZvciBhIHVzZXIgdG8gdGFwIHRoZSBiYWNrZHJvcC5cbiAgICAgICAgICAgICAqIFRoaXMgd291bGQgcmVzdWx0IGluIHRoZSBkaXNtaXNzIGFuaW1hdGlvblxuICAgICAgICAgICAgICogYmVpbmcgcGxheWVkIGFnYWluLiBUeXBpY2FsbHkgdGhpcyBpcyBhdm9pZGVkXG4gICAgICAgICAgICAgKiBieSBzZXR0aW5nIGBwcmVzZW50ZWQgPSBmYWxzZWAgb24gdGhlIG92ZXJsYXlcbiAgICAgICAgICAgICAqIGNvbXBvbmVudDsgaG93ZXZlciwgd2UgY2Fubm90IGRvIHRoYXQgaGVyZSBhc1xuICAgICAgICAgICAgICogdGhhdCB3b3VsZCBwcmV2ZW50IHRoZSBlbGVtZW50IGZyb20gYmVpbmdcbiAgICAgICAgICAgICAqIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmdlc3R1cmVBbmltYXRpb25EaXNtaXNzaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVzZXQgdGhlIHN0YXR1cyBiYXIgc3R5bGUgYXMgdGhlIGRpc21pc3MgYW5pbWF0aW9uXG4gICAgICAgICAgICAgKiBzdGFydHMgb3RoZXJ3aXNlIHRoZSBzdGF0dXMgYmFyIHdpbGwgYmUgdGhlIHdyb25nXG4gICAgICAgICAgICAgKiBjb2xvciBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZSBkaXNtaXNzIGFuaW1hdGlvbi5cbiAgICAgICAgICAgICAqIFRoZSBkaXNtaXNzIG1ldGhvZCBkb2VzIHRoaXMgYXMgd2VsbCwgYnV0XG4gICAgICAgICAgICAgKiBpbiB0aGlzIGNhc2UgaXQncyBvbmx5IGNhbGxlZCBvbmNlIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAgICAqIGhhcyBmaW5pc2hlZC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc2V0Q2FyZFN0YXR1c0JhckRlZmF1bHQodGhpcy5zdGF0dXNCYXJTdHlsZSk7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5vbkZpbmlzaChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kaXNtaXNzKHVuZGVmaW5lZCwgR0VTVFVSRSk7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXN0dXJlQW5pbWF0aW9uRGlzbWlzc2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdlc3R1cmUuZW5hYmxlKHRydWUpO1xuICAgIH1cbiAgICBpbml0U2hlZXRHZXN0dXJlKCkge1xuICAgICAgICBjb25zdCB7IHdyYXBwZXJFbCwgaW5pdGlhbEJyZWFrcG9pbnQsIGJhY2tkcm9wQnJlYWtwb2ludCB9ID0gdGhpcztcbiAgICAgICAgaWYgKCF3cmFwcGVyRWwgfHwgaW5pdGlhbEJyZWFrcG9pbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbkJ1aWxkZXIgPSB0aGlzLmVudGVyQW5pbWF0aW9uIHx8IGNvbmZpZy5nZXQoJ21vZGFsRW50ZXInLCBpb3NFbnRlckFuaW1hdGlvbik7XG4gICAgICAgIGNvbnN0IGFuaSA9ICh0aGlzLmFuaW1hdGlvbiA9IGFuaW1hdGlvbkJ1aWxkZXIodGhpcy5lbCwge1xuICAgICAgICAgICAgcHJlc2VudGluZ0VsOiB0aGlzLnByZXNlbnRpbmdFbGVtZW50LFxuICAgICAgICAgICAgY3VycmVudEJyZWFrcG9pbnQ6IGluaXRpYWxCcmVha3BvaW50LFxuICAgICAgICAgICAgYmFja2Ryb3BCcmVha3BvaW50LFxuICAgICAgICAgICAgZXhwYW5kVG9TY3JvbGw6IHRoaXMuZXhwYW5kVG9TY3JvbGwsXG4gICAgICAgIH0pKTtcbiAgICAgICAgYW5pLnByb2dyZXNzU3RhcnQodHJ1ZSwgMSk7XG4gICAgICAgIGNvbnN0IHsgZ2VzdHVyZSwgbW92ZVNoZWV0VG9CcmVha3BvaW50IH0gPSBjcmVhdGVTaGVldEdlc3R1cmUodGhpcy5lbCwgdGhpcy5iYWNrZHJvcEVsLCB3cmFwcGVyRWwsIGluaXRpYWxCcmVha3BvaW50LCBiYWNrZHJvcEJyZWFrcG9pbnQsIGFuaSwgdGhpcy5zb3J0ZWRCcmVha3BvaW50cywgdGhpcy5leHBhbmRUb1Njcm9sbCwgKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB0aGlzLmN1cnJlbnRCcmVha3BvaW50KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwOyB9LCAoKSA9PiB0aGlzLnNoZWV0T25EaXNtaXNzKCksIChicmVha3BvaW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50QnJlYWtwb2ludCAhPT0gYnJlYWtwb2ludCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEJyZWFrcG9pbnQgPSBicmVha3BvaW50O1xuICAgICAgICAgICAgICAgIHRoaXMuaW9uQnJlYWtwb2ludERpZENoYW5nZS5lbWl0KHsgYnJlYWtwb2ludCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2VzdHVyZSA9IGdlc3R1cmU7XG4gICAgICAgIHRoaXMubW92ZVNoZWV0VG9CcmVha3BvaW50ID0gbW92ZVNoZWV0VG9CcmVha3BvaW50O1xuICAgICAgICB0aGlzLmdlc3R1cmUuZW5hYmxlKHRydWUpO1xuICAgIH1cbiAgICBzaGVldE9uRGlzbWlzcygpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoaWxlIHRoZSBnZXN0dXJlIGFuaW1hdGlvbiBpcyBmaW5pc2hpbmdcbiAgICAgICAgICogaXQgaXMgcG9zc2libGUgZm9yIGEgdXNlciB0byB0YXAgdGhlIGJhY2tkcm9wLlxuICAgICAgICAgKiBUaGlzIHdvdWxkIHJlc3VsdCBpbiB0aGUgZGlzbWlzcyBhbmltYXRpb25cbiAgICAgICAgICogYmVpbmcgcGxheWVkIGFnYWluLiBUeXBpY2FsbHkgdGhpcyBpcyBhdm9pZGVkXG4gICAgICAgICAqIGJ5IHNldHRpbmcgYHByZXNlbnRlZCA9IGZhbHNlYCBvbiB0aGUgb3ZlcmxheVxuICAgICAgICAgKiBjb21wb25lbnQ7IGhvd2V2ZXIsIHdlIGNhbm5vdCBkbyB0aGF0IGhlcmUgYXNcbiAgICAgICAgICogdGhhdCB3b3VsZCBwcmV2ZW50IHRoZSBlbGVtZW50IGZyb20gYmVpbmdcbiAgICAgICAgICogcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlc3R1cmVBbmltYXRpb25EaXNtaXNzaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hbmltYXRpb24ub25GaW5pc2goYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50QnJlYWtwb2ludCA9IDA7XG4gICAgICAgICAgICB0aGlzLmlvbkJyZWFrcG9pbnREaWRDaGFuZ2UuZW1pdCh7IGJyZWFrcG9pbnQ6IHRoaXMuY3VycmVudEJyZWFrcG9pbnQgfSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRpc21pc3ModW5kZWZpbmVkLCBHRVNUVVJFKTtcbiAgICAgICAgICAgIHRoaXMuZ2VzdHVyZUFuaW1hdGlvbkRpc21pc3NpbmcgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc21pc3MgdGhlIG1vZGFsIG92ZXJsYXkgYWZ0ZXIgaXQgaGFzIGJlZW4gcHJlc2VudGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGEgQW55IGRhdGEgdG8gZW1pdCBpbiB0aGUgZGlzbWlzcyBldmVudHMuXG4gICAgICogQHBhcmFtIHJvbGUgVGhlIHJvbGUgb2YgdGhlIGVsZW1lbnQgdGhhdCBpcyBkaXNtaXNzaW5nIHRoZSBtb2RhbC4gRm9yIGV4YW1wbGUsICdjYW5jZWwnIG9yICdiYWNrZHJvcCcuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGEgbm8tb3AgaWYgdGhlIG92ZXJsYXkgaGFzIG5vdCBiZWVuIHByZXNlbnRlZCB5ZXQuIElmIHlvdSB3YW50XG4gICAgICogdG8gcmVtb3ZlIGFuIG92ZXJsYXkgZnJvbSB0aGUgRE9NIHRoYXQgd2FzIG5ldmVyIHByZXNlbnRlZCwgdXNlIHRoZVxuICAgICAqIFtyZW1vdmVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FbGVtZW50L3JlbW92ZSkgbWV0aG9kLlxuICAgICAqL1xuICAgIGFzeW5jIGRpc21pc3MoZGF0YSwgcm9sZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmdlc3R1cmVBbmltYXRpb25EaXNtaXNzaW5nICYmIHJvbGUgIT09IEdFU1RVUkUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQmVjYXVzZSB0aGUgY2FuRGlzbWlzcyBjaGVjayBiZWxvdyBpcyBhc3luYyxcbiAgICAgICAgICogd2UgbmVlZCB0byBjbGFpbSBhIGxvY2sgYmVmb3JlIHRoZSBjaGVjayBoYXBwZW5zLFxuICAgICAgICAgKiBpbiBjYXNlIHRoZSBkaXNtaXNzIHRyYW5zaXRpb24gZG9lcyBydW4uXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCB1bmxvY2sgPSBhd2FpdCB0aGlzLmxvY2tDb250cm9sbGVyLmxvY2soKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGEgY2FuRGlzbWlzcyBoYW5kbGVyIGlzIHJlc3BvbnNpYmxlXG4gICAgICAgICAqIGZvciBjYWxsaW5nIHRoZSBkaXNtaXNzIG1ldGhvZCwgd2Ugc2hvdWxkXG4gICAgICAgICAqIG5vdCBydW4gdGhlIGNhbkRpc21pc3MgY2hlY2sgYWdhaW4uXG4gICAgICAgICAqL1xuICAgICAgICBpZiAocm9sZSAhPT0gJ2hhbmRsZXInICYmICEoYXdhaXQgdGhpcy5jaGVja0NhbkRpc21pc3MoZGF0YSwgcm9sZSkpKSB7XG4gICAgICAgICAgICB1bmxvY2soKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHByZXNlbnRpbmdFbGVtZW50IH0gPSB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2UgbmVlZCB0byBzdGFydCB0aGUgc3RhdHVzIGJhciBjaGFuZ2VcbiAgICAgICAgICogYmVmb3JlIHRoZSBhbmltYXRpb24gc28gdGhhdCB0aGUgY2hhbmdlXG4gICAgICAgICAqIGZpbmlzaGVzIHdoZW4gdGhlIGRpc21pc3MgYW5pbWF0aW9uIGRvZXMuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBoYXNDYXJkTW9kYWwgPSBwcmVzZW50aW5nRWxlbWVudCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoaGFzQ2FyZE1vZGFsICYmIGdldElvbk1vZGUodGhpcykgPT09ICdpb3MnKSB7XG4gICAgICAgICAgICBzZXRDYXJkU3RhdHVzQmFyRGVmYXVsdCh0aGlzLnN0YXR1c0JhclN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvKiB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmUgKi9cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHRoaXMua2V5Ym9hcmRPcGVuQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKEtFWUJPQVJEX0RJRF9PUEVOLCB0aGlzLmtleWJvYXJkT3BlbkNhbGxiYWNrKTtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmRPcGVuQ2FsbGJhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlzbWlzc2VkID0gYXdhaXQgZGlzbWlzcyh0aGlzLCBkYXRhLCByb2xlLCAnbW9kYWxMZWF2ZScsIGlvc0xlYXZlQW5pbWF0aW9uLCBtZExlYXZlQW5pbWF0aW9uLCB7XG4gICAgICAgICAgICBwcmVzZW50aW5nRWw6IHByZXNlbnRpbmdFbGVtZW50LFxuICAgICAgICAgICAgY3VycmVudEJyZWFrcG9pbnQ6IChfYSA9IHRoaXMuY3VycmVudEJyZWFrcG9pbnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMuaW5pdGlhbEJyZWFrcG9pbnQsXG4gICAgICAgICAgICBiYWNrZHJvcEJyZWFrcG9pbnQ6IHRoaXMuYmFja2Ryb3BCcmVha3BvaW50LFxuICAgICAgICAgICAgZXhwYW5kVG9TY3JvbGw6IHRoaXMuZXhwYW5kVG9TY3JvbGwsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZGlzbWlzc2VkKSB7XG4gICAgICAgICAgICBjb25zdCB7IGRlbGVnYXRlIH0gPSB0aGlzLmdldERlbGVnYXRlKCk7XG4gICAgICAgICAgICBhd2FpdCBkZXRhY2hDb21wb25lbnQoZGVsZWdhdGUsIHRoaXMudXNlcnNFbGVtZW50KTtcbiAgICAgICAgICAgIHdyaXRlVGFzaygoKSA9PiB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctbW9kYWwnKSk7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5nZXN0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXN0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRCcmVha3BvaW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdW5sb2NrKCk7XG4gICAgICAgIHJldHVybiBkaXNtaXNzZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgbW9kYWwgZGlkIGRpc21pc3MuXG4gICAgICovXG4gICAgb25EaWREaXNtaXNzKCkge1xuICAgICAgICByZXR1cm4gZXZlbnRNZXRob2QodGhpcy5lbCwgJ2lvbk1vZGFsRGlkRGlzbWlzcycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIG1vZGFsIHdpbGwgZGlzbWlzcy5cbiAgICAgKi9cbiAgICBvbldpbGxEaXNtaXNzKCkge1xuICAgICAgICByZXR1cm4gZXZlbnRNZXRob2QodGhpcy5lbCwgJ2lvbk1vZGFsV2lsbERpc21pc3MnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTW92ZSBhIHNoZWV0IHN0eWxlIG1vZGFsIHRvIGEgc3BlY2lmaWMgYnJlYWtwb2ludC4gVGhlIGJyZWFrcG9pbnQgdmFsdWUgbXVzdFxuICAgICAqIGJlIGEgdmFsdWUgZGVmaW5lZCBpbiB5b3VyIGBicmVha3BvaW50c2AgYXJyYXkuXG4gICAgICovXG4gICAgYXN5bmMgc2V0Q3VycmVudEJyZWFrcG9pbnQoYnJlYWtwb2ludCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTaGVldE1vZGFsKSB7XG4gICAgICAgICAgICBwcmludElvbldhcm5pbmcoJ3NldEN1cnJlbnRCcmVha3BvaW50IGlzIG9ubHkgc3VwcG9ydGVkIG9uIHNoZWV0IG1vZGFscy4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuYnJlYWtwb2ludHMuaW5jbHVkZXMoYnJlYWtwb2ludCkpIHtcbiAgICAgICAgICAgIHByaW50SW9uV2FybmluZyhgQXR0ZW1wdGVkIHRvIHNldCBpbnZhbGlkIGJyZWFrcG9pbnQgdmFsdWUgJHticmVha3BvaW50fS4gUGxlYXNlIGRvdWJsZSBjaGVjayB0aGF0IHRoZSBicmVha3BvaW50IHZhbHVlIGlzIHBhcnQgb2YgeW91ciBkZWZpbmVkIGJyZWFrcG9pbnRzLmApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgY3VycmVudEJyZWFrcG9pbnQsIG1vdmVTaGVldFRvQnJlYWtwb2ludCwgY2FuRGlzbWlzcywgYnJlYWtwb2ludHMsIGFuaW1hdGVkIH0gPSB0aGlzO1xuICAgICAgICBpZiAoY3VycmVudEJyZWFrcG9pbnQgPT09IGJyZWFrcG9pbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW92ZVNoZWV0VG9CcmVha3BvaW50KSB7XG4gICAgICAgICAgICB0aGlzLnNoZWV0VHJhbnNpdGlvbiA9IG1vdmVTaGVldFRvQnJlYWtwb2ludCh7XG4gICAgICAgICAgICAgICAgYnJlYWtwb2ludCxcbiAgICAgICAgICAgICAgICBicmVha3BvaW50T2Zmc2V0OiAxIC0gY3VycmVudEJyZWFrcG9pbnQsXG4gICAgICAgICAgICAgICAgY2FuRGlzbWlzczogY2FuRGlzbWlzcyAhPT0gdW5kZWZpbmVkICYmIGNhbkRpc21pc3MgIT09IHRydWUgJiYgYnJlYWtwb2ludHNbMF0gPT09IDAsXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2hlZXRUcmFuc2l0aW9uO1xuICAgICAgICAgICAgdGhpcy5zaGVldFRyYW5zaXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBicmVha3BvaW50IG9mIGEgc2hlZXQgc3R5bGUgbW9kYWxcbiAgICAgKi9cbiAgICBhc3luYyBnZXRDdXJyZW50QnJlYWtwb2ludCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEJyZWFrcG9pbnQ7XG4gICAgfVxuICAgIGFzeW5jIG1vdmVUb05leHRCcmVha3BvaW50KCkge1xuICAgICAgICBjb25zdCB7IGJyZWFrcG9pbnRzLCBjdXJyZW50QnJlYWtwb2ludCB9ID0gdGhpcztcbiAgICAgICAgaWYgKCFicmVha3BvaW50cyB8fCBjdXJyZW50QnJlYWtwb2ludCA9PSBudWxsKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoZSBtb2RhbCBkb2VzIG5vdCBoYXZlIGJyZWFrcG9pbnRzIGFuZC9vciB0aGUgY3VycmVudFxuICAgICAgICAgICAgICogYnJlYWtwb2ludCBpcyBub3Qgc2V0LCB3ZSBjYW4ndCBtb3ZlIHRvIHRoZSBuZXh0IGJyZWFrcG9pbnQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbGxvd2VkQnJlYWtwb2ludHMgPSBicmVha3BvaW50cy5maWx0ZXIoKGIpID0+IGIgIT09IDApO1xuICAgICAgICBjb25zdCBjdXJyZW50QnJlYWtwb2ludEluZGV4ID0gYWxsb3dlZEJyZWFrcG9pbnRzLmluZGV4T2YoY3VycmVudEJyZWFrcG9pbnQpO1xuICAgICAgICBjb25zdCBuZXh0QnJlYWtwb2ludEluZGV4ID0gKGN1cnJlbnRCcmVha3BvaW50SW5kZXggKyAxKSAlIGFsbG93ZWRCcmVha3BvaW50cy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IG5leHRCcmVha3BvaW50ID0gYWxsb3dlZEJyZWFrcG9pbnRzW25leHRCcmVha3BvaW50SW5kZXhdO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgY3VycmVudCBicmVha3BvaW50IHRvIHRoZSBuZXh0IGF2YWlsYWJsZSBicmVha3BvaW50LlxuICAgICAgICAgKiBJZiB0aGUgY3VycmVudCBicmVha3BvaW50IGlzIHRoZSBsYXN0IGJyZWFrcG9pbnQsIHdlIHNldCB0aGUgY3VycmVudFxuICAgICAgICAgKiBicmVha3BvaW50IHRvIHRoZSBmaXJzdCBub24temVybyBicmVha3BvaW50IHRvIGF2b2lkIGRpc21pc3NpbmcgdGhlIHNoZWV0LlxuICAgICAgICAgKi9cbiAgICAgICAgYXdhaXQgdGhpcy5zZXRDdXJyZW50QnJlYWtwb2ludChuZXh0QnJlYWtwb2ludCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgaGFuZGxlLCBpc1NoZWV0TW9kYWwsIHByZXNlbnRpbmdFbGVtZW50LCBodG1sQXR0cmlidXRlcywgaGFuZGxlQmVoYXZpb3IsIGluaGVyaXRlZEF0dHJpYnV0ZXMsIGZvY3VzVHJhcCwgZXhwYW5kVG9TY3JvbGwsIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBzaG93SGFuZGxlID0gaGFuZGxlICE9PSBmYWxzZSAmJiBpc1NoZWV0TW9kYWw7XG4gICAgICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgICAgICBjb25zdCBpc0NhcmRNb2RhbCA9IHByZXNlbnRpbmdFbGVtZW50ICE9PSB1bmRlZmluZWQgJiYgbW9kZSA9PT0gJ2lvcyc7XG4gICAgICAgIGNvbnN0IGlzSGFuZGxlQ3ljbGUgPSBoYW5kbGVCZWhhdmlvciA9PT0gJ2N5Y2xlJztcbiAgICAgICAgcmV0dXJuIChoKEhvc3QsIE9iamVjdC5hc3NpZ24oeyBrZXk6ICdlNjYxNTYyZjllNDEyNjEzNmNlZTMzN2U0YWI4Y2E2OWFjODBmYWFlJywgXCJuby1yb3V0ZXJcIjogdHJ1ZSwgdGFiaW5kZXg6IFwiLTFcIiB9LCBodG1sQXR0cmlidXRlcywgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgIHpJbmRleDogYCR7MjAwMDAgKyB0aGlzLm92ZXJsYXlJbmRleH1gLFxuICAgICAgICAgICAgfSwgY2xhc3M6IE9iamVjdC5hc3NpZ24oeyBbbW9kZV06IHRydWUsIFsnbW9kYWwtZGVmYXVsdCddOiAhaXNDYXJkTW9kYWwgJiYgIWlzU2hlZXRNb2RhbCwgW2Btb2RhbC1jYXJkYF06IGlzQ2FyZE1vZGFsLCBbYG1vZGFsLXNoZWV0YF06IGlzU2hlZXRNb2RhbCwgW2Btb2RhbC1uby1leHBhbmQtc2Nyb2xsYF06IGlzU2hlZXRNb2RhbCAmJiAhZXhwYW5kVG9TY3JvbGwsICdvdmVybGF5LWhpZGRlbic6IHRydWUsIFtGT0NVU19UUkFQX0RJU0FCTEVfQ0xBU1NdOiBmb2N1c1RyYXAgPT09IGZhbHNlIH0sIGdldENsYXNzTWFwKHRoaXMuY3NzQ2xhc3MpKSwgb25Jb25CYWNrZHJvcFRhcDogdGhpcy5vbkJhY2tkcm9wVGFwLCBvbklvbk1vZGFsRGlkUHJlc2VudDogdGhpcy5vbkxpZmVjeWNsZSwgb25Jb25Nb2RhbFdpbGxQcmVzZW50OiB0aGlzLm9uTGlmZWN5Y2xlLCBvbklvbk1vZGFsV2lsbERpc21pc3M6IHRoaXMub25MaWZlY3ljbGUsIG9uSW9uTW9kYWxEaWREaXNtaXNzOiB0aGlzLm9uTGlmZWN5Y2xlIH0pLCBoKFwiaW9uLWJhY2tkcm9wXCIsIHsga2V5OiAnOTIyMTY5MmUwZTExMWY5OWU4MDIzOWNhNDRmYWFhZWQ5YjI4ODQyNScsIHJlZjogKGVsKSA9PiAodGhpcy5iYWNrZHJvcEVsID0gZWwpLCB2aXNpYmxlOiB0aGlzLnNob3dCYWNrZHJvcCwgdGFwcGFibGU6IHRoaXMuYmFja2Ryb3BEaXNtaXNzLCBwYXJ0OiBcImJhY2tkcm9wXCIgfSksIG1vZGUgPT09ICdpb3MnICYmIGgoXCJkaXZcIiwgeyBrZXk6ICcyMGRlZjcwODhkMzFlNWViMTNjM2YyNDA0YzUxNGNkOGI3NGNkOTY2JywgY2xhc3M6IFwibW9kYWwtc2hhZG93XCIgfSksIGgoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7IGtleTogJ2IxMTIyOTMzMDU3MWQ0ZmY3YjkxMzZkZmRkZGNkN2Q3NTlhZGE4NzYnLFxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgcm9sZSBhbmQgYXJpYS1tb2RhbCBtdXN0IGJlIHVzZWQgb24gdGhlXG4gICAgICAgICAgICAgIHNhbWUgZWxlbWVudC4gVGhleSBtdXN0IGFsc28gYmUgc2V0IGluc2lkZSB0aGVcbiAgICAgICAgICAgICAgc2hhZG93IERPTSBvdGhlcndpc2UgaW9uLWJ1dHRvbiB3aWxsIG5vdCBiZSBoaWdobGlnaHRlZFxuICAgICAgICAgICAgICB3aGVuIHVzaW5nIFZvaWNlT3ZlcjogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTI0NzEzNFxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJvbGU6IFwiZGlhbG9nXCIgfSwgaW5oZXJpdGVkQXR0cmlidXRlcywgeyBcImFyaWEtbW9kYWxcIjogXCJ0cnVlXCIsIGNsYXNzOiBcIm1vZGFsLXdyYXBwZXIgaW9uLW92ZXJsYXktd3JhcHBlclwiLCBwYXJ0OiBcImNvbnRlbnRcIiwgcmVmOiAoZWwpID0+ICh0aGlzLndyYXBwZXJFbCA9IGVsKSB9KSwgc2hvd0hhbmRsZSAmJiAoaChcImJ1dHRvblwiLCB7IGtleTogJzk1YjJhNjI0NzdkZmJjMDYzYTkxOTEwZjBkMzczNTczODhjZmQ5MTQnLCBjbGFzczogXCJtb2RhbC1oYW5kbGVcIixcbiAgICAgICAgICAgIC8vIFByZXZlbnRzIHRoZSBoYW5kbGUgZnJvbSByZWNlaXZpbmcga2V5Ym9hcmQgZm9jdXMgd2hlbiBpdCBkb2VzIG5vdCBjeWNsZVxuICAgICAgICAgICAgdGFiSW5kZXg6ICFpc0hhbmRsZUN5Y2xlID8gLTEgOiAwLCBcImFyaWEtbGFiZWxcIjogXCJBY3RpdmF0ZSB0byBhZGp1c3QgdGhlIHNpemUgb2YgdGhlIGRpYWxvZyBvdmVybGF5aW5nIHRoZSBzY3JlZW5cIiwgb25DbGljazogaXNIYW5kbGVDeWNsZSA/IHRoaXMub25IYW5kbGVDbGljayA6IHVuZGVmaW5lZCwgcGFydDogXCJoYW5kbGVcIiB9KSksIGgoXCJzbG90XCIsIHsga2V5OiAnZmJhMTdkZmRiZGZmYmZkODk5MmY0NzNmNjMzZDE3MmM1MTI0ZGMxOScgfSkpKSk7XG4gICAgfVxuICAgIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbiAgICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgICAgICBcImlzT3BlblwiOiBbXCJvbklzT3BlbkNoYW5nZVwiXSxcbiAgICAgICAgXCJ0cmlnZ2VyXCI6IFtcInRyaWdnZXJDaGFuZ2VkXCJdXG4gICAgfTsgfVxufTtcbmNvbnN0IExJRkVDWUNMRV9NQVAgPSB7XG4gICAgaW9uTW9kYWxEaWRQcmVzZW50OiAnaW9uVmlld0RpZEVudGVyJyxcbiAgICBpb25Nb2RhbFdpbGxQcmVzZW50OiAnaW9uVmlld1dpbGxFbnRlcicsXG4gICAgaW9uTW9kYWxXaWxsRGlzbWlzczogJ2lvblZpZXdXaWxsTGVhdmUnLFxuICAgIGlvbk1vZGFsRGlkRGlzbWlzczogJ2lvblZpZXdEaWRMZWF2ZScsXG59O1xuTW9kYWwuc3R5bGUgPSB7XG4gICAgaW9zOiBJb25Nb2RhbElvc1N0eWxlMCxcbiAgICBtZDogSW9uTW9kYWxNZFN0eWxlMFxufTtcblxuZXhwb3J0IHsgTW9kYWwgYXMgaW9uX21vZGFsIH07XG4iXSwibmFtZXMiOlsiciIsInJlZ2lzdGVySW5zdGFuY2UiLCJjIiwiY3JlYXRlRXZlbnQiLCJ3Iiwid3JpdGVUYXNrIiwiaCIsImUiLCJIb3N0IiwiZiIsImdldEVsZW1lbnQiLCJmaW5kQ2xvc2VzdElvbkNvbnRlbnQiLCJpIiwiaXNJb25Db250ZW50IiwiZCIsImRpc2FibGVDb250ZW50U2Nyb2xsWSIsInJlc2V0Q29udGVudFNjcm9sbFkiLCJhIiwiZmluZElvbkNvbnRlbnQiLCJwIiwicHJpbnRJb25Db250ZW50RXJyb3JNc2ciLCJDIiwiQ29yZURlbGVnYXRlIiwiYXR0YWNoQ29tcG9uZW50IiwiZGV0YWNoQ29tcG9uZW50IiwiZyIsImdldEVsZW1lbnRSb290IiwiaiIsImNsYW1wIiwicmFmIiwiaW5oZXJpdEF0dHJpYnV0ZXMiLCJrIiwiaGFzTGF6eUJ1aWxkIiwiY3JlYXRlTG9ja0NvbnRyb2xsZXIiLCJwcmludElvbldhcm5pbmciLCJnZXRDYXBhY2l0b3IiLCJHIiwiR0VTVFVSRSIsIk8iLCJPVkVSTEFZX0dFU1RVUkVfUFJJT1JJVFkiLCJGIiwiRk9DVVNfVFJBUF9ESVNBQkxFX0NMQVNTIiwiY3JlYXRlVHJpZ2dlckNvbnRyb2xsZXIiLCJCIiwiQkFDS0RST1AiLCJwcmVwYXJlT3ZlcmxheSIsInNldE92ZXJsYXlJZCIsInByZXNlbnQiLCJkaXNtaXNzIiwiZXZlbnRNZXRob2QiLCJnZXRDbGFzc01hcCIsImRlZXBSZWFkeSIsIndhaXRGb3JNb3VudCIsImIiLCJnZXRJb25Nb2RlIiwiY29uZmlnIiwiS0VZQk9BUkRfRElEX09QRU4iLCJjcmVhdGVBbmltYXRpb24iLCJnZXRUaW1lR2l2ZW5Qcm9ncmVzc2lvbiIsImNyZWF0ZUdlc3R1cmUiLCJ3aW4iLCJTdHlsZSIsIlN0YXR1c0JhciIsImdldEVuZ2luZSIsImNhcGFjaXRvciIsImlzUGx1Z2luQXZhaWxhYmxlIiwiUGx1Z2lucyIsInVuZGVmaW5lZCIsInNldFN0eWxlIiwib3B0aW9ucyIsImVuZ2luZSIsImdldFN0eWxlIiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiRGVmYXVsdCIsInN0eWxlIiwiZ2V0SW5mbyIsImFwcGx5IiwiYXJndW1lbnRzIiwiZ2V0QmFja2Ryb3BWYWx1ZUZvclNoZWV0IiwieCIsImJhY2tkcm9wQnJlYWtwb2ludCIsInNsb3BlIiwic2V0Q2FyZFN0YXR1c0JhckRhcmsiLCJpbm5lcldpZHRoIiwiRGFyayIsInNldENhcmRTdGF0dXNCYXJEZWZhdWx0IiwiZGVmYXVsdFN0eWxlIiwiaGFuZGxlQ2FuRGlzbWlzcyIsIl9yZWYyIiwiZWwiLCJhbmltYXRpb24iLCJjYW5EaXNtaXNzIiwic2hvdWxkRGlzbWlzcyIsImlzUnVubmluZyIsIm9uRmluaXNoIiwib25lVGltZUNhbGxiYWNrIiwiX3giLCJfeDIiLCJjYWxjdWxhdGVTcHJpbmdTdGVwIiwidCIsIlN3aXBlVG9DbG9zZURlZmF1bHRzIiwiTUlOX1BSRVNFTlRJTkdfU0NBTEUiLCJjcmVhdGVTd2lwZVRvQ2xvc2VHZXN0dXJlIiwic3RhdHVzQmFyU3R5bGUiLCJvbkRpc21pc3MiLCJESVNNSVNTX1RIUkVTSE9MRCIsImhlaWdodCIsIm9mZnNldEhlaWdodCIsImlzT3BlbiIsImNhbkRpc21pc3NCbG9ja3NHZXN0dXJlIiwiY29udGVudEVsIiwic2Nyb2xsRWwiLCJjYW5EaXNtaXNzTWF4U3RlcCIsImluaXRpYWxTY3JvbGxZIiwibGFzdFN0ZXAiLCJnZXRTY3JvbGxZIiwic2Nyb2xsWSIsImNhblN0YXJ0IiwiZGV0YWlsIiwidGFyZ2V0IiwiZXZlbnQiLCJjbG9zZXN0Iiwicm9vdCIsInF1ZXJ5U2VsZWN0b3IiLCJoYXNSZWZyZXNoZXJJbkNvbnRlbnQiLCJzY3JvbGxUb3AiLCJmb290ZXIiLCJvblN0YXJ0IiwiZGVsdGFZIiwicHJvZ3Jlc3NTdGFydCIsIm9uTW92ZSIsInN0ZXAiLCJpc0F0dGVtcHRpbmdEaXNtaXNzV2l0aENhbkRpc21pc3MiLCJtYXhTdGVwIiwicHJvY2Vzc2VkU3RlcCIsImNsYW1wZWRTdGVwIiwicHJvZ3Jlc3NTdGVwIiwib25FbmQiLCJ2ZWxvY2l0eSIsInZlbG9jaXR5WSIsInRocmVzaG9sZCIsInNob3VsZENvbXBsZXRlIiwibmV3U3RlcFZhbHVlIiwiZWFzaW5nIiwiZHVyYXRpb24iLCJjb21wdXRlRHVyYXRpb24iLCJnZXN0dXJlIiwiZW5hYmxlIiwicHJvZ3Jlc3NFbmQiLCJnZXN0dXJlTmFtZSIsImdlc3R1cmVQcmlvcml0eSIsImRpcmVjdGlvbiIsInJlbWFpbmluZyIsIk1hdGgiLCJhYnMiLCJjcmVhdGVTaGVldEVudGVyQW5pbWF0aW9uIiwib3B0cyIsImN1cnJlbnRCcmVha3BvaW50IiwiZXhwYW5kVG9TY3JvbGwiLCJzaG91bGRTaG93QmFja2Ryb3AiLCJpbml0aWFsQmFja2Ryb3AiLCJiYWNrZHJvcEFuaW1hdGlvbiIsImZyb21UbyIsImJlZm9yZVN0eWxlcyIsImFmdGVyQ2xlYXJTdHlsZXMiLCJ3cmFwcGVyQW5pbWF0aW9uIiwia2V5ZnJhbWVzIiwib2Zmc2V0Iiwib3BhY2l0eSIsInRyYW5zZm9ybSIsImNvbnRlbnRBbmltYXRpb24iLCJtYXhIZWlnaHQiLCJjcmVhdGVTaGVldExlYXZlQW5pbWF0aW9uIiwiYmFja2Ryb3BWYWx1ZSIsImRlZmF1bHRCYWNrZHJvcCIsImN1c3RvbUJhY2tkcm9wIiwiY3JlYXRlRW50ZXJBbmltYXRpb24kMSIsImlvc0VudGVyQW5pbWF0aW9uIiwiYmFzZUVsIiwicHJlc2VudGluZ0VsIiwiYWRkRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJiYXNlQW5pbWF0aW9uIiwiYWRkQW5pbWF0aW9uIiwiYmVmb3JlQWRkV3JpdGUiLCJpb25Gb290ZXIiLCJpb25Gb290ZXJBbHJlYWR5QXBwZW5kZWQiLCJzaGFkb3dSb290IiwiZm9vdGVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiY2xvbmVkRm9vdGVyIiwiY2xvbmVOb2RlIiwiYXBwZW5kQ2hpbGQiLCJzZXRQcm9wZXJ0eSIsInNldEF0dHJpYnV0ZSIsInBhZ2UiLCJpc01vYmlsZSIsIndpbmRvdyIsImhhc0NhcmRNb2RhbCIsInRhZ05hbWUiLCJwcmVzZW50aW5nRWxlbWVudCIsInByZXNlbnRpbmdFbFJvb3QiLCJwcmVzZW50aW5nQW5pbWF0aW9uIiwib3ZlcmZsb3ciLCJib2R5RWwiLCJkb2N1bWVudCIsImJvZHkiLCJ0cmFuc2Zvcm1PZmZzZXQiLCJDU1MiLCJzdXBwb3J0cyIsIm1vZGFsVHJhbnNmb3JtIiwidG9QcmVzZW50aW5nU2NhbGUiLCJmaW5hbFRyYW5zZm9ybSIsImFmdGVyU3R5bGVzIiwiZmlsdGVyIiwiYm9yZGVyUmFkaXVzIiwic2hhZG93QW5pbWF0aW9uIiwiY3JlYXRlTGVhdmVBbmltYXRpb24kMSIsImlvc0xlYXZlQW5pbWF0aW9uIiwicmVtb3ZlUHJvcGVydHkiLCJyZW1vdmVBdHRyaWJ1dGUiLCJiZWZvcmVDbGVhclN0eWxlcyIsImN1cnJlbnRTdGVwIiwibnVtTW9kYWxzIiwiQXJyYXkiLCJmcm9tIiwibSIsImxlbmd0aCIsImNyZWF0ZUVudGVyQW5pbWF0aW9uIiwibWRFbnRlckFuaW1hdGlvbiIsImNyZWF0ZUxlYXZlQW5pbWF0aW9uIiwibWRMZWF2ZUFuaW1hdGlvbiIsImNyZWF0ZVNoZWV0R2VzdHVyZSIsImJhY2tkcm9wRWwiLCJ3cmFwcGVyRWwiLCJpbml0aWFsQnJlYWtwb2ludCIsImJyZWFrcG9pbnRzIiwiZ2V0Q3VycmVudEJyZWFrcG9pbnQiLCJvbkJyZWFrcG9pbnRDaGFuZ2UiLCJTaGVldERlZmF1bHRzIiwiV1JBUFBFUl9LRVlGUkFNRVMiLCJCQUNLRFJPUF9LRVlGUkFNRVMiLCJDT05URU5UX0tFWUZSQU1FUyIsImNhY2hlZFNjcm9sbEVsIiwibWF4QnJlYWtwb2ludCIsIm1pbkJyZWFrcG9pbnQiLCJjaGlsZEFuaW1hdGlvbnMiLCJmaW5kIiwiYW5pIiwiaWQiLCJlbmFibGVCYWNrZHJvcCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImRpc2FibGVCYWNrZHJvcCIsImFkZCIsInN3YXBGb290ZXJWaXNpYmlsaXR5Iiwib3JpZ2luYWxGb290ZXIiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJmb290ZXJUb0hpZGUiLCJmb290ZXJUb1Nob3ciLCJwYWdlUGFkZGluZyIsInNob3VsZEVuYWJsZUJhY2tkcm9wIiwidGFyZ2V0RWwiLCJmb2N1cyIsImluaXRpYWxTdGVwIiwic2Vjb25kVG9MYXN0QnJlYWtwb2ludCIsImRpZmYiLCJyZWR1Y2UiLCJtb3ZlU2hlZXRUb0JyZWFrcG9pbnQiLCJicmVha3BvaW50IiwiYnJlYWtwb2ludE9mZnNldCIsImFuaW1hdGVkIiwic2hvdWxkUHJldmVudERpc21pc3MiLCJzbmFwVG9CcmVha3BvaW50Iiwic2hvdWxkUmVtYWluT3BlbiIsIlByb21pc2UiLCJyZXNvbHZlIiwibW9kYWxJb3NDc3MiLCJJb25Nb2RhbElvc1N0eWxlMCIsIm1vZGFsTWRDc3MiLCJJb25Nb2RhbE1kU3R5bGUwIiwiTW9kYWwiLCJjb25zdHJ1Y3RvciIsImhvc3RSZWYiLCJkaWRQcmVzZW50Iiwid2lsbFByZXNlbnQiLCJ3aWxsRGlzbWlzcyIsImRpZERpc21pc3MiLCJpb25CcmVha3BvaW50RGlkQ2hhbmdlIiwiZGlkUHJlc2VudFNob3J0aGFuZCIsIndpbGxQcmVzZW50U2hvcnRoYW5kIiwid2lsbERpc21pc3NTaG9ydGhhbmQiLCJkaWREaXNtaXNzU2hvcnRoYW5kIiwiaW9uTW91bnQiLCJsb2NrQ29udHJvbGxlciIsInRyaWdnZXJDb250cm9sbGVyIiwiY29yZURlbGVnYXRlIiwiaXNTaGVldE1vZGFsIiwiaW5oZXJpdGVkQXR0cmlidXRlcyIsImlubGluZSIsImdlc3R1cmVBbmltYXRpb25EaXNtaXNzaW5nIiwib25IYW5kbGVDbGljayIsInNoZWV0VHJhbnNpdGlvbiIsImhhbmRsZUJlaGF2aW9yIiwibW92ZVRvTmV4dEJyZWFrcG9pbnQiLCJvbkJhY2tkcm9wVGFwIiwib25MaWZlY3ljbGUiLCJtb2RhbEV2ZW50IiwidXNlcnNFbGVtZW50IiwibmFtZSIsIkxJRkVDWUNMRV9NQVAiLCJ0eXBlIiwiZXYiLCJDdXN0b21FdmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZGlzcGF0Y2hFdmVudCIsInByZXNlbnRlZCIsImhhc0NvbnRyb2xsZXIiLCJvdmVybGF5SW5kZXgiLCJkZWxlZ2F0ZSIsImtleWJvYXJkQ2xvc2UiLCJlbnRlckFuaW1hdGlvbiIsImxlYXZlQW5pbWF0aW9uIiwiaGFuZGxlIiwiY29tcG9uZW50IiwiY29tcG9uZW50UHJvcHMiLCJjc3NDbGFzcyIsImJhY2tkcm9wRGlzbWlzcyIsInNob3dCYWNrZHJvcCIsImh0bWxBdHRyaWJ1dGVzIiwidHJpZ2dlciIsImtlZXBDb250ZW50c01vdW50ZWQiLCJmb2N1c1RyYXAiLCJvbklzT3BlbkNoYW5nZSIsIm5ld1ZhbHVlIiwib2xkVmFsdWUiLCJ0cmlnZ2VyQ2hhbmdlZCIsImFkZENsaWNrTGlzdGVuZXIiLCJicmVha3BvaW50c0NoYW5nZWQiLCJzb3J0ZWRCcmVha3BvaW50cyIsInNvcnQiLCJjb25uZWN0ZWRDYWxsYmFjayIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwicmVtb3ZlQ2xpY2tMaXN0ZW5lciIsImNvbXBvbmVudFdpbGxMb2FkIiwiX2EiLCJhdHRyaWJ1dGVzVG9Jbmhlcml0IiwiZm9yRWFjaCIsImF0dHJpYnV0ZSIsImF0dHJpYnV0ZVZhbHVlIiwiT2JqZWN0IiwiYXNzaWduIiwiaW5jbHVkZXMiLCJjb21wb25lbnREaWRMb2FkIiwiZ2V0RGVsZWdhdGUiLCJmb3JjZSIsIndvcmtpbmdEZWxlZ2F0ZSIsInBhcmVudEVsIiwicGFyZW50Tm9kZSIsImNoZWNrQ2FuRGlzbWlzcyIsImRhdGEiLCJyb2xlIiwiX3RoaXMiLCJfdGhpczIiLCJ1bmxvY2siLCJsb2NrIiwiZW1pdCIsImtleWJvYXJkT3BlbkNhbGxiYWNrIiwiYWRkRXZlbnRMaXN0ZW5lciIsImluaXRTaGVldEdlc3R1cmUiLCJpbml0U3dpcGVUb0Nsb3NlIiwiX3RoaXMzIiwiYW5pbWF0aW9uQnVpbGRlciIsImdldCIsInNoZWV0T25EaXNtaXNzIiwiX3RoaXM0IiwiX3RoaXM1IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc21pc3NlZCIsImRlc3Ryb3kiLCJvbkRpZERpc21pc3MiLCJvbldpbGxEaXNtaXNzIiwic2V0Q3VycmVudEJyZWFrcG9pbnQiLCJfdGhpczYiLCJfdGhpczciLCJfdGhpczgiLCJhbGxvd2VkQnJlYWtwb2ludHMiLCJjdXJyZW50QnJlYWtwb2ludEluZGV4IiwiaW5kZXhPZiIsIm5leHRCcmVha3BvaW50SW5kZXgiLCJuZXh0QnJlYWtwb2ludCIsInJlbmRlciIsInNob3dIYW5kbGUiLCJtb2RlIiwiaXNDYXJkTW9kYWwiLCJpc0hhbmRsZUN5Y2xlIiwia2V5IiwidGFiaW5kZXgiLCJ6SW5kZXgiLCJjbGFzcyIsIm9uSW9uQmFja2Ryb3BUYXAiLCJvbklvbk1vZGFsRGlkUHJlc2VudCIsIm9uSW9uTW9kYWxXaWxsUHJlc2VudCIsIm9uSW9uTW9kYWxXaWxsRGlzbWlzcyIsIm9uSW9uTW9kYWxEaWREaXNtaXNzIiwicmVmIiwidmlzaWJsZSIsInRhcHBhYmxlIiwicGFydCIsInRhYkluZGV4Iiwib25DbGljayIsIndhdGNoZXJzIiwiaW9uTW9kYWxEaWRQcmVzZW50IiwiaW9uTW9kYWxXaWxsUHJlc2VudCIsImlvbk1vZGFsV2lsbERpc21pc3MiLCJpb25Nb2RhbERpZERpc21pc3MiLCJpb3MiLCJtZCIsImlvbl9tb2RhbCJdLCJzb3VyY2VSb290Ijoid2VicGFjazovLy8iLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMF19