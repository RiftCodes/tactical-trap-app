"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-toast_entry_js"],{

/***/ 7510:
/*!**************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-toast.entry.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ion_toast: () => (/* binding */ Toast)
/* harmony export */ });
/* harmony import */ var C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 9204);
/* harmony import */ var _index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-527b9e34.js */ 4514);
/* harmony import */ var _config_49c88215_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config-49c88215.js */ 1701);
/* harmony import */ var _helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./helpers-78efeec3.js */ 9522);
/* harmony import */ var _lock_controller_316928be_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lock-controller-316928be.js */ 1881);
/* harmony import */ var _index_738d7504_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./index-738d7504.js */ 7243);
/* harmony import */ var _overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./overlays-41a5d51b.js */ 7877);
/* harmony import */ var _theme_01f3f29c_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./theme-01f3f29c.js */ 1882);
/* harmony import */ var _ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ionic-global-ca86cf32.js */ 1367);
/* harmony import */ var _animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./animation-eab5a4ca.js */ 1865);
/* harmony import */ var _index_a5d50daf_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./index-a5d50daf.js */ 6639);
/* harmony import */ var _index_39782642_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./index-39782642.js */ 2976);
/* harmony import */ var _hardware_back_button_864101a3_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./hardware-back-button-864101a3.js */ 284);
/* harmony import */ var _framework_delegate_2eea1763_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./framework-delegate-2eea1763.js */ 9199);
/* harmony import */ var _gesture_controller_314a54f6_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./gesture-controller-314a54f6.js */ 6611);

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */















/**
 * Calculate the CSS top and bottom position of the toast, to be used
 * as starting points for the animation keyframes.
 *
 * The default animations for both MD and iOS
 * use translateY, which calculates from the
 * top edge of the screen. This behavior impacts
 * how we compute the offset when a toast has
 * position='bottom' since we need to calculate from
 * the bottom edge of the screen instead.
 *
 * @param position The value of the toast's position prop.
 * @param positionAnchor The element the toast should be anchored to,
 * if applicable.
 * @param mode The toast component's mode (md, ios, etc).
 * @param toast A reference to the toast element itself.
 */
function getAnimationPosition(position, positionAnchor, mode, toast) {
  /**
   * Start with a predefined offset from the edge the toast will be
   * positioned relative to, whether on the screen or anchor element.
   */
  let offset;
  if (mode === 'md') {
    offset = position === 'top' ? 8 : -8;
  } else {
    offset = position === 'top' ? 10 : -10;
  }
  /**
   * If positionAnchor is defined, add in the distance from the target
   * screen edge to the target anchor edge. For position="top", the
   * bottom anchor edge is targeted. For position="bottom", the top
   * anchor edge is targeted.
   */
  if (positionAnchor && _index_a5d50daf_js__WEBPACK_IMPORTED_MODULE_10__.w) {
    warnIfAnchorIsHidden(positionAnchor, toast);
    const box = positionAnchor.getBoundingClientRect();
    if (position === 'top') {
      offset += box.bottom;
    } else if (position === 'bottom') {
      /**
       * Just box.top is the distance from the top edge of the screen
       * to the top edge of the anchor. We want to calculate from the
       * bottom edge of the screen instead.
       */
      offset -= _index_a5d50daf_js__WEBPACK_IMPORTED_MODULE_10__.w.innerHeight - box.top;
    }
    /**
     * We don't include safe area here because that should already be
     * accounted for when checking the position of the anchor.
     */
    return {
      top: `${offset}px`,
      bottom: `${offset}px`
    };
  } else {
    return {
      top: `calc(${offset}px + var(--ion-safe-area-top, 0px))`,
      bottom: `calc(${offset}px - var(--ion-safe-area-bottom, 0px))`
    };
  }
}
/**
 * If the anchor element is hidden, getBoundingClientRect()
 * will return all 0s for it, which can cause unexpected
 * results in the position calculation when animating.
 */
function warnIfAnchorIsHidden(positionAnchor, toast) {
  if (positionAnchor.offsetParent === null) {
    (0,_index_738d7504_js__WEBPACK_IMPORTED_MODULE_5__.p)('The positionAnchor element for ion-toast was found in the DOM, but appears to be hidden. This may lead to unexpected positioning of the toast.', toast);
  }
}
/**
 * Returns the top offset required to place
 * the toast in the middle of the screen.
 * Only needed when position="toast".
 * @param toastHeight - The height of the ion-toast element
 * @param wrapperHeight - The height of the .toast-wrapper element
 * inside the toast's shadow root.
 */
const getOffsetForMiddlePosition = (toastHeight, wrapperHeight) => {
  return Math.floor(toastHeight / 2 - wrapperHeight / 2);
};

/**
 * iOS Toast Enter Animation
 */
const iosEnterAnimation = (baseEl, opts) => {
  const baseAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const wrapperAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const {
    position,
    top,
    bottom
  } = opts;
  const root = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_3__.g)(baseEl);
  const wrapperEl = root.querySelector('.toast-wrapper');
  wrapperAnimation.addElement(wrapperEl);
  switch (position) {
    case 'top':
      wrapperAnimation.fromTo('transform', 'translateY(-100%)', `translateY(${top})`);
      break;
    case 'middle':
      const topPosition = getOffsetForMiddlePosition(baseEl.clientHeight, wrapperEl.clientHeight);
      wrapperEl.style.top = `${topPosition}px`;
      wrapperAnimation.fromTo('opacity', 0.01, 1);
      break;
    default:
      wrapperAnimation.fromTo('transform', 'translateY(100%)', `translateY(${bottom})`);
      break;
  }
  return baseAnimation.easing('cubic-bezier(.155,1.105,.295,1.12)').duration(400).addAnimation(wrapperAnimation);
};

/**
 * iOS Toast Leave Animation
 */
const iosLeaveAnimation = (baseEl, opts) => {
  const baseAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const wrapperAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const {
    position,
    top,
    bottom
  } = opts;
  const root = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_3__.g)(baseEl);
  const wrapperEl = root.querySelector('.toast-wrapper');
  wrapperAnimation.addElement(wrapperEl);
  switch (position) {
    case 'top':
      wrapperAnimation.fromTo('transform', `translateY(${top})`, 'translateY(-100%)');
      break;
    case 'middle':
      wrapperAnimation.fromTo('opacity', 0.99, 0);
      break;
    default:
      wrapperAnimation.fromTo('transform', `translateY(${bottom})`, 'translateY(100%)');
      break;
  }
  return baseAnimation.easing('cubic-bezier(.36,.66,.04,1)').duration(300).addAnimation(wrapperAnimation);
};

/**
 * MD Toast Enter Animation
 */
const mdEnterAnimation = (baseEl, opts) => {
  const baseAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const wrapperAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const {
    position,
    top,
    bottom
  } = opts;
  const root = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_3__.g)(baseEl);
  const wrapperEl = root.querySelector('.toast-wrapper');
  wrapperAnimation.addElement(wrapperEl);
  switch (position) {
    case 'top':
      wrapperEl.style.setProperty('transform', `translateY(${top})`);
      wrapperAnimation.fromTo('opacity', 0.01, 1);
      break;
    case 'middle':
      const topPosition = getOffsetForMiddlePosition(baseEl.clientHeight, wrapperEl.clientHeight);
      wrapperEl.style.top = `${topPosition}px`;
      wrapperAnimation.fromTo('opacity', 0.01, 1);
      break;
    default:
      wrapperEl.style.setProperty('transform', `translateY(${bottom})`);
      wrapperAnimation.fromTo('opacity', 0.01, 1);
      break;
  }
  return baseAnimation.easing('cubic-bezier(.36,.66,.04,1)').duration(400).addAnimation(wrapperAnimation);
};

/**
 * md Toast Leave Animation
 */
const mdLeaveAnimation = baseEl => {
  const baseAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const wrapperAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const root = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_3__.g)(baseEl);
  const wrapperEl = root.querySelector('.toast-wrapper');
  wrapperAnimation.addElement(wrapperEl).fromTo('opacity', 0.99, 0);
  return baseAnimation.easing('cubic-bezier(.36,.66,.04,1)').duration(300).addAnimation(wrapperAnimation);
};

/**
 * Create a gesture that allows the Toast
 * to be swiped to dismiss.
 * @param el - The Toast element
 * @param toastPosition - The last computed position of the Toast. This is computed in the "present" method.
 * @param onDismiss - A callback to fire when the Toast was swiped to dismiss.
 */
const createSwipeToDismissGesture = (el, toastPosition, onDismiss) => {
  /**
   * Users should swipe on the visible toast wrapper
   * rather than on ion-toast which covers the entire screen.
   * When testing the class instance the inner wrapper will not
   * be defined. As a result, we use a placeholder element in those environments.
   */
  const wrapperEl = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_3__.g)(el).querySelector('.toast-wrapper');
  const hostElHeight = el.clientHeight;
  const wrapperElBox = wrapperEl.getBoundingClientRect();
  /**
   * The maximum amount that
   * the toast can be swiped. This should
   * account for the wrapper element's height
   * too so the toast can be swiped offscreen
   * completely.
   */
  let MAX_SWIPE_DISTANCE = 0;
  /**
   * The step value at which a toast
   * is eligible for dismissing via gesture.
   */
  const DISMISS_THRESHOLD = 0.5;
  /**
   * The middle position Toast starts 50% of the way
   * through the animation, so we need to use this
   * as the starting point for our step values.
   */
  const STEP_OFFSET = el.position === 'middle' ? 0.5 : 0;
  /**
   * When the Toast is at the top users will be
   * swiping up. As a result, the delta values will be
   * negative numbers which will result in negative steps
   * and thresholds. As a result, we need to make those numbers
   * positive.
   */
  const INVERSION_FACTOR = el.position === 'top' ? -1 : 1;
  /**
   * The top offset that places the
   * toast in the middle of the screen.
   * Only needed when position="middle".
   */
  const topPosition = getOffsetForMiddlePosition(hostElHeight, wrapperElBox.height);
  const SWIPE_UP_DOWN_KEYFRAMES = [{
    offset: 0,
    transform: `translateY(-${topPosition + wrapperElBox.height}px)`
  }, {
    offset: 0.5,
    transform: `translateY(0px)`
  }, {
    offset: 1,
    transform: `translateY(${topPosition + wrapperElBox.height}px)`
  }];
  const swipeAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_9__.c)('toast-swipe-to-dismiss-animation').addElement(wrapperEl)
  /**
   * The specific value here does not actually
   * matter. We just need this to be a positive
   * value so the animation does not jump
   * to the end when the user beings to drag.
   */.duration(100);
  switch (el.position) {
    case 'middle':
      MAX_SWIPE_DISTANCE = hostElHeight + wrapperElBox.height;
      swipeAnimation.keyframes(SWIPE_UP_DOWN_KEYFRAMES);
      /**
       * Toast can be swiped up or down but
       * should start in the middle of the screen.
       */
      swipeAnimation.progressStart(true, 0.5);
      break;
    case 'top':
      /**
       * The bottom edge of the wrapper
       * includes the distance between the top
       * of the screen and the top of the wrapper
       * as well as the wrapper height so the wrapper
       * can be dragged fully offscreen.
       */
      MAX_SWIPE_DISTANCE = wrapperElBox.bottom;
      swipeAnimation.keyframes([{
        offset: 0,
        transform: `translateY(${toastPosition.top})`
      }, {
        offset: 1,
        transform: 'translateY(-100%)'
      }]);
      swipeAnimation.progressStart(true, 0);
      break;
    case 'bottom':
    default:
      /**
       * This computes the distance between the
       * top of the wrapper and the bottom of the
       * screen including the height of the wrapper
       * element so it can be dragged fully offscreen.
       */
      MAX_SWIPE_DISTANCE = hostElHeight - wrapperElBox.top;
      swipeAnimation.keyframes([{
        offset: 0,
        transform: `translateY(${toastPosition.bottom})`
      }, {
        offset: 1,
        transform: 'translateY(100%)'
      }]);
      swipeAnimation.progressStart(true, 0);
      break;
  }
  const computeStep = delta => {
    return delta * INVERSION_FACTOR / MAX_SWIPE_DISTANCE;
  };
  const onMove = detail => {
    const step = STEP_OFFSET + computeStep(detail.deltaY);
    swipeAnimation.progressStep(step);
  };
  const onEnd = detail => {
    const velocity = detail.velocityY;
    const threshold = (detail.deltaY + velocity * 1000) / MAX_SWIPE_DISTANCE * INVERSION_FACTOR;
    /**
     * Disable the gesture for the remainder of the animation.
     * It will be re-enabled if the toast animates back to
     * its initial presented position.
     */
    gesture.enable(false);
    let shouldDismiss = true;
    let playTo = 1;
    let step = 0;
    let remainingDistance = 0;
    if (el.position === 'middle') {
      /**
       * A middle positioned Toast appears
       * in the middle of the screen (at animation offset 0.5).
       * As a result, the threshold will be calculated relative
       * to this starting position. In other words at animation offset 0.5
       * the threshold will be 0. We want the middle Toast to be eligible
       * for dismiss when the user has swiped either half way up or down the
       * screen. As a result, we divide DISMISS_THRESHOLD in half. We also
       * consider when the threshold is a negative in the event the
       * user drags up (since the deltaY will also be negative).
       */
      shouldDismiss = threshold >= DISMISS_THRESHOLD / 2 || threshold <= -DISMISS_THRESHOLD / 2;
      /**
       * Since we are replacing the keyframes
       * below the animation always starts from
       * the beginning of the new keyframes.
       * Similarly, we are always playing to
       * the end of the new keyframes.
       */
      playTo = 1;
      step = 0;
      /**
       * The Toast should animate from wherever its
       * current position is to the desired end state.
       *
       * To begin, we get the current position of the
       * Toast for its starting state.
       */
      const wrapperElBox = wrapperEl.getBoundingClientRect();
      const startOffset = wrapperElBox.top - topPosition;
      const startPosition = `${startOffset}px`;
      /**
       * If the deltaY is negative then the user is swiping
       * up, so the Toast should animate to the top of the screen.
       * If the deltaY is positive then the user is swiping
       * down, so the Toast should animate to the bottom of the screen.
       * We also account for when the deltaY is 0, but realistically
       * that should never happen because it means the user did not drag
       * the toast.
       */
      const offsetFactor = detail.deltaY <= 0 ? -1 : 1;
      const endOffset = (topPosition + wrapperElBox.height) * offsetFactor;
      /**
       * If the Toast should dismiss
       * then we need to figure out which edge of
       * the screen it should animate towards.
       * By default, the Toast will come
       * back to its default state in the
       * middle of the screen.
       */
      const endPosition = shouldDismiss ? `${endOffset}px` : '0px';
      const KEYFRAMES = [{
        offset: 0,
        transform: `translateY(${startPosition})`
      }, {
        offset: 1,
        transform: `translateY(${endPosition})`
      }];
      swipeAnimation.keyframes(KEYFRAMES);
      /**
       * Compute the remaining amount of pixels the
       * toast needs to move to be fully dismissed.
       */
      remainingDistance = endOffset - startOffset;
    } else {
      shouldDismiss = threshold >= DISMISS_THRESHOLD;
      playTo = shouldDismiss ? 1 : 0;
      step = computeStep(detail.deltaY);
      /**
       * Compute the remaining amount of pixels the
       * toast needs to move to be fully dismissed.
       */
      const remainingStepAmount = shouldDismiss ? 1 - step : step;
      remainingDistance = remainingStepAmount * MAX_SWIPE_DISTANCE;
    }
    /**
     * The animation speed should depend on how quickly
     * the user flicks the toast across the screen. However,
     * it should be no slower than 200ms.
     * We use Math.abs on the remainingDistance because that value
     * can be negative when swiping up on a middle position toast.
     */
    const duration = Math.min(Math.abs(remainingDistance) / Math.abs(velocity), 200);
    swipeAnimation.onFinish(() => {
      if (shouldDismiss) {
        onDismiss();
        swipeAnimation.destroy();
      } else {
        if (el.position === 'middle') {
          /**
           * If the toast snapped back to
           * the middle of the screen we need
           * to reset the keyframes
           * so the toast can be swiped
           * up or down again.
           */
          swipeAnimation.keyframes(SWIPE_UP_DOWN_KEYFRAMES).progressStart(true, 0.5);
        } else {
          swipeAnimation.progressStart(true, 0);
        }
        /**
         * If the toast did not dismiss then
         * the user should be able to swipe again.
         */
        gesture.enable(true);
      }
      /**
       * This must be a one time callback
       * otherwise a new callback will
       * be added every time onEnd runs.
       */
    }, {
      oneTimeCallback: true
    }).progressEnd(playTo, step, duration);
  };
  const gesture = (0,_index_39782642_js__WEBPACK_IMPORTED_MODULE_11__.createGesture)({
    el: wrapperEl,
    gestureName: 'toast-swipe-to-dismiss',
    gesturePriority: _overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_6__.O,
    /**
     * Toast only supports vertical swipes.
     * This needs to be updated if we later
     * support horizontal swipes.
     */
    direction: 'y',
    onMove,
    onEnd
  });
  return gesture;
};
const toastIosCss = ":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-radius:14px;--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--max-width:700px;--max-height:478px;--start:10px;--end:10px;font-size:clamp(14px, 0.875rem, 43.4px)}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-middle{opacity:0.01}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;min-height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:clamp(17px, 1.0625rem, 21.998px);font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}";
const IonToastIosStyle0 = toastIosCss;
const toastMdCss = ":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, var(--ion-background-color-step-800, #333333));--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-50, var(--ion-text-color-step-950, #f2f2f2));--max-width:700px;--start:8px;--end:8px;font-size:0.875rem}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:1.25rem}.toast-message{line-height:1.25rem}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:0.875rem;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, var(--ion-text-color-step-900, #e6e6e6))}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}";
const IonToastMdStyle0 = toastMdCss;
const Toast = class {
  constructor(hostRef) {
    (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.didPresent = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionToastDidPresent", 7);
    this.willPresent = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionToastWillPresent", 7);
    this.willDismiss = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionToastWillDismiss", 7);
    this.didDismiss = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionToastDidDismiss", 7);
    this.didPresentShorthand = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "didPresent", 7);
    this.willPresentShorthand = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "willPresent", 7);
    this.willDismissShorthand = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "willDismiss", 7);
    this.didDismissShorthand = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "didDismiss", 7);
    this.delegateController = (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_6__.d)(this);
    this.lockController = (0,_lock_controller_316928be_js__WEBPACK_IMPORTED_MODULE_4__.c)();
    this.triggerController = (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_6__.e)();
    this.customHTMLEnabled = _ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_8__.c.get('innerHTMLTemplatesEnabled', _config_49c88215_js__WEBPACK_IMPORTED_MODULE_2__.E);
    this.presented = false;
    this.dispatchCancelHandler = ev => {
      const role = ev.detail.role;
      if ((0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_6__.i)(role)) {
        const cancelButton = this.getButtons().find(b => b.role === 'cancel');
        this.callButtonHandler(cancelButton);
      }
    };
    /**
     * Create a new swipe gesture so Toast
     * can be swiped to dismiss.
     */
    this.createSwipeGesture = toastPosition => {
      const gesture = this.gesture = createSwipeToDismissGesture(this.el, toastPosition, () => {
        /**
         * If the gesture completed then
         * we should dismiss the toast.
         */
        this.dismiss(undefined, _overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_6__.G);
      });
      gesture.enable(true);
    };
    /**
     * Destroy an existing swipe gesture
     * so Toast can no longer be swiped to dismiss.
     */
    this.destroySwipeGesture = () => {
      const {
        gesture
      } = this;
      if (gesture === undefined) {
        return;
      }
      gesture.destroy();
      this.gesture = undefined;
    };
    /**
     * Returns `true` if swipeGesture
     * is configured to a value that enables the swipe behavior.
     * Returns `false` otherwise.
     */
    this.prefersSwipeGesture = () => {
      const {
        swipeGesture
      } = this;
      return swipeGesture === 'vertical';
    };
    this.revealContentToScreenReader = false;
    this.overlayIndex = undefined;
    this.delegate = undefined;
    this.hasController = false;
    this.color = undefined;
    this.enterAnimation = undefined;
    this.leaveAnimation = undefined;
    this.cssClass = undefined;
    this.duration = _ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_8__.c.getNumber('toastDuration', 0);
    this.header = undefined;
    this.layout = 'baseline';
    this.message = undefined;
    this.keyboardClose = false;
    this.position = 'bottom';
    this.positionAnchor = undefined;
    this.buttons = undefined;
    this.translucent = false;
    this.animated = true;
    this.icon = undefined;
    this.htmlAttributes = undefined;
    this.swipeGesture = undefined;
    this.isOpen = false;
    this.trigger = undefined;
  }
  swipeGestureChanged() {
    /**
     * If the Toast is presented, then we need to destroy
     * any actives gestures before a new gesture is potentially
     * created below.
     *
     * If the Toast is dismissed, then no gesture should be available
     * since the Toast is not visible. This case should never
     * happen since the "dismiss" method handles destroying
     * any active swipe gestures, but we keep this code
     * around to handle the first case.
     */
    this.destroySwipeGesture();
    /**
     * A new swipe gesture should only be created
     * if the Toast is presented. If the Toast is not
     * yet presented then the "present" method will
     * handle calling the swipe gesture setup function.
     */
    if (this.presented && this.prefersSwipeGesture()) {
      /**
       * If the Toast is presented then
       * lastPresentedPosition is defined.
       */
      this.createSwipeGesture(this.lastPresentedPosition);
    }
  }
  onIsOpenChange(newValue, oldValue) {
    if (newValue === true && oldValue === false) {
      this.present();
    } else if (newValue === false && oldValue === true) {
      this.dismiss();
    }
  }
  triggerChanged() {
    const {
      trigger,
      el,
      triggerController
    } = this;
    if (trigger) {
      triggerController.addClickListener(el, trigger);
    }
  }
  connectedCallback() {
    (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_6__.j)(this.el);
    this.triggerChanged();
  }
  disconnectedCallback() {
    this.triggerController.removeClickListener();
  }
  componentWillLoad() {
    var _a;
    if (!((_a = this.htmlAttributes) === null || _a === void 0 ? void 0 : _a.id)) {
      (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_6__.k)(this.el);
    }
  }
  componentDidLoad() {
    /**
     * If toast was rendered with isOpen="true"
     * then we should open toast immediately.
     */
    if (this.isOpen === true) {
      (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_3__.r)(() => this.present());
    }
    /**
     * When binding values in frameworks such as Angular
     * it is possible for the value to be set after the Web Component
     * initializes but before the value watcher is set up in Stencil.
     * As a result, the watcher callback may not be fired.
     * We work around this by manually calling the watcher
     * callback when the component has loaded and the watcher
     * is configured.
     */
    this.triggerChanged();
  }
  /**
   * Present the toast overlay after it has been created.
   */
  present() {
    var _this = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const unlock = yield _this.lockController.lock();
      yield _this.delegateController.attachViewToDom();
      const {
        el,
        position
      } = _this;
      const anchor = _this.getAnchorElement();
      const animationPosition = getAnimationPosition(position, anchor, (0,_ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_8__.b)(_this), el);
      /**
       * Cache the calculated position of the toast, so we can re-use it
       * in the dismiss animation.
       */
      _this.lastPresentedPosition = animationPosition;
      yield (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_6__.f)(_this, 'toastEnter', iosEnterAnimation, mdEnterAnimation, {
        position,
        top: animationPosition.top,
        bottom: animationPosition.bottom
      });
      /**
       * Content is revealed to screen readers after
       * the transition to avoid jank since this
       * state updates will cause a re-render.
       */
      _this.revealContentToScreenReader = true;
      if (_this.duration > 0) {
        _this.durationTimeout = setTimeout(() => _this.dismiss(undefined, 'timeout'), _this.duration);
      }
      /**
       * If the Toast has a swipe gesture then we can
       * create the gesture so users can swipe the
       * presented Toast.
       */
      if (_this.prefersSwipeGesture()) {
        _this.createSwipeGesture(animationPosition);
      }
      unlock();
    })();
  }
  /**
   * Dismiss the toast overlay after it has been presented.
   *
   * @param data Any data to emit in the dismiss events.
   * @param role The role of the element that is dismissing the toast.
   * This can be useful in a button handler for determining which button was
   * clicked to dismiss the toast.
   * Some examples include: ``"cancel"`, `"destructive"`, "selected"`, and `"backdrop"`.
   *
   * This is a no-op if the overlay has not been presented yet. If you want
   * to remove an overlay from the DOM that was never presented, use the
   * [remove](https://developer.mozilla.org/en-US/docs/Web/API/Element/remove) method.
   */
  dismiss(data, role) {
    var _this2 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      var _a, _b;
      const unlock = yield _this2.lockController.lock();
      const {
        durationTimeout,
        position,
        lastPresentedPosition
      } = _this2;
      if (durationTimeout) {
        clearTimeout(durationTimeout);
      }
      const dismissed = yield (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_6__.g)(_this2, data, role, 'toastLeave', iosLeaveAnimation, mdLeaveAnimation,
      /**
       * Fetch the cached position that was calculated back in the present
       * animation. We always want to animate the dismiss from the same
       * position the present stopped at, so the animation looks continuous.
       */
      {
        position,
        top: (_a = lastPresentedPosition === null || lastPresentedPosition === void 0 ? void 0 : lastPresentedPosition.top) !== null && _a !== void 0 ? _a : '',
        bottom: (_b = lastPresentedPosition === null || lastPresentedPosition === void 0 ? void 0 : lastPresentedPosition.bottom) !== null && _b !== void 0 ? _b : ''
      });
      if (dismissed) {
        _this2.delegateController.removeViewFromDom();
        _this2.revealContentToScreenReader = false;
      }
      _this2.lastPresentedPosition = undefined;
      /**
       * If the Toast has a swipe gesture then we can
       * safely destroy it now that it is dismissed.
       */
      _this2.destroySwipeGesture();
      unlock();
      return dismissed;
    })();
  }
  /**
   * Returns a promise that resolves when the toast did dismiss.
   */
  onDidDismiss() {
    return (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_6__.h)(this.el, 'ionToastDidDismiss');
  }
  /**
   * Returns a promise that resolves when the toast will dismiss.
   */
  onWillDismiss() {
    return (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_6__.h)(this.el, 'ionToastWillDismiss');
  }
  getButtons() {
    const buttons = this.buttons ? this.buttons.map(b => {
      return typeof b === 'string' ? {
        text: b
      } : b;
    }) : [];
    return buttons;
  }
  /**
   * Returns the element specified by the positionAnchor prop,
   * or undefined if prop's value is an ID string and the element
   * is not found in the DOM.
   */
  getAnchorElement() {
    const {
      position,
      positionAnchor,
      el
    } = this;
    /**
     * If positionAnchor is undefined then
     * no anchor should be used when presenting the toast.
     */
    if (positionAnchor === undefined) {
      return;
    }
    if (position === 'middle' && positionAnchor !== undefined) {
      (0,_index_738d7504_js__WEBPACK_IMPORTED_MODULE_5__.p)('The positionAnchor property is ignored when using position="middle".', this.el);
      return undefined;
    }
    if (typeof positionAnchor === 'string') {
      /**
       * If the anchor is defined as an ID, find the element.
       * We do this on every present so the toast doesn't need
       * to account for the surrounding DOM changing since the
       * last time it was presented.
       */
      const foundEl = document.getElementById(positionAnchor);
      if (foundEl === null) {
        (0,_index_738d7504_js__WEBPACK_IMPORTED_MODULE_5__.p)(`An anchor element with an ID of "${positionAnchor}" was not found in the DOM.`, el);
        return undefined;
      }
      return foundEl;
    }
    if (positionAnchor instanceof HTMLElement) {
      return positionAnchor;
    }
    (0,_index_738d7504_js__WEBPACK_IMPORTED_MODULE_5__.p)('Invalid positionAnchor value:', positionAnchor, el);
    return undefined;
  }
  buttonClick(button) {
    var _this3 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const role = button.role;
      if ((0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_6__.i)(role)) {
        return _this3.dismiss(undefined, role);
      }
      const shouldDismiss = yield _this3.callButtonHandler(button);
      if (shouldDismiss) {
        return _this3.dismiss(undefined, role);
      }
      return Promise.resolve();
    })();
  }
  callButtonHandler(button) {
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (button === null || button === void 0 ? void 0 : button.handler) {
        // a handler has been provided, execute it
        // pass the handler the values from the inputs
        try {
          const rtn = yield (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_6__.s)(button.handler);
          if (rtn === false) {
            // if the return value of the handler is false then do not dismiss
            return false;
          }
        } catch (e) {
          console.error(e);
        }
      }
      return true;
    })();
  }
  renderButtons(buttons, side) {
    if (buttons.length === 0) {
      return;
    }
    const mode = (0,_ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_8__.b)(this);
    const buttonGroupsClasses = {
      'toast-button-group': true,
      [`toast-button-group-${side}`]: true
    };
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: buttonGroupsClasses
    }, buttons.map(b => (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("button", Object.assign({}, b.htmlAttributes, {
      type: "button",
      class: buttonClass(b),
      tabIndex: 0,
      onClick: () => this.buttonClick(b),
      part: buttonPart(b)
    }), (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "toast-button-inner"
    }, b.icon && (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-icon", {
      "aria-hidden": "true",
      icon: b.icon,
      slot: b.text === undefined ? 'icon-only' : undefined,
      class: "toast-button-icon"
    }), b.text), mode === 'md' && (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-ripple-effect", {
      type: b.icon !== undefined && b.text === undefined ? 'unbounded' : 'bounded'
    }))));
  }
  /**
   * Render the `message` property.
   * @param key - A key to give the element a stable identity. This is used to improve compatibility with screen readers.
   * @param ariaHidden - If "true" then content will be hidden from screen readers.
   */
  renderToastMessage(key, ariaHidden = null) {
    const {
      customHTMLEnabled,
      message
    } = this;
    if (customHTMLEnabled) {
      return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
        key: key,
        "aria-hidden": ariaHidden,
        class: "toast-message",
        part: "message",
        innerHTML: (0,_config_49c88215_js__WEBPACK_IMPORTED_MODULE_2__.a)(message)
      });
    }
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: key,
      "aria-hidden": ariaHidden,
      class: "toast-message",
      part: "message"
    }, message);
  }
  /**
   * Render the `header` property.
   * @param key - A key to give the element a stable identity. This is used to improve compatibility with screen readers.
   * @param ariaHidden - If "true" then content will be hidden from screen readers.
   */
  renderHeader(key, ariaHidden = null) {
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: key,
      class: "toast-header",
      "aria-hidden": ariaHidden,
      part: "header"
    }, this.header);
  }
  render() {
    const {
      layout,
      el,
      revealContentToScreenReader,
      header,
      message
    } = this;
    const allButtons = this.getButtons();
    const startButtons = allButtons.filter(b => b.side === 'start');
    const endButtons = allButtons.filter(b => b.side !== 'start');
    const mode = (0,_ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_8__.b)(this);
    const wrapperClass = {
      'toast-wrapper': true,
      [`toast-${this.position}`]: true,
      [`toast-layout-${layout}`]: true
    };
    /**
     * Stacked buttons are only meant to be
     *  used with one type of button.
     */
    if (layout === 'stacked' && startButtons.length > 0 && endButtons.length > 0) {
      (0,_index_738d7504_js__WEBPACK_IMPORTED_MODULE_5__.p)('This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.', el);
    }
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.e, Object.assign({
      key: '34036afc0701173d51c9c11ea4a2e1d65685ba41',
      tabindex: "-1"
    }, this.htmlAttributes, {
      style: {
        zIndex: `${60000 + this.overlayIndex}`
      },
      class: (0,_theme_01f3f29c_js__WEBPACK_IMPORTED_MODULE_7__.c)(this.color, Object.assign(Object.assign({
        [mode]: true
      }, (0,_theme_01f3f29c_js__WEBPACK_IMPORTED_MODULE_7__.g)(this.cssClass)), {
        'overlay-hidden': true,
        'toast-translucent': this.translucent
      })),
      onIonToastWillDismiss: this.dispatchCancelHandler
    }), (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: 'd927e43957f47888ce4e64f1e99c935d55757af7',
      class: wrapperClass
    }, (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: 'ca43bc42478181acdf8cdea6601a85fa95d12216',
      class: "toast-container",
      part: "container"
    }, this.renderButtons(startButtons, 'start'), this.icon !== undefined && (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-icon", {
      key: 'fdd6fb8f6e947ed002bd2e63fdc8ec7e764f4a7d',
      class: "toast-icon",
      part: "icon",
      icon: this.icon,
      lazy: false,
      "aria-hidden": "true"
    }), (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: '37c16c81ee3e4304379dfbcabdffe73db73e4653',
      class: "toast-content",
      role: "status",
      "aria-atomic": "true",
      "aria-live": "polite"
    }, !revealContentToScreenReader && header !== undefined && this.renderHeader('oldHeader', 'true'), !revealContentToScreenReader && message !== undefined && this.renderToastMessage('oldMessage', 'true'), revealContentToScreenReader && header !== undefined && this.renderHeader('header'), revealContentToScreenReader && message !== undefined && this.renderToastMessage('header')), this.renderButtons(endButtons, 'end'))));
  }
  get el() {
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
  static get watchers() {
    return {
      "swipeGesture": ["swipeGestureChanged"],
      "isOpen": ["onIsOpenChange"],
      "trigger": ["triggerChanged"]
    };
  }
};
const buttonClass = button => {
  return {
    'toast-button': true,
    'toast-button-icon-only': button.icon !== undefined && button.text === undefined,
    [`toast-button-${button.role}`]: button.role !== undefined,
    'ion-focusable': true,
    'ion-activatable': true
  };
};
const buttonPart = button => {
  return (0,_overlays_41a5d51b_js__WEBPACK_IMPORTED_MODULE_6__.i)(button.role) ? 'button cancel' : 'button';
};
Toast.style = {
  ios: IonToastIosStyle0,
  md: IonToastMdStyle0
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXRvYXN0X2VudHJ5X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQzZHO0FBQ2I7QUFDMUI7QUFDSTtBQUNmO0FBQzJNO0FBQ3RMO0FBQ047QUFDWDtBQUNoQjtBQUNLO0FBQ1I7QUFDRjtBQUNBOztBQUUxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzhDLG9CQUFvQkEsQ0FBQ0MsUUFBUSxFQUFFQyxjQUFjLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFO0VBQ2pFO0FBQ0o7QUFDQTtBQUNBO0VBQ0ksSUFBSUMsTUFBTTtFQUNWLElBQUlGLElBQUksS0FBSyxJQUFJLEVBQUU7SUFDZkUsTUFBTSxHQUFHSixRQUFRLEtBQUssS0FBSyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7RUFDeEMsQ0FBQyxNQUNJO0lBQ0RJLE1BQU0sR0FBR0osUUFBUSxLQUFLLEtBQUssR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFO0VBQzFDO0VBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0ksSUFBSUMsY0FBYyxJQUFJSixrREFBRyxFQUFFO0lBQ3ZCUSxvQkFBb0IsQ0FBQ0osY0FBYyxFQUFFRSxLQUFLLENBQUM7SUFDM0MsTUFBTUcsR0FBRyxHQUFHTCxjQUFjLENBQUNNLHFCQUFxQixDQUFDLENBQUM7SUFDbEQsSUFBSVAsUUFBUSxLQUFLLEtBQUssRUFBRTtNQUNwQkksTUFBTSxJQUFJRSxHQUFHLENBQUNFLE1BQU07SUFDeEIsQ0FBQyxNQUNJLElBQUlSLFFBQVEsS0FBSyxRQUFRLEVBQUU7TUFDNUI7QUFDWjtBQUNBO0FBQ0E7QUFDQTtNQUNZSSxNQUFNLElBQUlQLGtEQUFHLENBQUNZLFdBQVcsR0FBR0gsR0FB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QUFjLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQztNQUN2QyxRQUFRLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQztNQUM1QixTQUFTLEVBQUUsQ0FBQyxnQkFBZ0I7SUFDaEMsQ0FBQztFQUFFO0FBQ1AsQ0FBQztBQUNELE1BQU1yQixXQUFXLEdBQUloQixNQUFNLElBQUs7RUFDNUIsT0FBTztJQUNILGNBQWMsRUFBRSxJQUFJO0lBQ3BCLHdCQUF3QixFQUFFQSxNQUFNLENBQUMzQyxJQUFJLEtBQUtwQixTQUFTLElBQUkrRCxNQUFNLENBQUNOLElBQUksS0FBS3pELFNBQVM7SUFDaEYsQ0FBQyxnQkFBZ0IrRCxNQUFNLENBQUNyRSxJQUFJLEVBQUUsR0FBR3FFLE1BQU0sQ0FBQ3JFLElBQUksS0FBS00sU0FBUztJQUMxRCxlQUFlLEVBQUUsSUFBSTtJQUNyQixpQkFBaUIsRUFBRTtFQUN2QixDQUFDO0FBQ0wsQ0FBQztBQUNELE1BQU1tRixVQUFVLEdBQUlwQixNQUFNLElBQUs7RUFDM0IsT0FBT3ZNLHdEQUFRLENBQUN1TSxNQUFNLENBQUNyRSxJQUFJLENBQUMsR0FBRyxlQUFlLEdBQUcsUUFBUTtBQUM3RCxDQUFDO0FBQ0RuQixLQUFLLENBQUM1RCxLQUFLLEdBQUc7RUFDVjBMLEdBQUcsRUFBRWpJLGlCQUFpQjtFQUN0QmtJLEVBQUUsRUFBRWhJO0FBQ1IsQ0FBQyIsInNvdXJjZXMiOlsiLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLXRvYXN0LmVudHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGMgYXMgY3JlYXRlRXZlbnQsIGgsIGUgYXMgSG9zdCwgZiBhcyBnZXRFbGVtZW50IH0gZnJvbSAnLi9pbmRleC01MjdiOWUzNC5qcyc7XG5pbXBvcnQgeyBFIGFzIEVOQUJMRV9IVE1MX0NPTlRFTlRfREVGQVVMVCwgYSBhcyBzYW5pdGl6ZURPTVN0cmluZyB9IGZyb20gJy4vY29uZmlnLTQ5Yzg4MjE1LmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0RWxlbWVudFJvb3QsIHIgYXMgcmFmIH0gZnJvbSAnLi9oZWxwZXJzLTc4ZWZlZWMzLmpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlTG9ja0NvbnRyb2xsZXIgfSBmcm9tICcuL2xvY2stY29udHJvbGxlci0zMTY5MjhiZS5qcyc7XG5pbXBvcnQgeyBwIGFzIHByaW50SW9uV2FybmluZyB9IGZyb20gJy4vaW5kZXgtNzM4ZDc1MDQuanMnO1xuaW1wb3J0IHsgTyBhcyBPVkVSTEFZX0dFU1RVUkVfUFJJT1JJVFksIGQgYXMgY3JlYXRlRGVsZWdhdGVDb250cm9sbGVyLCBlIGFzIGNyZWF0ZVRyaWdnZXJDb250cm9sbGVyLCBpIGFzIGlzQ2FuY2VsLCBqIGFzIHByZXBhcmVPdmVybGF5LCBrIGFzIHNldE92ZXJsYXlJZCwgZiBhcyBwcmVzZW50LCBnIGFzIGRpc21pc3MsIGggYXMgZXZlbnRNZXRob2QsIHMgYXMgc2FmZUNhbGwsIEcgYXMgR0VTVFVSRSB9IGZyb20gJy4vb3ZlcmxheXMtNDFhNWQ1MWIuanMnO1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVDb2xvckNsYXNzZXMsIGcgYXMgZ2V0Q2xhc3NNYXAgfSBmcm9tICcuL3RoZW1lLTAxZjNmMjljLmpzJztcbmltcG9ydCB7IGMgYXMgY29uZmlnLCBiIGFzIGdldElvbk1vZGUgfSBmcm9tICcuL2lvbmljLWdsb2JhbC1jYTg2Y2YzMi5qcyc7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUFuaW1hdGlvbiB9IGZyb20gJy4vYW5pbWF0aW9uLWVhYjVhNGNhLmpzJztcbmltcG9ydCB7IHcgYXMgd2luIH0gZnJvbSAnLi9pbmRleC1hNWQ1MGRhZi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVHZXN0dXJlIH0gZnJvbSAnLi9pbmRleC0zOTc4MjY0Mi5qcyc7XG5pbXBvcnQgJy4vaGFyZHdhcmUtYmFjay1idXR0b24tODY0MTAxYTMuanMnO1xuaW1wb3J0ICcuL2ZyYW1ld29yay1kZWxlZ2F0ZS0yZWVhMTc2My5qcyc7XG5pbXBvcnQgJy4vZ2VzdHVyZS1jb250cm9sbGVyLTMxNGE1NGY2LmpzJztcblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIENTUyB0b3AgYW5kIGJvdHRvbSBwb3NpdGlvbiBvZiB0aGUgdG9hc3QsIHRvIGJlIHVzZWRcbiAqIGFzIHN0YXJ0aW5nIHBvaW50cyBmb3IgdGhlIGFuaW1hdGlvbiBrZXlmcmFtZXMuXG4gKlxuICogVGhlIGRlZmF1bHQgYW5pbWF0aW9ucyBmb3IgYm90aCBNRCBhbmQgaU9TXG4gKiB1c2UgdHJhbnNsYXRlWSwgd2hpY2ggY2FsY3VsYXRlcyBmcm9tIHRoZVxuICogdG9wIGVkZ2Ugb2YgdGhlIHNjcmVlbi4gVGhpcyBiZWhhdmlvciBpbXBhY3RzXG4gKiBob3cgd2UgY29tcHV0ZSB0aGUgb2Zmc2V0IHdoZW4gYSB0b2FzdCBoYXNcbiAqIHBvc2l0aW9uPSdib3R0b20nIHNpbmNlIHdlIG5lZWQgdG8gY2FsY3VsYXRlIGZyb21cbiAqIHRoZSBib3R0b20gZWRnZSBvZiB0aGUgc2NyZWVuIGluc3RlYWQuXG4gKlxuICogQHBhcmFtIHBvc2l0aW9uIFRoZSB2YWx1ZSBvZiB0aGUgdG9hc3QncyBwb3NpdGlvbiBwcm9wLlxuICogQHBhcmFtIHBvc2l0aW9uQW5jaG9yIFRoZSBlbGVtZW50IHRoZSB0b2FzdCBzaG91bGQgYmUgYW5jaG9yZWQgdG8sXG4gKiBpZiBhcHBsaWNhYmxlLlxuICogQHBhcmFtIG1vZGUgVGhlIHRvYXN0IGNvbXBvbmVudCdzIG1vZGUgKG1kLCBpb3MsIGV0YykuXG4gKiBAcGFyYW0gdG9hc3QgQSByZWZlcmVuY2UgdG8gdGhlIHRvYXN0IGVsZW1lbnQgaXRzZWxmLlxuICovXG5mdW5jdGlvbiBnZXRBbmltYXRpb25Qb3NpdGlvbihwb3NpdGlvbiwgcG9zaXRpb25BbmNob3IsIG1vZGUsIHRvYXN0KSB7XG4gICAgLyoqXG4gICAgICogU3RhcnQgd2l0aCBhIHByZWRlZmluZWQgb2Zmc2V0IGZyb20gdGhlIGVkZ2UgdGhlIHRvYXN0IHdpbGwgYmVcbiAgICAgKiBwb3NpdGlvbmVkIHJlbGF0aXZlIHRvLCB3aGV0aGVyIG9uIHRoZSBzY3JlZW4gb3IgYW5jaG9yIGVsZW1lbnQuXG4gICAgICovXG4gICAgbGV0IG9mZnNldDtcbiAgICBpZiAobW9kZSA9PT0gJ21kJykge1xuICAgICAgICBvZmZzZXQgPSBwb3NpdGlvbiA9PT0gJ3RvcCcgPyA4IDogLTg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvZmZzZXQgPSBwb3NpdGlvbiA9PT0gJ3RvcCcgPyAxMCA6IC0xMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgcG9zaXRpb25BbmNob3IgaXMgZGVmaW5lZCwgYWRkIGluIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSB0YXJnZXRcbiAgICAgKiBzY3JlZW4gZWRnZSB0byB0aGUgdGFyZ2V0IGFuY2hvciBlZGdlLiBGb3IgcG9zaXRpb249XCJ0b3BcIiwgdGhlXG4gICAgICogYm90dG9tIGFuY2hvciBlZGdlIGlzIHRhcmdldGVkLiBGb3IgcG9zaXRpb249XCJib3R0b21cIiwgdGhlIHRvcFxuICAgICAqIGFuY2hvciBlZGdlIGlzIHRhcmdldGVkLlxuICAgICAqL1xuICAgIGlmIChwb3NpdGlvbkFuY2hvciAmJiB3aW4pIHtcbiAgICAgICAgd2FybklmQW5jaG9ySXNIaWRkZW4ocG9zaXRpb25BbmNob3IsIHRvYXN0KTtcbiAgICAgICAgY29uc3QgYm94ID0gcG9zaXRpb25BbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgIG9mZnNldCArPSBib3guYm90dG9tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBvc2l0aW9uID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBKdXN0IGJveC50b3AgaXMgdGhlIGRpc3RhbmNlIGZyb20gdGhlIHRvcCBlZGdlIG9mIHRoZSBzY3JlZW5cbiAgICAgICAgICAgICAqIHRvIHRoZSB0b3AgZWRnZSBvZiB0aGUgYW5jaG9yLiBXZSB3YW50IHRvIGNhbGN1bGF0ZSBmcm9tIHRoZVxuICAgICAgICAgICAgICogYm90dG9tIGVkZ2Ugb2YgdGhlIHNjcmVlbiBpbnN0ZWFkLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBvZmZzZXQgLT0gd2luLmlubmVySGVpZ2h0IC0gYm94LnRvcDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogV2UgZG9uJ3QgaW5jbHVkZSBzYWZlIGFyZWEgaGVyZSBiZWNhdXNlIHRoYXQgc2hvdWxkIGFscmVhZHkgYmVcbiAgICAgICAgICogYWNjb3VudGVkIGZvciB3aGVuIGNoZWNraW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgYW5jaG9yLlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogYCR7b2Zmc2V0fXB4YCxcbiAgICAgICAgICAgIGJvdHRvbTogYCR7b2Zmc2V0fXB4YCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3A6IGBjYWxjKCR7b2Zmc2V0fXB4ICsgdmFyKC0taW9uLXNhZmUtYXJlYS10b3AsIDBweCkpYCxcbiAgICAgICAgICAgIGJvdHRvbTogYGNhbGMoJHtvZmZzZXR9cHggLSB2YXIoLS1pb24tc2FmZS1hcmVhLWJvdHRvbSwgMHB4KSlgLFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuICogSWYgdGhlIGFuY2hvciBlbGVtZW50IGlzIGhpZGRlbiwgZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAqIHdpbGwgcmV0dXJuIGFsbCAwcyBmb3IgaXQsIHdoaWNoIGNhbiBjYXVzZSB1bmV4cGVjdGVkXG4gKiByZXN1bHRzIGluIHRoZSBwb3NpdGlvbiBjYWxjdWxhdGlvbiB3aGVuIGFuaW1hdGluZy5cbiAqL1xuZnVuY3Rpb24gd2FybklmQW5jaG9ySXNIaWRkZW4ocG9zaXRpb25BbmNob3IsIHRvYXN0KSB7XG4gICAgaWYgKHBvc2l0aW9uQW5jaG9yLm9mZnNldFBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgICBwcmludElvbldhcm5pbmcoJ1RoZSBwb3NpdGlvbkFuY2hvciBlbGVtZW50IGZvciBpb24tdG9hc3Qgd2FzIGZvdW5kIGluIHRoZSBET00sIGJ1dCBhcHBlYXJzIHRvIGJlIGhpZGRlbi4gVGhpcyBtYXkgbGVhZCB0byB1bmV4cGVjdGVkIHBvc2l0aW9uaW5nIG9mIHRoZSB0b2FzdC4nLCB0b2FzdCk7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSB0b3Agb2Zmc2V0IHJlcXVpcmVkIHRvIHBsYWNlXG4gKiB0aGUgdG9hc3QgaW4gdGhlIG1pZGRsZSBvZiB0aGUgc2NyZWVuLlxuICogT25seSBuZWVkZWQgd2hlbiBwb3NpdGlvbj1cInRvYXN0XCIuXG4gKiBAcGFyYW0gdG9hc3RIZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSBpb24tdG9hc3QgZWxlbWVudFxuICogQHBhcmFtIHdyYXBwZXJIZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSAudG9hc3Qtd3JhcHBlciBlbGVtZW50XG4gKiBpbnNpZGUgdGhlIHRvYXN0J3Mgc2hhZG93IHJvb3QuXG4gKi9cbmNvbnN0IGdldE9mZnNldEZvck1pZGRsZVBvc2l0aW9uID0gKHRvYXN0SGVpZ2h0LCB3cmFwcGVySGVpZ2h0KSA9PiB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IodG9hc3RIZWlnaHQgLyAyIC0gd3JhcHBlckhlaWdodCAvIDIpO1xufTtcblxuLyoqXG4gKiBpT1MgVG9hc3QgRW50ZXIgQW5pbWF0aW9uXG4gKi9cbmNvbnN0IGlvc0VudGVyQW5pbWF0aW9uID0gKGJhc2VFbCwgb3B0cykgPT4ge1xuICAgIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgY29uc3QgeyBwb3NpdGlvbiwgdG9wLCBib3R0b20gfSA9IG9wdHM7XG4gICAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGJhc2VFbCk7XG4gICAgY29uc3Qgd3JhcHBlckVsID0gcm9vdC5xdWVyeVNlbGVjdG9yKCcudG9hc3Qtd3JhcHBlcicpO1xuICAgIHdyYXBwZXJBbmltYXRpb24uYWRkRWxlbWVudCh3cmFwcGVyRWwpO1xuICAgIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgIHdyYXBwZXJBbmltYXRpb24uZnJvbVRvKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWSgtMTAwJSknLCBgdHJhbnNsYXRlWSgke3RvcH0pYCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbWlkZGxlJzpcbiAgICAgICAgICAgIGNvbnN0IHRvcFBvc2l0aW9uID0gZ2V0T2Zmc2V0Rm9yTWlkZGxlUG9zaXRpb24oYmFzZUVsLmNsaWVudEhlaWdodCwgd3JhcHBlckVsLmNsaWVudEhlaWdodCk7XG4gICAgICAgICAgICB3cmFwcGVyRWwuc3R5bGUudG9wID0gYCR7dG9wUG9zaXRpb259cHhgO1xuICAgICAgICAgICAgd3JhcHBlckFuaW1hdGlvbi5mcm9tVG8oJ29wYWNpdHknLCAwLjAxLCAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgd3JhcHBlckFuaW1hdGlvbi5mcm9tVG8oJ3RyYW5zZm9ybScsICd0cmFuc2xhdGVZKDEwMCUpJywgYHRyYW5zbGF0ZVkoJHtib3R0b219KWApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBiYXNlQW5pbWF0aW9uLmVhc2luZygnY3ViaWMtYmV6aWVyKC4xNTUsMS4xMDUsLjI5NSwxLjEyKScpLmR1cmF0aW9uKDQwMCkuYWRkQW5pbWF0aW9uKHdyYXBwZXJBbmltYXRpb24pO1xufTtcblxuLyoqXG4gKiBpT1MgVG9hc3QgTGVhdmUgQW5pbWF0aW9uXG4gKi9cbmNvbnN0IGlvc0xlYXZlQW5pbWF0aW9uID0gKGJhc2VFbCwgb3B0cykgPT4ge1xuICAgIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgY29uc3QgeyBwb3NpdGlvbiwgdG9wLCBib3R0b20gfSA9IG9wdHM7XG4gICAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGJhc2VFbCk7XG4gICAgY29uc3Qgd3JhcHBlckVsID0gcm9vdC5xdWVyeVNlbGVjdG9yKCcudG9hc3Qtd3JhcHBlcicpO1xuICAgIHdyYXBwZXJBbmltYXRpb24uYWRkRWxlbWVudCh3cmFwcGVyRWwpO1xuICAgIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgIHdyYXBwZXJBbmltYXRpb24uZnJvbVRvKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlWSgke3RvcH0pYCwgJ3RyYW5zbGF0ZVkoLTEwMCUpJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbWlkZGxlJzpcbiAgICAgICAgICAgIHdyYXBwZXJBbmltYXRpb24uZnJvbVRvKCdvcGFjaXR5JywgMC45OSwgMCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHdyYXBwZXJBbmltYXRpb24uZnJvbVRvKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlWSgke2JvdHRvbX0pYCwgJ3RyYW5zbGF0ZVkoMTAwJSknKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZUFuaW1hdGlvbi5lYXNpbmcoJ2N1YmljLWJlemllciguMzYsLjY2LC4wNCwxKScpLmR1cmF0aW9uKDMwMCkuYWRkQW5pbWF0aW9uKHdyYXBwZXJBbmltYXRpb24pO1xufTtcblxuLyoqXG4gKiBNRCBUb2FzdCBFbnRlciBBbmltYXRpb25cbiAqL1xuY29uc3QgbWRFbnRlckFuaW1hdGlvbiA9IChiYXNlRWwsIG9wdHMpID0+IHtcbiAgICBjb25zdCBiYXNlQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgIGNvbnN0IHsgcG9zaXRpb24sIHRvcCwgYm90dG9tIH0gPSBvcHRzO1xuICAgIGNvbnN0IHJvb3QgPSBnZXRFbGVtZW50Um9vdChiYXNlRWwpO1xuICAgIGNvbnN0IHdyYXBwZXJFbCA9IHJvb3QucXVlcnlTZWxlY3RvcignLnRvYXN0LXdyYXBwZXInKTtcbiAgICB3cmFwcGVyQW5pbWF0aW9uLmFkZEVsZW1lbnQod3JhcHBlckVsKTtcbiAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XG4gICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICB3cmFwcGVyRWwuc3R5bGUuc2V0UHJvcGVydHkoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVZKCR7dG9wfSlgKTtcbiAgICAgICAgICAgIHdyYXBwZXJBbmltYXRpb24uZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbWlkZGxlJzpcbiAgICAgICAgICAgIGNvbnN0IHRvcFBvc2l0aW9uID0gZ2V0T2Zmc2V0Rm9yTWlkZGxlUG9zaXRpb24oYmFzZUVsLmNsaWVudEhlaWdodCwgd3JhcHBlckVsLmNsaWVudEhlaWdodCk7XG4gICAgICAgICAgICB3cmFwcGVyRWwuc3R5bGUudG9wID0gYCR7dG9wUG9zaXRpb259cHhgO1xuICAgICAgICAgICAgd3JhcHBlckFuaW1hdGlvbi5mcm9tVG8oJ29wYWNpdHknLCAwLjAxLCAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgd3JhcHBlckVsLnN0eWxlLnNldFByb3BlcnR5KCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlWSgke2JvdHRvbX0pYCk7XG4gICAgICAgICAgICB3cmFwcGVyQW5pbWF0aW9uLmZyb21Ubygnb3BhY2l0eScsIDAuMDEsIDEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBiYXNlQW5pbWF0aW9uLmVhc2luZygnY3ViaWMtYmV6aWVyKC4zNiwuNjYsLjA0LDEpJykuZHVyYXRpb24oNDAwKS5hZGRBbmltYXRpb24od3JhcHBlckFuaW1hdGlvbik7XG59O1xuXG4vKipcbiAqIG1kIFRvYXN0IExlYXZlIEFuaW1hdGlvblxuICovXG5jb25zdCBtZExlYXZlQW5pbWF0aW9uID0gKGJhc2VFbCkgPT4ge1xuICAgIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGJhc2VFbCk7XG4gICAgY29uc3Qgd3JhcHBlckVsID0gcm9vdC5xdWVyeVNlbGVjdG9yKCcudG9hc3Qtd3JhcHBlcicpO1xuICAgIHdyYXBwZXJBbmltYXRpb24uYWRkRWxlbWVudCh3cmFwcGVyRWwpLmZyb21Ubygnb3BhY2l0eScsIDAuOTksIDApO1xuICAgIHJldHVybiBiYXNlQW5pbWF0aW9uLmVhc2luZygnY3ViaWMtYmV6aWVyKC4zNiwuNjYsLjA0LDEpJykuZHVyYXRpb24oMzAwKS5hZGRBbmltYXRpb24od3JhcHBlckFuaW1hdGlvbik7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIGdlc3R1cmUgdGhhdCBhbGxvd3MgdGhlIFRvYXN0XG4gKiB0byBiZSBzd2lwZWQgdG8gZGlzbWlzcy5cbiAqIEBwYXJhbSBlbCAtIFRoZSBUb2FzdCBlbGVtZW50XG4gKiBAcGFyYW0gdG9hc3RQb3NpdGlvbiAtIFRoZSBsYXN0IGNvbXB1dGVkIHBvc2l0aW9uIG9mIHRoZSBUb2FzdC4gVGhpcyBpcyBjb21wdXRlZCBpbiB0aGUgXCJwcmVzZW50XCIgbWV0aG9kLlxuICogQHBhcmFtIG9uRGlzbWlzcyAtIEEgY2FsbGJhY2sgdG8gZmlyZSB3aGVuIHRoZSBUb2FzdCB3YXMgc3dpcGVkIHRvIGRpc21pc3MuXG4gKi9cbmNvbnN0IGNyZWF0ZVN3aXBlVG9EaXNtaXNzR2VzdHVyZSA9IChlbCwgdG9hc3RQb3NpdGlvbiwgb25EaXNtaXNzKSA9PiB7XG4gICAgLyoqXG4gICAgICogVXNlcnMgc2hvdWxkIHN3aXBlIG9uIHRoZSB2aXNpYmxlIHRvYXN0IHdyYXBwZXJcbiAgICAgKiByYXRoZXIgdGhhbiBvbiBpb24tdG9hc3Qgd2hpY2ggY292ZXJzIHRoZSBlbnRpcmUgc2NyZWVuLlxuICAgICAqIFdoZW4gdGVzdGluZyB0aGUgY2xhc3MgaW5zdGFuY2UgdGhlIGlubmVyIHdyYXBwZXIgd2lsbCBub3RcbiAgICAgKiBiZSBkZWZpbmVkLiBBcyBhIHJlc3VsdCwgd2UgdXNlIGEgcGxhY2Vob2xkZXIgZWxlbWVudCBpbiB0aG9zZSBlbnZpcm9ubWVudHMuXG4gICAgICovXG4gICAgY29uc3Qgd3JhcHBlckVsID0gZ2V0RWxlbWVudFJvb3QoZWwpLnF1ZXJ5U2VsZWN0b3IoJy50b2FzdC13cmFwcGVyJyk7XG4gICAgY29uc3QgaG9zdEVsSGVpZ2h0ID0gZWwuY2xpZW50SGVpZ2h0O1xuICAgIGNvbnN0IHdyYXBwZXJFbEJveCA9IHdyYXBwZXJFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBhbW91bnQgdGhhdFxuICAgICAqIHRoZSB0b2FzdCBjYW4gYmUgc3dpcGVkLiBUaGlzIHNob3VsZFxuICAgICAqIGFjY291bnQgZm9yIHRoZSB3cmFwcGVyIGVsZW1lbnQncyBoZWlnaHRcbiAgICAgKiB0b28gc28gdGhlIHRvYXN0IGNhbiBiZSBzd2lwZWQgb2Zmc2NyZWVuXG4gICAgICogY29tcGxldGVseS5cbiAgICAgKi9cbiAgICBsZXQgTUFYX1NXSVBFX0RJU1RBTkNFID0gMDtcbiAgICAvKipcbiAgICAgKiBUaGUgc3RlcCB2YWx1ZSBhdCB3aGljaCBhIHRvYXN0XG4gICAgICogaXMgZWxpZ2libGUgZm9yIGRpc21pc3NpbmcgdmlhIGdlc3R1cmUuXG4gICAgICovXG4gICAgY29uc3QgRElTTUlTU19USFJFU0hPTEQgPSAwLjU7XG4gICAgLyoqXG4gICAgICogVGhlIG1pZGRsZSBwb3NpdGlvbiBUb2FzdCBzdGFydHMgNTAlIG9mIHRoZSB3YXlcbiAgICAgKiB0aHJvdWdoIHRoZSBhbmltYXRpb24sIHNvIHdlIG5lZWQgdG8gdXNlIHRoaXNcbiAgICAgKiBhcyB0aGUgc3RhcnRpbmcgcG9pbnQgZm9yIG91ciBzdGVwIHZhbHVlcy5cbiAgICAgKi9cbiAgICBjb25zdCBTVEVQX09GRlNFVCA9IGVsLnBvc2l0aW9uID09PSAnbWlkZGxlJyA/IDAuNSA6IDA7XG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgVG9hc3QgaXMgYXQgdGhlIHRvcCB1c2VycyB3aWxsIGJlXG4gICAgICogc3dpcGluZyB1cC4gQXMgYSByZXN1bHQsIHRoZSBkZWx0YSB2YWx1ZXMgd2lsbCBiZVxuICAgICAqIG5lZ2F0aXZlIG51bWJlcnMgd2hpY2ggd2lsbCByZXN1bHQgaW4gbmVnYXRpdmUgc3RlcHNcbiAgICAgKiBhbmQgdGhyZXNob2xkcy4gQXMgYSByZXN1bHQsIHdlIG5lZWQgdG8gbWFrZSB0aG9zZSBudW1iZXJzXG4gICAgICogcG9zaXRpdmUuXG4gICAgICovXG4gICAgY29uc3QgSU5WRVJTSU9OX0ZBQ1RPUiA9IGVsLnBvc2l0aW9uID09PSAndG9wJyA/IC0xIDogMTtcbiAgICAvKipcbiAgICAgKiBUaGUgdG9wIG9mZnNldCB0aGF0IHBsYWNlcyB0aGVcbiAgICAgKiB0b2FzdCBpbiB0aGUgbWlkZGxlIG9mIHRoZSBzY3JlZW4uXG4gICAgICogT25seSBuZWVkZWQgd2hlbiBwb3NpdGlvbj1cIm1pZGRsZVwiLlxuICAgICAqL1xuICAgIGNvbnN0IHRvcFBvc2l0aW9uID0gZ2V0T2Zmc2V0Rm9yTWlkZGxlUG9zaXRpb24oaG9zdEVsSGVpZ2h0LCB3cmFwcGVyRWxCb3guaGVpZ2h0KTtcbiAgICBjb25zdCBTV0lQRV9VUF9ET1dOX0tFWUZSQU1FUyA9IFtcbiAgICAgICAgeyBvZmZzZXQ6IDAsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoLSR7dG9wUG9zaXRpb24gKyB3cmFwcGVyRWxCb3guaGVpZ2h0fXB4KWAgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDAuNSwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgwcHgpYCB9LFxuICAgICAgICB7IG9mZnNldDogMSwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgke3RvcFBvc2l0aW9uICsgd3JhcHBlckVsQm94LmhlaWdodH1weClgIH0sXG4gICAgXTtcbiAgICBjb25zdCBzd2lwZUFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigndG9hc3Qtc3dpcGUtdG8tZGlzbWlzcy1hbmltYXRpb24nKVxuICAgICAgICAuYWRkRWxlbWVudCh3cmFwcGVyRWwpXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3BlY2lmaWMgdmFsdWUgaGVyZSBkb2VzIG5vdCBhY3R1YWxseVxuICAgICAgICAgKiBtYXR0ZXIuIFdlIGp1c3QgbmVlZCB0aGlzIHRvIGJlIGEgcG9zaXRpdmVcbiAgICAgICAgICogdmFsdWUgc28gdGhlIGFuaW1hdGlvbiBkb2VzIG5vdCBqdW1wXG4gICAgICAgICAqIHRvIHRoZSBlbmQgd2hlbiB0aGUgdXNlciBiZWluZ3MgdG8gZHJhZy5cbiAgICAgICAgICovXG4gICAgICAgIC5kdXJhdGlvbigxMDApO1xuICAgIHN3aXRjaCAoZWwucG9zaXRpb24pIHtcbiAgICAgICAgY2FzZSAnbWlkZGxlJzpcbiAgICAgICAgICAgIE1BWF9TV0lQRV9ESVNUQU5DRSA9IGhvc3RFbEhlaWdodCArIHdyYXBwZXJFbEJveC5oZWlnaHQ7XG4gICAgICAgICAgICBzd2lwZUFuaW1hdGlvbi5rZXlmcmFtZXMoU1dJUEVfVVBfRE9XTl9LRVlGUkFNRVMpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUb2FzdCBjYW4gYmUgc3dpcGVkIHVwIG9yIGRvd24gYnV0XG4gICAgICAgICAgICAgKiBzaG91bGQgc3RhcnQgaW4gdGhlIG1pZGRsZSBvZiB0aGUgc2NyZWVuLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzd2lwZUFuaW1hdGlvbi5wcm9ncmVzc1N0YXJ0KHRydWUsIDAuNSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhlIGJvdHRvbSBlZGdlIG9mIHRoZSB3cmFwcGVyXG4gICAgICAgICAgICAgKiBpbmNsdWRlcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdG9wXG4gICAgICAgICAgICAgKiBvZiB0aGUgc2NyZWVuIGFuZCB0aGUgdG9wIG9mIHRoZSB3cmFwcGVyXG4gICAgICAgICAgICAgKiBhcyB3ZWxsIGFzIHRoZSB3cmFwcGVyIGhlaWdodCBzbyB0aGUgd3JhcHBlclxuICAgICAgICAgICAgICogY2FuIGJlIGRyYWdnZWQgZnVsbHkgb2Zmc2NyZWVuLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBNQVhfU1dJUEVfRElTVEFOQ0UgPSB3cmFwcGVyRWxCb3guYm90dG9tO1xuICAgICAgICAgICAgc3dpcGVBbmltYXRpb24ua2V5ZnJhbWVzKFtcbiAgICAgICAgICAgICAgICB7IG9mZnNldDogMCwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgke3RvYXN0UG9zaXRpb24udG9wfSlgIH0sXG4gICAgICAgICAgICAgICAgeyBvZmZzZXQ6IDEsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoLTEwMCUpJyB9LFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBzd2lwZUFuaW1hdGlvbi5wcm9ncmVzc1N0YXJ0KHRydWUsIDApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoaXMgY29tcHV0ZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlXG4gICAgICAgICAgICAgKiB0b3Agb2YgdGhlIHdyYXBwZXIgYW5kIHRoZSBib3R0b20gb2YgdGhlXG4gICAgICAgICAgICAgKiBzY3JlZW4gaW5jbHVkaW5nIHRoZSBoZWlnaHQgb2YgdGhlIHdyYXBwZXJcbiAgICAgICAgICAgICAqIGVsZW1lbnQgc28gaXQgY2FuIGJlIGRyYWdnZWQgZnVsbHkgb2Zmc2NyZWVuLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBNQVhfU1dJUEVfRElTVEFOQ0UgPSBob3N0RWxIZWlnaHQgLSB3cmFwcGVyRWxCb3gudG9wO1xuICAgICAgICAgICAgc3dpcGVBbmltYXRpb24ua2V5ZnJhbWVzKFtcbiAgICAgICAgICAgICAgICB7IG9mZnNldDogMCwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgke3RvYXN0UG9zaXRpb24uYm90dG9tfSlgIH0sXG4gICAgICAgICAgICAgICAgeyBvZmZzZXQ6IDEsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMTAwJSknIH0sXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHN3aXBlQW5pbWF0aW9uLnByb2dyZXNzU3RhcnQodHJ1ZSwgMCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgY29uc3QgY29tcHV0ZVN0ZXAgPSAoZGVsdGEpID0+IHtcbiAgICAgICAgcmV0dXJuIChkZWx0YSAqIElOVkVSU0lPTl9GQUNUT1IpIC8gTUFYX1NXSVBFX0RJU1RBTkNFO1xuICAgIH07XG4gICAgY29uc3Qgb25Nb3ZlID0gKGRldGFpbCkgPT4ge1xuICAgICAgICBjb25zdCBzdGVwID0gU1RFUF9PRkZTRVQgKyBjb21wdXRlU3RlcChkZXRhaWwuZGVsdGFZKTtcbiAgICAgICAgc3dpcGVBbmltYXRpb24ucHJvZ3Jlc3NTdGVwKHN0ZXApO1xuICAgIH07XG4gICAgY29uc3Qgb25FbmQgPSAoZGV0YWlsKSA9PiB7XG4gICAgICAgIGNvbnN0IHZlbG9jaXR5ID0gZGV0YWlsLnZlbG9jaXR5WTtcbiAgICAgICAgY29uc3QgdGhyZXNob2xkID0gKChkZXRhaWwuZGVsdGFZICsgdmVsb2NpdHkgKiAxMDAwKSAvIE1BWF9TV0lQRV9ESVNUQU5DRSkgKiBJTlZFUlNJT05fRkFDVE9SO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZSB0aGUgZ2VzdHVyZSBmb3IgdGhlIHJlbWFpbmRlciBvZiB0aGUgYW5pbWF0aW9uLlxuICAgICAgICAgKiBJdCB3aWxsIGJlIHJlLWVuYWJsZWQgaWYgdGhlIHRvYXN0IGFuaW1hdGVzIGJhY2sgdG9cbiAgICAgICAgICogaXRzIGluaXRpYWwgcHJlc2VudGVkIHBvc2l0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2VzdHVyZS5lbmFibGUoZmFsc2UpO1xuICAgICAgICBsZXQgc2hvdWxkRGlzbWlzcyA9IHRydWU7XG4gICAgICAgIGxldCBwbGF5VG8gPSAxO1xuICAgICAgICBsZXQgc3RlcCA9IDA7XG4gICAgICAgIGxldCByZW1haW5pbmdEaXN0YW5jZSA9IDA7XG4gICAgICAgIGlmIChlbC5wb3NpdGlvbiA9PT0gJ21pZGRsZScpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQSBtaWRkbGUgcG9zaXRpb25lZCBUb2FzdCBhcHBlYXJzXG4gICAgICAgICAgICAgKiBpbiB0aGUgbWlkZGxlIG9mIHRoZSBzY3JlZW4gKGF0IGFuaW1hdGlvbiBvZmZzZXQgMC41KS5cbiAgICAgICAgICAgICAqIEFzIGEgcmVzdWx0LCB0aGUgdGhyZXNob2xkIHdpbGwgYmUgY2FsY3VsYXRlZCByZWxhdGl2ZVxuICAgICAgICAgICAgICogdG8gdGhpcyBzdGFydGluZyBwb3NpdGlvbi4gSW4gb3RoZXIgd29yZHMgYXQgYW5pbWF0aW9uIG9mZnNldCAwLjVcbiAgICAgICAgICAgICAqIHRoZSB0aHJlc2hvbGQgd2lsbCBiZSAwLiBXZSB3YW50IHRoZSBtaWRkbGUgVG9hc3QgdG8gYmUgZWxpZ2libGVcbiAgICAgICAgICAgICAqIGZvciBkaXNtaXNzIHdoZW4gdGhlIHVzZXIgaGFzIHN3aXBlZCBlaXRoZXIgaGFsZiB3YXkgdXAgb3IgZG93biB0aGVcbiAgICAgICAgICAgICAqIHNjcmVlbi4gQXMgYSByZXN1bHQsIHdlIGRpdmlkZSBESVNNSVNTX1RIUkVTSE9MRCBpbiBoYWxmLiBXZSBhbHNvXG4gICAgICAgICAgICAgKiBjb25zaWRlciB3aGVuIHRoZSB0aHJlc2hvbGQgaXMgYSBuZWdhdGl2ZSBpbiB0aGUgZXZlbnQgdGhlXG4gICAgICAgICAgICAgKiB1c2VyIGRyYWdzIHVwIChzaW5jZSB0aGUgZGVsdGFZIHdpbGwgYWxzbyBiZSBuZWdhdGl2ZSkuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHNob3VsZERpc21pc3MgPSB0aHJlc2hvbGQgPj0gRElTTUlTU19USFJFU0hPTEQgLyAyIHx8IHRocmVzaG9sZCA8PSAtRElTTUlTU19USFJFU0hPTEQgLyAyO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTaW5jZSB3ZSBhcmUgcmVwbGFjaW5nIHRoZSBrZXlmcmFtZXNcbiAgICAgICAgICAgICAqIGJlbG93IHRoZSBhbmltYXRpb24gYWx3YXlzIHN0YXJ0cyBmcm9tXG4gICAgICAgICAgICAgKiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBuZXcga2V5ZnJhbWVzLlxuICAgICAgICAgICAgICogU2ltaWxhcmx5LCB3ZSBhcmUgYWx3YXlzIHBsYXlpbmcgdG9cbiAgICAgICAgICAgICAqIHRoZSBlbmQgb2YgdGhlIG5ldyBrZXlmcmFtZXMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHBsYXlUbyA9IDE7XG4gICAgICAgICAgICBzdGVwID0gMDtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhlIFRvYXN0IHNob3VsZCBhbmltYXRlIGZyb20gd2hlcmV2ZXIgaXRzXG4gICAgICAgICAgICAgKiBjdXJyZW50IHBvc2l0aW9uIGlzIHRvIHRoZSBkZXNpcmVkIGVuZCBzdGF0ZS5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBUbyBiZWdpbiwgd2UgZ2V0IHRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZVxuICAgICAgICAgICAgICogVG9hc3QgZm9yIGl0cyBzdGFydGluZyBzdGF0ZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlckVsQm94ID0gd3JhcHBlckVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSB3cmFwcGVyRWxCb3gudG9wIC0gdG9wUG9zaXRpb247XG4gICAgICAgICAgICBjb25zdCBzdGFydFBvc2l0aW9uID0gYCR7c3RhcnRPZmZzZXR9cHhgO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGUgZGVsdGFZIGlzIG5lZ2F0aXZlIHRoZW4gdGhlIHVzZXIgaXMgc3dpcGluZ1xuICAgICAgICAgICAgICogdXAsIHNvIHRoZSBUb2FzdCBzaG91bGQgYW5pbWF0ZSB0byB0aGUgdG9wIG9mIHRoZSBzY3JlZW4uXG4gICAgICAgICAgICAgKiBJZiB0aGUgZGVsdGFZIGlzIHBvc2l0aXZlIHRoZW4gdGhlIHVzZXIgaXMgc3dpcGluZ1xuICAgICAgICAgICAgICogZG93biwgc28gdGhlIFRvYXN0IHNob3VsZCBhbmltYXRlIHRvIHRoZSBib3R0b20gb2YgdGhlIHNjcmVlbi5cbiAgICAgICAgICAgICAqIFdlIGFsc28gYWNjb3VudCBmb3Igd2hlbiB0aGUgZGVsdGFZIGlzIDAsIGJ1dCByZWFsaXN0aWNhbGx5XG4gICAgICAgICAgICAgKiB0aGF0IHNob3VsZCBuZXZlciBoYXBwZW4gYmVjYXVzZSBpdCBtZWFucyB0aGUgdXNlciBkaWQgbm90IGRyYWdcbiAgICAgICAgICAgICAqIHRoZSB0b2FzdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0RmFjdG9yID0gZGV0YWlsLmRlbHRhWSA8PSAwID8gLTEgOiAxO1xuICAgICAgICAgICAgY29uc3QgZW5kT2Zmc2V0ID0gKHRvcFBvc2l0aW9uICsgd3JhcHBlckVsQm94LmhlaWdodCkgKiBvZmZzZXRGYWN0b3I7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoZSBUb2FzdCBzaG91bGQgZGlzbWlzc1xuICAgICAgICAgICAgICogdGhlbiB3ZSBuZWVkIHRvIGZpZ3VyZSBvdXQgd2hpY2ggZWRnZSBvZlxuICAgICAgICAgICAgICogdGhlIHNjcmVlbiBpdCBzaG91bGQgYW5pbWF0ZSB0b3dhcmRzLlxuICAgICAgICAgICAgICogQnkgZGVmYXVsdCwgdGhlIFRvYXN0IHdpbGwgY29tZVxuICAgICAgICAgICAgICogYmFjayB0byBpdHMgZGVmYXVsdCBzdGF0ZSBpbiB0aGVcbiAgICAgICAgICAgICAqIG1pZGRsZSBvZiB0aGUgc2NyZWVuLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBlbmRQb3NpdGlvbiA9IHNob3VsZERpc21pc3MgPyBgJHtlbmRPZmZzZXR9cHhgIDogJzBweCc7XG4gICAgICAgICAgICBjb25zdCBLRVlGUkFNRVMgPSBbXG4gICAgICAgICAgICAgICAgeyBvZmZzZXQ6IDAsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtzdGFydFBvc2l0aW9ufSlgIH0sXG4gICAgICAgICAgICAgICAgeyBvZmZzZXQ6IDEsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtlbmRQb3NpdGlvbn0pYCB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHN3aXBlQW5pbWF0aW9uLmtleWZyYW1lcyhLRVlGUkFNRVMpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDb21wdXRlIHRoZSByZW1haW5pbmcgYW1vdW50IG9mIHBpeGVscyB0aGVcbiAgICAgICAgICAgICAqIHRvYXN0IG5lZWRzIHRvIG1vdmUgdG8gYmUgZnVsbHkgZGlzbWlzc2VkLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICByZW1haW5pbmdEaXN0YW5jZSA9IGVuZE9mZnNldCAtIHN0YXJ0T2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2hvdWxkRGlzbWlzcyA9IHRocmVzaG9sZCA+PSBESVNNSVNTX1RIUkVTSE9MRDtcbiAgICAgICAgICAgIHBsYXlUbyA9IHNob3VsZERpc21pc3MgPyAxIDogMDtcbiAgICAgICAgICAgIHN0ZXAgPSBjb21wdXRlU3RlcChkZXRhaWwuZGVsdGFZKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ29tcHV0ZSB0aGUgcmVtYWluaW5nIGFtb3VudCBvZiBwaXhlbHMgdGhlXG4gICAgICAgICAgICAgKiB0b2FzdCBuZWVkcyB0byBtb3ZlIHRvIGJlIGZ1bGx5IGRpc21pc3NlZC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nU3RlcEFtb3VudCA9IHNob3VsZERpc21pc3MgPyAxIC0gc3RlcCA6IHN0ZXA7XG4gICAgICAgICAgICByZW1haW5pbmdEaXN0YW5jZSA9IHJlbWFpbmluZ1N0ZXBBbW91bnQgKiBNQVhfU1dJUEVfRElTVEFOQ0U7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmltYXRpb24gc3BlZWQgc2hvdWxkIGRlcGVuZCBvbiBob3cgcXVpY2tseVxuICAgICAgICAgKiB0aGUgdXNlciBmbGlja3MgdGhlIHRvYXN0IGFjcm9zcyB0aGUgc2NyZWVuLiBIb3dldmVyLFxuICAgICAgICAgKiBpdCBzaG91bGQgYmUgbm8gc2xvd2VyIHRoYW4gMjAwbXMuXG4gICAgICAgICAqIFdlIHVzZSBNYXRoLmFicyBvbiB0aGUgcmVtYWluaW5nRGlzdGFuY2UgYmVjYXVzZSB0aGF0IHZhbHVlXG4gICAgICAgICAqIGNhbiBiZSBuZWdhdGl2ZSB3aGVuIHN3aXBpbmcgdXAgb24gYSBtaWRkbGUgcG9zaXRpb24gdG9hc3QuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IE1hdGgubWluKE1hdGguYWJzKHJlbWFpbmluZ0Rpc3RhbmNlKSAvIE1hdGguYWJzKHZlbG9jaXR5KSwgMjAwKTtcbiAgICAgICAgc3dpcGVBbmltYXRpb25cbiAgICAgICAgICAgIC5vbkZpbmlzaCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkRGlzbWlzcykge1xuICAgICAgICAgICAgICAgIG9uRGlzbWlzcygpO1xuICAgICAgICAgICAgICAgIHN3aXBlQW5pbWF0aW9uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChlbC5wb3NpdGlvbiA9PT0gJ21pZGRsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIElmIHRoZSB0b2FzdCBzbmFwcGVkIGJhY2sgdG9cbiAgICAgICAgICAgICAgICAgICAgICogdGhlIG1pZGRsZSBvZiB0aGUgc2NyZWVuIHdlIG5lZWRcbiAgICAgICAgICAgICAgICAgICAgICogdG8gcmVzZXQgdGhlIGtleWZyYW1lc1xuICAgICAgICAgICAgICAgICAgICAgKiBzbyB0aGUgdG9hc3QgY2FuIGJlIHN3aXBlZFxuICAgICAgICAgICAgICAgICAgICAgKiB1cCBvciBkb3duIGFnYWluLlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgc3dpcGVBbmltYXRpb24ua2V5ZnJhbWVzKFNXSVBFX1VQX0RPV05fS0VZRlJBTUVTKS5wcm9ncmVzc1N0YXJ0KHRydWUsIDAuNSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzd2lwZUFuaW1hdGlvbi5wcm9ncmVzc1N0YXJ0KHRydWUsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJZiB0aGUgdG9hc3QgZGlkIG5vdCBkaXNtaXNzIHRoZW5cbiAgICAgICAgICAgICAgICAgKiB0aGUgdXNlciBzaG91bGQgYmUgYWJsZSB0byBzd2lwZSBhZ2Fpbi5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBnZXN0dXJlLmVuYWJsZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhpcyBtdXN0IGJlIGEgb25lIHRpbWUgY2FsbGJhY2tcbiAgICAgICAgICAgICAqIG90aGVyd2lzZSBhIG5ldyBjYWxsYmFjayB3aWxsXG4gICAgICAgICAgICAgKiBiZSBhZGRlZCBldmVyeSB0aW1lIG9uRW5kIHJ1bnMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgfSwgeyBvbmVUaW1lQ2FsbGJhY2s6IHRydWUgfSlcbiAgICAgICAgICAgIC5wcm9ncmVzc0VuZChwbGF5VG8sIHN0ZXAsIGR1cmF0aW9uKTtcbiAgICB9O1xuICAgIGNvbnN0IGdlc3R1cmUgPSBjcmVhdGVHZXN0dXJlKHtcbiAgICAgICAgZWw6IHdyYXBwZXJFbCxcbiAgICAgICAgZ2VzdHVyZU5hbWU6ICd0b2FzdC1zd2lwZS10by1kaXNtaXNzJyxcbiAgICAgICAgZ2VzdHVyZVByaW9yaXR5OiBPVkVSTEFZX0dFU1RVUkVfUFJJT1JJVFksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUb2FzdCBvbmx5IHN1cHBvcnRzIHZlcnRpY2FsIHN3aXBlcy5cbiAgICAgICAgICogVGhpcyBuZWVkcyB0byBiZSB1cGRhdGVkIGlmIHdlIGxhdGVyXG4gICAgICAgICAqIHN1cHBvcnQgaG9yaXpvbnRhbCBzd2lwZXMuXG4gICAgICAgICAqL1xuICAgICAgICBkaXJlY3Rpb246ICd5JyxcbiAgICAgICAgb25Nb3ZlLFxuICAgICAgICBvbkVuZCxcbiAgICB9KTtcbiAgICByZXR1cm4gZ2VzdHVyZTtcbn07XG5cbmNvbnN0IHRvYXN0SW9zQ3NzID0gXCI6aG9zdHstLWJvcmRlci13aWR0aDowOy0tYm9yZGVyLXN0eWxlOm5vbmU7LS1ib3JkZXItY29sb3I6aW5pdGlhbDstLWJveC1zaGFkb3c6bm9uZTstLW1pbi13aWR0aDphdXRvOy0td2lkdGg6YXV0bzstLW1pbi1oZWlnaHQ6YXV0bzstLWhlaWdodDphdXRvOy0tbWF4LWhlaWdodDphdXRvOy0td2hpdGUtc3BhY2U6bm9ybWFsO3RvcDowO2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtvdXRsaW5lOm5vbmU7Y29sb3I6dmFyKC0tY29sb3IpO2ZvbnQtZmFtaWx5OnZhcigtLWlvbi1mb250LWZhbWlseSwgaW5oZXJpdCk7Y29udGFpbjpzdHJpY3Q7ei1pbmRleDoxMDAxO3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3R7aW5zZXQtaW5saW5lLXN0YXJ0OjB9Omhvc3QoLm92ZXJsYXktaGlkZGVuKXtkaXNwbGF5Om5vbmV9Omhvc3QoLmlvbi1jb2xvcil7LS1idXR0b24tY29sb3I6aW5oZXJpdDtjb2xvcjp2YXIoLS1pb24tY29sb3ItY29udHJhc3QpfTpob3N0KC5pb24tY29sb3IpIC50b2FzdC1idXR0b24tY2FuY2Vse2NvbG9yOmluaGVyaXR9Omhvc3QoLmlvbi1jb2xvcikgLnRvYXN0LXdyYXBwZXJ7YmFja2dyb3VuZDp2YXIoLS1pb24tY29sb3ItYmFzZSl9LnRvYXN0LXdyYXBwZXJ7Ym9yZGVyLXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTt3aWR0aDp2YXIoLS13aWR0aCk7bWluLXdpZHRoOnZhcigtLW1pbi13aWR0aCk7bWF4LXdpZHRoOnZhcigtLW1heC13aWR0aCk7aGVpZ2h0OnZhcigtLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1taW4taGVpZ2h0KTttYXgtaGVpZ2h0OnZhcigtLW1heC1oZWlnaHQpO2JvcmRlci13aWR0aDp2YXIoLS1ib3JkZXItd2lkdGgpO2JvcmRlci1zdHlsZTp2YXIoLS1ib3JkZXItc3R5bGUpO2JvcmRlci1jb2xvcjp2YXIoLS1ib3JkZXItY29sb3IpO2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZCk7LXdlYmtpdC1ib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO2JveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7cG9pbnRlci1ldmVudHM6YXV0b30udG9hc3Qtd3JhcHBlcntpbnNldC1pbmxpbmUtc3RhcnQ6dmFyKC0tc3RhcnQpO2luc2V0LWlubGluZS1lbmQ6dmFyKC0tZW5kKX0udG9hc3Qtd3JhcHBlci50b2FzdC10b3B7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIC0xMDAlLCAgMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAtMTAwJSwgIDApO3RvcDowfS50b2FzdC13cmFwcGVyLnRvYXN0LWJvdHRvbXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMTAwJSwgIDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMTAwJSwgIDApO2JvdHRvbTowfS50b2FzdC1jb250YWluZXJ7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtoZWlnaHQ6aW5oZXJpdDttaW4taGVpZ2h0OmluaGVyaXQ7bWF4LWhlaWdodDppbmhlcml0O2NvbnRhaW46Y29udGVudH0udG9hc3QtbGF5b3V0LXN0YWNrZWQgLnRvYXN0LWNvbnRhaW5lcnstbXMtZmxleC13cmFwOndyYXA7ZmxleC13cmFwOndyYXB9LnRvYXN0LWxheW91dC1iYXNlbGluZSAudG9hc3QtY29udGVudHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleDoxO2ZsZXg6MTstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS50b2FzdC1pY29uey13ZWJraXQtbWFyZ2luLXN0YXJ0OjE2cHg7bWFyZ2luLWlubGluZS1zdGFydDoxNnB4fS50b2FzdC1jb250ZW50e21pbi13aWR0aDowfS50b2FzdC1tZXNzYWdley1tcy1mbGV4OjE7ZmxleDoxO3doaXRlLXNwYWNlOnZhcigtLXdoaXRlLXNwYWNlKX0udG9hc3QtYnV0dG9uLWdyb3Vwe2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4fS50b2FzdC1sYXlvdXQtc3RhY2tlZCAudG9hc3QtYnV0dG9uLWdyb3Vwey1tcy1mbGV4LXBhY2s6ZW5kO2p1c3RpZnktY29udGVudDplbmQ7d2lkdGg6MTAwJX0udG9hc3QtYnV0dG9ue2JvcmRlcjowO291dGxpbmU6bm9uZTtjb2xvcjp2YXIoLS1idXR0b24tY29sb3IpO3otaW5kZXg6MH0udG9hc3QtaWNvbiwudG9hc3QtYnV0dG9uLWljb257Zm9udC1zaXplOjEuNGVtfS50b2FzdC1idXR0b24taW5uZXJ7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn1AbWVkaWEgKGFueS1ob3ZlcjogaG92ZXIpey50b2FzdC1idXR0b246aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9fTpob3N0ey0tYmFja2dyb3VuZDp2YXIoLS1pb24tY29sb3Itc3RlcC01MCwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3Itc3RlcC01MCwgI2YyZjJmMikpOy0tYm9yZGVyLXJhZGl1czoxNHB4Oy0tYnV0dG9uLWNvbG9yOnZhcigtLWlvbi1jb2xvci1wcmltYXJ5LCAjMDA1NGU5KTstLWNvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTg1MCwgdmFyKC0taW9uLXRleHQtY29sb3Itc3RlcC0xNTAsICMyNjI2MjYpKTstLW1heC13aWR0aDo3MDBweDstLW1heC1oZWlnaHQ6NDc4cHg7LS1zdGFydDoxMHB4Oy0tZW5kOjEwcHg7Zm9udC1zaXplOmNsYW1wKDE0cHgsIDAuODc1cmVtLCA0My40cHgpfS50b2FzdC13cmFwcGVyey13ZWJraXQtbWFyZ2luLXN0YXJ0OmF1dG87bWFyZ2luLWlubGluZS1zdGFydDphdXRvOy13ZWJraXQtbWFyZ2luLWVuZDphdXRvO21hcmdpbi1pbmxpbmUtZW5kOmF1dG87bWFyZ2luLXRvcDphdXRvO21hcmdpbi1ib3R0b206YXV0bztkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTB9QHN1cHBvcnRzICgoLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIoMCkpIG9yIChiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMCkpKXs6aG9zdCgudG9hc3QtdHJhbnNsdWNlbnQpIC50b2FzdC13cmFwcGVye2JhY2tncm91bmQ6cmdiYSh2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpLCAwLjgpOy13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOnNhdHVyYXRlKDE4MCUpIGJsdXIoMjBweCk7YmFja2Ryb3AtZmlsdGVyOnNhdHVyYXRlKDE4MCUpIGJsdXIoMjBweCl9Omhvc3QoLmlvbi1jb2xvci50b2FzdC10cmFuc2x1Y2VudCkgLnRvYXN0LXdyYXBwZXJ7YmFja2dyb3VuZDpyZ2JhKHZhcigtLWlvbi1jb2xvci1iYXNlLXJnYiksIDAuOCl9fS50b2FzdC13cmFwcGVyLnRvYXN0LW1pZGRsZXtvcGFjaXR5OjAuMDF9LnRvYXN0LWNvbnRlbnR7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjE1cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTVweDstd2Via2l0LXBhZGRpbmctZW5kOjE1cHg7cGFkZGluZy1pbmxpbmUtZW5kOjE1cHg7cGFkZGluZy10b3A6MTVweDtwYWRkaW5nLWJvdHRvbToxNXB4fS50b2FzdC1oZWFkZXJ7bWFyZ2luLWJvdHRvbToycHg7Zm9udC13ZWlnaHQ6NTAwfS50b2FzdC1idXR0b257LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjE1cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTVweDstd2Via2l0LXBhZGRpbmctZW5kOjE1cHg7cGFkZGluZy1pbmxpbmUtZW5kOjE1cHg7cGFkZGluZy10b3A6MTBweDtwYWRkaW5nLWJvdHRvbToxMHB4O21pbi1oZWlnaHQ6NDRweDstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciwgb3BhY2l0eSAxMDBtcyBsaW5lYXI7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yLCBvcGFjaXR5IDEwMG1zIGxpbmVhcjtib3JkZXI6MDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2ZvbnQtZmFtaWx5OnZhcigtLWlvbi1mb250LWZhbWlseSk7Zm9udC1zaXplOmNsYW1wKDE3cHgsIDEuMDYyNXJlbSwgMjEuOTk4cHgpO2ZvbnQtd2VpZ2h0OjUwMDtvdmVyZmxvdzpoaWRkZW59LnRvYXN0LWJ1dHRvbi5pb24tYWN0aXZhdGVke29wYWNpdHk6MC40fUBtZWRpYSAoYW55LWhvdmVyOiBob3Zlcil7LnRvYXN0LWJ1dHRvbjpob3ZlcntvcGFjaXR5OjAuNn19XCI7XG5jb25zdCBJb25Ub2FzdElvc1N0eWxlMCA9IHRvYXN0SW9zQ3NzO1xuXG5jb25zdCB0b2FzdE1kQ3NzID0gXCI6aG9zdHstLWJvcmRlci13aWR0aDowOy0tYm9yZGVyLXN0eWxlOm5vbmU7LS1ib3JkZXItY29sb3I6aW5pdGlhbDstLWJveC1zaGFkb3c6bm9uZTstLW1pbi13aWR0aDphdXRvOy0td2lkdGg6YXV0bzstLW1pbi1oZWlnaHQ6YXV0bzstLWhlaWdodDphdXRvOy0tbWF4LWhlaWdodDphdXRvOy0td2hpdGUtc3BhY2U6bm9ybWFsO3RvcDowO2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtvdXRsaW5lOm5vbmU7Y29sb3I6dmFyKC0tY29sb3IpO2ZvbnQtZmFtaWx5OnZhcigtLWlvbi1mb250LWZhbWlseSwgaW5oZXJpdCk7Y29udGFpbjpzdHJpY3Q7ei1pbmRleDoxMDAxO3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3R7aW5zZXQtaW5saW5lLXN0YXJ0OjB9Omhvc3QoLm92ZXJsYXktaGlkZGVuKXtkaXNwbGF5Om5vbmV9Omhvc3QoLmlvbi1jb2xvcil7LS1idXR0b24tY29sb3I6aW5oZXJpdDtjb2xvcjp2YXIoLS1pb24tY29sb3ItY29udHJhc3QpfTpob3N0KC5pb24tY29sb3IpIC50b2FzdC1idXR0b24tY2FuY2Vse2NvbG9yOmluaGVyaXR9Omhvc3QoLmlvbi1jb2xvcikgLnRvYXN0LXdyYXBwZXJ7YmFja2dyb3VuZDp2YXIoLS1pb24tY29sb3ItYmFzZSl9LnRvYXN0LXdyYXBwZXJ7Ym9yZGVyLXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTt3aWR0aDp2YXIoLS13aWR0aCk7bWluLXdpZHRoOnZhcigtLW1pbi13aWR0aCk7bWF4LXdpZHRoOnZhcigtLW1heC13aWR0aCk7aGVpZ2h0OnZhcigtLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1taW4taGVpZ2h0KTttYXgtaGVpZ2h0OnZhcigtLW1heC1oZWlnaHQpO2JvcmRlci13aWR0aDp2YXIoLS1ib3JkZXItd2lkdGgpO2JvcmRlci1zdHlsZTp2YXIoLS1ib3JkZXItc3R5bGUpO2JvcmRlci1jb2xvcjp2YXIoLS1ib3JkZXItY29sb3IpO2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZCk7LXdlYmtpdC1ib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO2JveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7cG9pbnRlci1ldmVudHM6YXV0b30udG9hc3Qtd3JhcHBlcntpbnNldC1pbmxpbmUtc3RhcnQ6dmFyKC0tc3RhcnQpO2luc2V0LWlubGluZS1lbmQ6dmFyKC0tZW5kKX0udG9hc3Qtd3JhcHBlci50b2FzdC10b3B7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIC0xMDAlLCAgMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAtMTAwJSwgIDApO3RvcDowfS50b2FzdC13cmFwcGVyLnRvYXN0LWJvdHRvbXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMTAwJSwgIDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMTAwJSwgIDApO2JvdHRvbTowfS50b2FzdC1jb250YWluZXJ7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtoZWlnaHQ6aW5oZXJpdDttaW4taGVpZ2h0OmluaGVyaXQ7bWF4LWhlaWdodDppbmhlcml0O2NvbnRhaW46Y29udGVudH0udG9hc3QtbGF5b3V0LXN0YWNrZWQgLnRvYXN0LWNvbnRhaW5lcnstbXMtZmxleC13cmFwOndyYXA7ZmxleC13cmFwOndyYXB9LnRvYXN0LWxheW91dC1iYXNlbGluZSAudG9hc3QtY29udGVudHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleDoxO2ZsZXg6MTstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS50b2FzdC1pY29uey13ZWJraXQtbWFyZ2luLXN0YXJ0OjE2cHg7bWFyZ2luLWlubGluZS1zdGFydDoxNnB4fS50b2FzdC1jb250ZW50e21pbi13aWR0aDowfS50b2FzdC1tZXNzYWdley1tcy1mbGV4OjE7ZmxleDoxO3doaXRlLXNwYWNlOnZhcigtLXdoaXRlLXNwYWNlKX0udG9hc3QtYnV0dG9uLWdyb3Vwe2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4fS50b2FzdC1sYXlvdXQtc3RhY2tlZCAudG9hc3QtYnV0dG9uLWdyb3Vwey1tcy1mbGV4LXBhY2s6ZW5kO2p1c3RpZnktY29udGVudDplbmQ7d2lkdGg6MTAwJX0udG9hc3QtYnV0dG9ue2JvcmRlcjowO291dGxpbmU6bm9uZTtjb2xvcjp2YXIoLS1idXR0b24tY29sb3IpO3otaW5kZXg6MH0udG9hc3QtaWNvbiwudG9hc3QtYnV0dG9uLWljb257Zm9udC1zaXplOjEuNGVtfS50b2FzdC1idXR0b24taW5uZXJ7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn1AbWVkaWEgKGFueS1ob3ZlcjogaG92ZXIpey50b2FzdC1idXR0b246aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9fTpob3N0ey0tYmFja2dyb3VuZDp2YXIoLS1pb24tY29sb3Itc3RlcC04MDAsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXN0ZXAtODAwLCAjMzMzMzMzKSk7LS1ib3JkZXItcmFkaXVzOjRweDstLWJveC1zaGFkb3c6MCAzcHggNXB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDZweCAxMHB4IDAgcmdiYSgwLCAwLCAwLCAwLjE0KSwgMCAxcHggMThweCAwIHJnYmEoMCwgMCwgMCwgMC4xMik7LS1idXR0b24tY29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMwMDU0ZTkpOy0tY29sb3I6dmFyKC0taW9uLWNvbG9yLXN0ZXAtNTAsIHZhcigtLWlvbi10ZXh0LWNvbG9yLXN0ZXAtOTUwLCAjZjJmMmYyKSk7LS1tYXgtd2lkdGg6NzAwcHg7LS1zdGFydDo4cHg7LS1lbmQ6OHB4O2ZvbnQtc2l6ZTowLjg3NXJlbX0udG9hc3Qtd3JhcHBlcnstd2Via2l0LW1hcmdpbi1zdGFydDphdXRvO21hcmdpbi1pbmxpbmUtc3RhcnQ6YXV0bzstd2Via2l0LW1hcmdpbi1lbmQ6YXV0bzttYXJnaW4taW5saW5lLWVuZDphdXRvO21hcmdpbi10b3A6YXV0bzttYXJnaW4tYm90dG9tOmF1dG87ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTtvcGFjaXR5OjAuMDE7ei1pbmRleDoxMH0udG9hc3QtY29udGVudHstd2Via2l0LXBhZGRpbmctc3RhcnQ6MTZweDtwYWRkaW5nLWlubGluZS1zdGFydDoxNnB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MTZweDtwYWRkaW5nLWlubGluZS1lbmQ6MTZweDtwYWRkaW5nLXRvcDoxNHB4O3BhZGRpbmctYm90dG9tOjE0cHh9LnRvYXN0LWhlYWRlcnttYXJnaW4tYm90dG9tOjJweDtmb250LXdlaWdodDo1MDA7bGluZS1oZWlnaHQ6MS4yNXJlbX0udG9hc3QtbWVzc2FnZXtsaW5lLWhlaWdodDoxLjI1cmVtfS50b2FzdC1sYXlvdXQtYmFzZWxpbmUgLnRvYXN0LWJ1dHRvbi1ncm91cC1zdGFydHstd2Via2l0LW1hcmdpbi1zdGFydDo4cHg7bWFyZ2luLWlubGluZS1zdGFydDo4cHh9LnRvYXN0LWxheW91dC1zdGFja2VkIC50b2FzdC1idXR0b24tZ3JvdXAtc3RhcnR7LXdlYmtpdC1tYXJnaW4tZW5kOjhweDttYXJnaW4taW5saW5lLWVuZDo4cHg7bWFyZ2luLXRvcDo4cHh9LnRvYXN0LWxheW91dC1iYXNlbGluZSAudG9hc3QtYnV0dG9uLWdyb3VwLWVuZHstd2Via2l0LW1hcmdpbi1lbmQ6OHB4O21hcmdpbi1pbmxpbmUtZW5kOjhweH0udG9hc3QtbGF5b3V0LXN0YWNrZWQgLnRvYXN0LWJ1dHRvbi1ncm91cC1lbmR7LXdlYmtpdC1tYXJnaW4tZW5kOjhweDttYXJnaW4taW5saW5lLWVuZDo4cHg7bWFyZ2luLWJvdHRvbTo4cHh9LnRvYXN0LWJ1dHRvbnstd2Via2l0LXBhZGRpbmctc3RhcnQ6MTVweDtwYWRkaW5nLWlubGluZS1zdGFydDoxNXB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MTVweDtwYWRkaW5nLWlubGluZS1lbmQ6MTVweDtwYWRkaW5nLXRvcDoxMHB4O3BhZGRpbmctYm90dG9tOjEwcHg7cG9zaXRpb246cmVsYXRpdmU7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtmb250LWZhbWlseTp2YXIoLS1pb24tZm9udC1mYW1pbHkpO2ZvbnQtc2l6ZTowLjg3NXJlbTtmb250LXdlaWdodDo1MDA7bGV0dGVyLXNwYWNpbmc6MC44NHB4O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtvdmVyZmxvdzpoaWRkZW59LnRvYXN0LWJ1dHRvbi1jYW5jZWx7Y29sb3I6dmFyKC0taW9uLWNvbG9yLXN0ZXAtMTAwLCB2YXIoLS1pb24tdGV4dC1jb2xvci1zdGVwLTkwMCwgI2U2ZTZlNikpfS50b2FzdC1idXR0b24taWNvbi1vbmx5e2JvcmRlci1yYWRpdXM6NTAlOy13ZWJraXQtcGFkZGluZy1zdGFydDo5cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6OXB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6OXB4O3BhZGRpbmctaW5saW5lLWVuZDo5cHg7cGFkZGluZy10b3A6OXB4O3BhZGRpbmctYm90dG9tOjlweDt3aWR0aDozNnB4O2hlaWdodDozNnB4fUBtZWRpYSAoYW55LWhvdmVyOiBob3Zlcil7LnRvYXN0LWJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnJnYmEodmFyKC0taW9uLWNvbG9yLXByaW1hcnktcmdiLCAwLCA4NCwgMjMzKSwgMC4wOCl9LnRvYXN0LWJ1dHRvbi1jYW5jZWw6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSksIDAuMDgpfX1cIjtcbmNvbnN0IElvblRvYXN0TWRTdHlsZTAgPSB0b2FzdE1kQ3NzO1xuXG5jb25zdCBUb2FzdCA9IGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgICAgIHRoaXMuZGlkUHJlc2VudCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uVG9hc3REaWRQcmVzZW50XCIsIDcpO1xuICAgICAgICB0aGlzLndpbGxQcmVzZW50ID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25Ub2FzdFdpbGxQcmVzZW50XCIsIDcpO1xuICAgICAgICB0aGlzLndpbGxEaXNtaXNzID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25Ub2FzdFdpbGxEaXNtaXNzXCIsIDcpO1xuICAgICAgICB0aGlzLmRpZERpc21pc3MgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvblRvYXN0RGlkRGlzbWlzc1wiLCA3KTtcbiAgICAgICAgdGhpcy5kaWRQcmVzZW50U2hvcnRoYW5kID0gY3JlYXRlRXZlbnQodGhpcywgXCJkaWRQcmVzZW50XCIsIDcpO1xuICAgICAgICB0aGlzLndpbGxQcmVzZW50U2hvcnRoYW5kID0gY3JlYXRlRXZlbnQodGhpcywgXCJ3aWxsUHJlc2VudFwiLCA3KTtcbiAgICAgICAgdGhpcy53aWxsRGlzbWlzc1Nob3J0aGFuZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwid2lsbERpc21pc3NcIiwgNyk7XG4gICAgICAgIHRoaXMuZGlkRGlzbWlzc1Nob3J0aGFuZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiZGlkRGlzbWlzc1wiLCA3KTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZUNvbnRyb2xsZXIgPSBjcmVhdGVEZWxlZ2F0ZUNvbnRyb2xsZXIodGhpcyk7XG4gICAgICAgIHRoaXMubG9ja0NvbnRyb2xsZXIgPSBjcmVhdGVMb2NrQ29udHJvbGxlcigpO1xuICAgICAgICB0aGlzLnRyaWdnZXJDb250cm9sbGVyID0gY3JlYXRlVHJpZ2dlckNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5jdXN0b21IVE1MRW5hYmxlZCA9IGNvbmZpZy5nZXQoJ2lubmVySFRNTFRlbXBsYXRlc0VuYWJsZWQnLCBFTkFCTEVfSFRNTF9DT05URU5UX0RFRkFVTFQpO1xuICAgICAgICB0aGlzLnByZXNlbnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRpc3BhdGNoQ2FuY2VsSGFuZGxlciA9IChldikgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm9sZSA9IGV2LmRldGFpbC5yb2xlO1xuICAgICAgICAgICAgaWYgKGlzQ2FuY2VsKHJvbGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FuY2VsQnV0dG9uID0gdGhpcy5nZXRCdXR0b25zKCkuZmluZCgoYikgPT4gYi5yb2xlID09PSAnY2FuY2VsJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsQnV0dG9uSGFuZGxlcihjYW5jZWxCdXR0b24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgbmV3IHN3aXBlIGdlc3R1cmUgc28gVG9hc3RcbiAgICAgICAgICogY2FuIGJlIHN3aXBlZCB0byBkaXNtaXNzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jcmVhdGVTd2lwZUdlc3R1cmUgPSAodG9hc3RQb3NpdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ2VzdHVyZSA9ICh0aGlzLmdlc3R1cmUgPSBjcmVhdGVTd2lwZVRvRGlzbWlzc0dlc3R1cmUodGhpcy5lbCwgdG9hc3RQb3NpdGlvbiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIElmIHRoZSBnZXN0dXJlIGNvbXBsZXRlZCB0aGVuXG4gICAgICAgICAgICAgICAgICogd2Ugc2hvdWxkIGRpc21pc3MgdGhlIHRvYXN0LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzbWlzcyh1bmRlZmluZWQsIEdFU1RVUkUpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgZ2VzdHVyZS5lbmFibGUodHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0cm95IGFuIGV4aXN0aW5nIHN3aXBlIGdlc3R1cmVcbiAgICAgICAgICogc28gVG9hc3QgY2FuIG5vIGxvbmdlciBiZSBzd2lwZWQgdG8gZGlzbWlzcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdHJveVN3aXBlR2VzdHVyZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZ2VzdHVyZSB9ID0gdGhpcztcbiAgICAgICAgICAgIGlmIChnZXN0dXJlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXN0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuZ2VzdHVyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgYHRydWVgIGlmIHN3aXBlR2VzdHVyZVxuICAgICAgICAgKiBpcyBjb25maWd1cmVkIHRvIGEgdmFsdWUgdGhhdCBlbmFibGVzIHRoZSBzd2lwZSBiZWhhdmlvci5cbiAgICAgICAgICogUmV0dXJucyBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJlZmVyc1N3aXBlR2VzdHVyZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgc3dpcGVHZXN0dXJlIH0gPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHN3aXBlR2VzdHVyZSA9PT0gJ3ZlcnRpY2FsJztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZXZlYWxDb250ZW50VG9TY3JlZW5SZWFkZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vdmVybGF5SW5kZXggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGFzQ29udHJvbGxlciA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbG9yID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmVudGVyQW5pbWF0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmxlYXZlQW5pbWF0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNzc0NsYXNzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gY29uZmlnLmdldE51bWJlcigndG9hc3REdXJhdGlvbicsIDApO1xuICAgICAgICB0aGlzLmhlYWRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5sYXlvdXQgPSAnYmFzZWxpbmUnO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMua2V5Ym9hcmRDbG9zZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gJ2JvdHRvbSc7XG4gICAgICAgIHRoaXMucG9zaXRpb25BbmNob3IgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYnV0dG9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50cmFuc2x1Y2VudCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFuaW1hdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pY29uID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmh0bWxBdHRyaWJ1dGVzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN3aXBlR2VzdHVyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy50cmlnZ2VyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBzd2lwZUdlc3R1cmVDaGFuZ2VkKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIFRvYXN0IGlzIHByZXNlbnRlZCwgdGhlbiB3ZSBuZWVkIHRvIGRlc3Ryb3lcbiAgICAgICAgICogYW55IGFjdGl2ZXMgZ2VzdHVyZXMgYmVmb3JlIGEgbmV3IGdlc3R1cmUgaXMgcG90ZW50aWFsbHlcbiAgICAgICAgICogY3JlYXRlZCBiZWxvdy5cbiAgICAgICAgICpcbiAgICAgICAgICogSWYgdGhlIFRvYXN0IGlzIGRpc21pc3NlZCwgdGhlbiBubyBnZXN0dXJlIHNob3VsZCBiZSBhdmFpbGFibGVcbiAgICAgICAgICogc2luY2UgdGhlIFRvYXN0IGlzIG5vdCB2aXNpYmxlLiBUaGlzIGNhc2Ugc2hvdWxkIG5ldmVyXG4gICAgICAgICAqIGhhcHBlbiBzaW5jZSB0aGUgXCJkaXNtaXNzXCIgbWV0aG9kIGhhbmRsZXMgZGVzdHJveWluZ1xuICAgICAgICAgKiBhbnkgYWN0aXZlIHN3aXBlIGdlc3R1cmVzLCBidXQgd2Uga2VlcCB0aGlzIGNvZGVcbiAgICAgICAgICogYXJvdW5kIHRvIGhhbmRsZSB0aGUgZmlyc3QgY2FzZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdHJveVN3aXBlR2VzdHVyZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBuZXcgc3dpcGUgZ2VzdHVyZSBzaG91bGQgb25seSBiZSBjcmVhdGVkXG4gICAgICAgICAqIGlmIHRoZSBUb2FzdCBpcyBwcmVzZW50ZWQuIElmIHRoZSBUb2FzdCBpcyBub3RcbiAgICAgICAgICogeWV0IHByZXNlbnRlZCB0aGVuIHRoZSBcInByZXNlbnRcIiBtZXRob2Qgd2lsbFxuICAgICAgICAgKiBoYW5kbGUgY2FsbGluZyB0aGUgc3dpcGUgZ2VzdHVyZSBzZXR1cCBmdW5jdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnByZXNlbnRlZCAmJiB0aGlzLnByZWZlcnNTd2lwZUdlc3R1cmUoKSkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGUgVG9hc3QgaXMgcHJlc2VudGVkIHRoZW5cbiAgICAgICAgICAgICAqIGxhc3RQcmVzZW50ZWRQb3NpdGlvbiBpcyBkZWZpbmVkLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVN3aXBlR2VzdHVyZSh0aGlzLmxhc3RQcmVzZW50ZWRQb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25Jc09wZW5DaGFuZ2UobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdHJ1ZSAmJiBvbGRWYWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMucHJlc2VudCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5ld1ZhbHVlID09PSBmYWxzZSAmJiBvbGRWYWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5kaXNtaXNzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdHJpZ2dlckNoYW5nZWQoKSB7XG4gICAgICAgIGNvbnN0IHsgdHJpZ2dlciwgZWwsIHRyaWdnZXJDb250cm9sbGVyIH0gPSB0aGlzO1xuICAgICAgICBpZiAodHJpZ2dlcikge1xuICAgICAgICAgICAgdHJpZ2dlckNvbnRyb2xsZXIuYWRkQ2xpY2tMaXN0ZW5lcihlbCwgdHJpZ2dlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHByZXBhcmVPdmVybGF5KHRoaXMuZWwpO1xuICAgICAgICB0aGlzLnRyaWdnZXJDaGFuZ2VkKCk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLnRyaWdnZXJDb250cm9sbGVyLnJlbW92ZUNsaWNrTGlzdGVuZXIoKTtcbiAgICB9XG4gICAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCEoKF9hID0gdGhpcy5odG1sQXR0cmlidXRlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkKSkge1xuICAgICAgICAgICAgc2V0T3ZlcmxheUlkKHRoaXMuZWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0b2FzdCB3YXMgcmVuZGVyZWQgd2l0aCBpc09wZW49XCJ0cnVlXCJcbiAgICAgICAgICogdGhlbiB3ZSBzaG91bGQgb3BlbiB0b2FzdCBpbW1lZGlhdGVseS5cbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLmlzT3BlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmFmKCgpID0+IHRoaXMucHJlc2VudCgpKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBiaW5kaW5nIHZhbHVlcyBpbiBmcmFtZXdvcmtzIHN1Y2ggYXMgQW5ndWxhclxuICAgICAgICAgKiBpdCBpcyBwb3NzaWJsZSBmb3IgdGhlIHZhbHVlIHRvIGJlIHNldCBhZnRlciB0aGUgV2ViIENvbXBvbmVudFxuICAgICAgICAgKiBpbml0aWFsaXplcyBidXQgYmVmb3JlIHRoZSB2YWx1ZSB3YXRjaGVyIGlzIHNldCB1cCBpbiBTdGVuY2lsLlxuICAgICAgICAgKiBBcyBhIHJlc3VsdCwgdGhlIHdhdGNoZXIgY2FsbGJhY2sgbWF5IG5vdCBiZSBmaXJlZC5cbiAgICAgICAgICogV2Ugd29yayBhcm91bmQgdGhpcyBieSBtYW51YWxseSBjYWxsaW5nIHRoZSB3YXRjaGVyXG4gICAgICAgICAqIGNhbGxiYWNrIHdoZW4gdGhlIGNvbXBvbmVudCBoYXMgbG9hZGVkIGFuZCB0aGUgd2F0Y2hlclxuICAgICAgICAgKiBpcyBjb25maWd1cmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmlnZ2VyQ2hhbmdlZCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmVzZW50IHRoZSB0b2FzdCBvdmVybGF5IGFmdGVyIGl0IGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAgICovXG4gICAgYXN5bmMgcHJlc2VudCgpIHtcbiAgICAgICAgY29uc3QgdW5sb2NrID0gYXdhaXQgdGhpcy5sb2NrQ29udHJvbGxlci5sb2NrKCk7XG4gICAgICAgIGF3YWl0IHRoaXMuZGVsZWdhdGVDb250cm9sbGVyLmF0dGFjaFZpZXdUb0RvbSgpO1xuICAgICAgICBjb25zdCB7IGVsLCBwb3NpdGlvbiB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5nZXRBbmNob3JFbGVtZW50KCk7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvblBvc2l0aW9uID0gZ2V0QW5pbWF0aW9uUG9zaXRpb24ocG9zaXRpb24sIGFuY2hvciwgZ2V0SW9uTW9kZSh0aGlzKSwgZWwpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgdGhlIGNhbGN1bGF0ZWQgcG9zaXRpb24gb2YgdGhlIHRvYXN0LCBzbyB3ZSBjYW4gcmUtdXNlIGl0XG4gICAgICAgICAqIGluIHRoZSBkaXNtaXNzIGFuaW1hdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdFByZXNlbnRlZFBvc2l0aW9uID0gYW5pbWF0aW9uUG9zaXRpb247XG4gICAgICAgIGF3YWl0IHByZXNlbnQodGhpcywgJ3RvYXN0RW50ZXInLCBpb3NFbnRlckFuaW1hdGlvbiwgbWRFbnRlckFuaW1hdGlvbiwge1xuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICB0b3A6IGFuaW1hdGlvblBvc2l0aW9uLnRvcCxcbiAgICAgICAgICAgIGJvdHRvbTogYW5pbWF0aW9uUG9zaXRpb24uYm90dG9tLFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnRlbnQgaXMgcmV2ZWFsZWQgdG8gc2NyZWVuIHJlYWRlcnMgYWZ0ZXJcbiAgICAgICAgICogdGhlIHRyYW5zaXRpb24gdG8gYXZvaWQgamFuayBzaW5jZSB0aGlzXG4gICAgICAgICAqIHN0YXRlIHVwZGF0ZXMgd2lsbCBjYXVzZSBhIHJlLXJlbmRlci5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmV2ZWFsQ29udGVudFRvU2NyZWVuUmVhZGVyID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuZHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmR1cmF0aW9uVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5kaXNtaXNzKHVuZGVmaW5lZCwgJ3RpbWVvdXQnKSwgdGhpcy5kdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBUb2FzdCBoYXMgYSBzd2lwZSBnZXN0dXJlIHRoZW4gd2UgY2FuXG4gICAgICAgICAqIGNyZWF0ZSB0aGUgZ2VzdHVyZSBzbyB1c2VycyBjYW4gc3dpcGUgdGhlXG4gICAgICAgICAqIHByZXNlbnRlZCBUb2FzdC5cbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnByZWZlcnNTd2lwZUdlc3R1cmUoKSkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVTd2lwZUdlc3R1cmUoYW5pbWF0aW9uUG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHVubG9jaygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNtaXNzIHRoZSB0b2FzdCBvdmVybGF5IGFmdGVyIGl0IGhhcyBiZWVuIHByZXNlbnRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYXRhIEFueSBkYXRhIHRvIGVtaXQgaW4gdGhlIGRpc21pc3MgZXZlbnRzLlxuICAgICAqIEBwYXJhbSByb2xlIFRoZSByb2xlIG9mIHRoZSBlbGVtZW50IHRoYXQgaXMgZGlzbWlzc2luZyB0aGUgdG9hc3QuXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZnVsIGluIGEgYnV0dG9uIGhhbmRsZXIgZm9yIGRldGVybWluaW5nIHdoaWNoIGJ1dHRvbiB3YXNcbiAgICAgKiBjbGlja2VkIHRvIGRpc21pc3MgdGhlIHRvYXN0LlxuICAgICAqIFNvbWUgZXhhbXBsZXMgaW5jbHVkZTogYGBcImNhbmNlbFwiYCwgYFwiZGVzdHJ1Y3RpdmVcImAsIFwic2VsZWN0ZWRcImAsIGFuZCBgXCJiYWNrZHJvcFwiYC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgYSBuby1vcCBpZiB0aGUgb3ZlcmxheSBoYXMgbm90IGJlZW4gcHJlc2VudGVkIHlldC4gSWYgeW91IHdhbnRcbiAgICAgKiB0byByZW1vdmUgYW4gb3ZlcmxheSBmcm9tIHRoZSBET00gdGhhdCB3YXMgbmV2ZXIgcHJlc2VudGVkLCB1c2UgdGhlXG4gICAgICogW3JlbW92ZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvcmVtb3ZlKSBtZXRob2QuXG4gICAgICovXG4gICAgYXN5bmMgZGlzbWlzcyhkYXRhLCByb2xlKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHVubG9jayA9IGF3YWl0IHRoaXMubG9ja0NvbnRyb2xsZXIubG9jaygpO1xuICAgICAgICBjb25zdCB7IGR1cmF0aW9uVGltZW91dCwgcG9zaXRpb24sIGxhc3RQcmVzZW50ZWRQb3NpdGlvbiB9ID0gdGhpcztcbiAgICAgICAgaWYgKGR1cmF0aW9uVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGR1cmF0aW9uVGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlzbWlzc2VkID0gYXdhaXQgZGlzbWlzcyh0aGlzLCBkYXRhLCByb2xlLCAndG9hc3RMZWF2ZScsIGlvc0xlYXZlQW5pbWF0aW9uLCBtZExlYXZlQW5pbWF0aW9uLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZldGNoIHRoZSBjYWNoZWQgcG9zaXRpb24gdGhhdCB3YXMgY2FsY3VsYXRlZCBiYWNrIGluIHRoZSBwcmVzZW50XG4gICAgICAgICAqIGFuaW1hdGlvbi4gV2UgYWx3YXlzIHdhbnQgdG8gYW5pbWF0ZSB0aGUgZGlzbWlzcyBmcm9tIHRoZSBzYW1lXG4gICAgICAgICAqIHBvc2l0aW9uIHRoZSBwcmVzZW50IHN0b3BwZWQgYXQsIHNvIHRoZSBhbmltYXRpb24gbG9va3MgY29udGludW91cy5cbiAgICAgICAgICovXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgdG9wOiAoX2EgPSBsYXN0UHJlc2VudGVkUG9zaXRpb24gPT09IG51bGwgfHwgbGFzdFByZXNlbnRlZFBvc2l0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsYXN0UHJlc2VudGVkUG9zaXRpb24udG9wKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnJyxcbiAgICAgICAgICAgIGJvdHRvbTogKF9iID0gbGFzdFByZXNlbnRlZFBvc2l0aW9uID09PSBudWxsIHx8IGxhc3RQcmVzZW50ZWRQb3NpdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGFzdFByZXNlbnRlZFBvc2l0aW9uLmJvdHRvbSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJycsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZGlzbWlzc2VkKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlQ29udHJvbGxlci5yZW1vdmVWaWV3RnJvbURvbSgpO1xuICAgICAgICAgICAgdGhpcy5yZXZlYWxDb250ZW50VG9TY3JlZW5SZWFkZXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3RQcmVzZW50ZWRQb3NpdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBUb2FzdCBoYXMgYSBzd2lwZSBnZXN0dXJlIHRoZW4gd2UgY2FuXG4gICAgICAgICAqIHNhZmVseSBkZXN0cm95IGl0IG5vdyB0aGF0IGl0IGlzIGRpc21pc3NlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdHJveVN3aXBlR2VzdHVyZSgpO1xuICAgICAgICB1bmxvY2soKTtcbiAgICAgICAgcmV0dXJuIGRpc21pc3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSB0b2FzdCBkaWQgZGlzbWlzcy5cbiAgICAgKi9cbiAgICBvbkRpZERpc21pc3MoKSB7XG4gICAgICAgIHJldHVybiBldmVudE1ldGhvZCh0aGlzLmVsLCAnaW9uVG9hc3REaWREaXNtaXNzJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgdG9hc3Qgd2lsbCBkaXNtaXNzLlxuICAgICAqL1xuICAgIG9uV2lsbERpc21pc3MoKSB7XG4gICAgICAgIHJldHVybiBldmVudE1ldGhvZCh0aGlzLmVsLCAnaW9uVG9hc3RXaWxsRGlzbWlzcycpO1xuICAgIH1cbiAgICBnZXRCdXR0b25zKCkge1xuICAgICAgICBjb25zdCBidXR0b25zID0gdGhpcy5idXR0b25zXG4gICAgICAgICAgICA/IHRoaXMuYnV0dG9ucy5tYXAoKGIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIGIgPT09ICdzdHJpbmcnID8geyB0ZXh0OiBiIH0gOiBiO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogW107XG4gICAgICAgIHJldHVybiBidXR0b25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBlbGVtZW50IHNwZWNpZmllZCBieSB0aGUgcG9zaXRpb25BbmNob3IgcHJvcCxcbiAgICAgKiBvciB1bmRlZmluZWQgaWYgcHJvcCdzIHZhbHVlIGlzIGFuIElEIHN0cmluZyBhbmQgdGhlIGVsZW1lbnRcbiAgICAgKiBpcyBub3QgZm91bmQgaW4gdGhlIERPTS5cbiAgICAgKi9cbiAgICBnZXRBbmNob3JFbGVtZW50KCkge1xuICAgICAgICBjb25zdCB7IHBvc2l0aW9uLCBwb3NpdGlvbkFuY2hvciwgZWwgfSA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBwb3NpdGlvbkFuY2hvciBpcyB1bmRlZmluZWQgdGhlblxuICAgICAgICAgKiBubyBhbmNob3Igc2hvdWxkIGJlIHVzZWQgd2hlbiBwcmVzZW50aW5nIHRoZSB0b2FzdC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChwb3NpdGlvbkFuY2hvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAnbWlkZGxlJyAmJiBwb3NpdGlvbkFuY2hvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwcmludElvbldhcm5pbmcoJ1RoZSBwb3NpdGlvbkFuY2hvciBwcm9wZXJ0eSBpcyBpZ25vcmVkIHdoZW4gdXNpbmcgcG9zaXRpb249XCJtaWRkbGVcIi4nLCB0aGlzLmVsKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBwb3NpdGlvbkFuY2hvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhlIGFuY2hvciBpcyBkZWZpbmVkIGFzIGFuIElELCBmaW5kIHRoZSBlbGVtZW50LlxuICAgICAgICAgICAgICogV2UgZG8gdGhpcyBvbiBldmVyeSBwcmVzZW50IHNvIHRoZSB0b2FzdCBkb2Vzbid0IG5lZWRcbiAgICAgICAgICAgICAqIHRvIGFjY291bnQgZm9yIHRoZSBzdXJyb3VuZGluZyBET00gY2hhbmdpbmcgc2luY2UgdGhlXG4gICAgICAgICAgICAgKiBsYXN0IHRpbWUgaXQgd2FzIHByZXNlbnRlZC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgZm91bmRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uQW5jaG9yKTtcbiAgICAgICAgICAgIGlmIChmb3VuZEVsID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcHJpbnRJb25XYXJuaW5nKGBBbiBhbmNob3IgZWxlbWVudCB3aXRoIGFuIElEIG9mIFwiJHtwb3NpdGlvbkFuY2hvcn1cIiB3YXMgbm90IGZvdW5kIGluIHRoZSBET00uYCwgZWwpO1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZm91bmRFbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zaXRpb25BbmNob3IgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uQW5jaG9yO1xuICAgICAgICB9XG4gICAgICAgIHByaW50SW9uV2FybmluZygnSW52YWxpZCBwb3NpdGlvbkFuY2hvciB2YWx1ZTonLCBwb3NpdGlvbkFuY2hvciwgZWwpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBhc3luYyBidXR0b25DbGljayhidXR0b24pIHtcbiAgICAgICAgY29uc3Qgcm9sZSA9IGJ1dHRvbi5yb2xlO1xuICAgICAgICBpZiAoaXNDYW5jZWwocm9sZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpc21pc3ModW5kZWZpbmVkLCByb2xlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaG91bGREaXNtaXNzID0gYXdhaXQgdGhpcy5jYWxsQnV0dG9uSGFuZGxlcihidXR0b24pO1xuICAgICAgICBpZiAoc2hvdWxkRGlzbWlzcykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlzbWlzcyh1bmRlZmluZWQsIHJvbGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgYXN5bmMgY2FsbEJ1dHRvbkhhbmRsZXIoYnV0dG9uKSB7XG4gICAgICAgIGlmIChidXR0b24gPT09IG51bGwgfHwgYnV0dG9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBidXR0b24uaGFuZGxlcikge1xuICAgICAgICAgICAgLy8gYSBoYW5kbGVyIGhhcyBiZWVuIHByb3ZpZGVkLCBleGVjdXRlIGl0XG4gICAgICAgICAgICAvLyBwYXNzIHRoZSBoYW5kbGVyIHRoZSB2YWx1ZXMgZnJvbSB0aGUgaW5wdXRzXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJ0biA9IGF3YWl0IHNhZmVDYWxsKGJ1dHRvbi5oYW5kbGVyKTtcbiAgICAgICAgICAgICAgICBpZiAocnRuID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBoYW5kbGVyIGlzIGZhbHNlIHRoZW4gZG8gbm90IGRpc21pc3NcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmVuZGVyQnV0dG9ucyhidXR0b25zLCBzaWRlKSB7XG4gICAgICAgIGlmIChidXR0b25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgICAgICBjb25zdCBidXR0b25Hcm91cHNDbGFzc2VzID0ge1xuICAgICAgICAgICAgJ3RvYXN0LWJ1dHRvbi1ncm91cCc6IHRydWUsXG4gICAgICAgICAgICBbYHRvYXN0LWJ1dHRvbi1ncm91cC0ke3NpZGV9YF06IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBidXR0b25Hcm91cHNDbGFzc2VzIH0sIGJ1dHRvbnMubWFwKChiKSA9PiAoaChcImJ1dHRvblwiLCBPYmplY3QuYXNzaWduKHt9LCBiLmh0bWxBdHRyaWJ1dGVzLCB7IHR5cGU6IFwiYnV0dG9uXCIsIGNsYXNzOiBidXR0b25DbGFzcyhiKSwgdGFiSW5kZXg6IDAsIG9uQ2xpY2s6ICgpID0+IHRoaXMuYnV0dG9uQ2xpY2soYiksIHBhcnQ6IGJ1dHRvblBhcnQoYikgfSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJ0b2FzdC1idXR0b24taW5uZXJcIiB9LCBiLmljb24gJiYgKGgoXCJpb24taWNvblwiLCB7IFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsIGljb246IGIuaWNvbiwgc2xvdDogYi50ZXh0ID09PSB1bmRlZmluZWQgPyAnaWNvbi1vbmx5JyA6IHVuZGVmaW5lZCwgY2xhc3M6IFwidG9hc3QtYnV0dG9uLWljb25cIiB9KSksIGIudGV4dCksIG1vZGUgPT09ICdtZCcgJiYgKGgoXCJpb24tcmlwcGxlLWVmZmVjdFwiLCB7IHR5cGU6IGIuaWNvbiAhPT0gdW5kZWZpbmVkICYmIGIudGV4dCA9PT0gdW5kZWZpbmVkID8gJ3VuYm91bmRlZCcgOiAnYm91bmRlZCcgfSkpKSkpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgYG1lc3NhZ2VgIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSBrZXkgLSBBIGtleSB0byBnaXZlIHRoZSBlbGVtZW50IGEgc3RhYmxlIGlkZW50aXR5LiBUaGlzIGlzIHVzZWQgdG8gaW1wcm92ZSBjb21wYXRpYmlsaXR5IHdpdGggc2NyZWVuIHJlYWRlcnMuXG4gICAgICogQHBhcmFtIGFyaWFIaWRkZW4gLSBJZiBcInRydWVcIiB0aGVuIGNvbnRlbnQgd2lsbCBiZSBoaWRkZW4gZnJvbSBzY3JlZW4gcmVhZGVycy5cbiAgICAgKi9cbiAgICByZW5kZXJUb2FzdE1lc3NhZ2Uoa2V5LCBhcmlhSGlkZGVuID0gbnVsbCkge1xuICAgICAgICBjb25zdCB7IGN1c3RvbUhUTUxFbmFibGVkLCBtZXNzYWdlIH0gPSB0aGlzO1xuICAgICAgICBpZiAoY3VzdG9tSFRNTEVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAoaChcImRpdlwiLCB7IGtleToga2V5LCBcImFyaWEtaGlkZGVuXCI6IGFyaWFIaWRkZW4sIGNsYXNzOiBcInRvYXN0LW1lc3NhZ2VcIiwgcGFydDogXCJtZXNzYWdlXCIsIGlubmVySFRNTDogc2FuaXRpemVET01TdHJpbmcobWVzc2FnZSkgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoaChcImRpdlwiLCB7IGtleToga2V5LCBcImFyaWEtaGlkZGVuXCI6IGFyaWFIaWRkZW4sIGNsYXNzOiBcInRvYXN0LW1lc3NhZ2VcIiwgcGFydDogXCJtZXNzYWdlXCIgfSwgbWVzc2FnZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGBoZWFkZXJgIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSBrZXkgLSBBIGtleSB0byBnaXZlIHRoZSBlbGVtZW50IGEgc3RhYmxlIGlkZW50aXR5LiBUaGlzIGlzIHVzZWQgdG8gaW1wcm92ZSBjb21wYXRpYmlsaXR5IHdpdGggc2NyZWVuIHJlYWRlcnMuXG4gICAgICogQHBhcmFtIGFyaWFIaWRkZW4gLSBJZiBcInRydWVcIiB0aGVuIGNvbnRlbnQgd2lsbCBiZSBoaWRkZW4gZnJvbSBzY3JlZW4gcmVhZGVycy5cbiAgICAgKi9cbiAgICByZW5kZXJIZWFkZXIoa2V5LCBhcmlhSGlkZGVuID0gbnVsbCkge1xuICAgICAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBrZXk6IGtleSwgY2xhc3M6IFwidG9hc3QtaGVhZGVyXCIsIFwiYXJpYS1oaWRkZW5cIjogYXJpYUhpZGRlbiwgcGFydDogXCJoZWFkZXJcIiB9LCB0aGlzLmhlYWRlcikpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgbGF5b3V0LCBlbCwgcmV2ZWFsQ29udGVudFRvU2NyZWVuUmVhZGVyLCBoZWFkZXIsIG1lc3NhZ2UgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGFsbEJ1dHRvbnMgPSB0aGlzLmdldEJ1dHRvbnMoKTtcbiAgICAgICAgY29uc3Qgc3RhcnRCdXR0b25zID0gYWxsQnV0dG9ucy5maWx0ZXIoKGIpID0+IGIuc2lkZSA9PT0gJ3N0YXJ0Jyk7XG4gICAgICAgIGNvbnN0IGVuZEJ1dHRvbnMgPSBhbGxCdXR0b25zLmZpbHRlcigoYikgPT4gYi5zaWRlICE9PSAnc3RhcnQnKTtcbiAgICAgICAgY29uc3QgbW9kZSA9IGdldElvbk1vZGUodGhpcyk7XG4gICAgICAgIGNvbnN0IHdyYXBwZXJDbGFzcyA9IHtcbiAgICAgICAgICAgICd0b2FzdC13cmFwcGVyJzogdHJ1ZSxcbiAgICAgICAgICAgIFtgdG9hc3QtJHt0aGlzLnBvc2l0aW9ufWBdOiB0cnVlLFxuICAgICAgICAgICAgW2B0b2FzdC1sYXlvdXQtJHtsYXlvdXR9YF06IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGFja2VkIGJ1dHRvbnMgYXJlIG9ubHkgbWVhbnQgdG8gYmVcbiAgICAgICAgICogIHVzZWQgd2l0aCBvbmUgdHlwZSBvZiBidXR0b24uXG4gICAgICAgICAqL1xuICAgICAgICBpZiAobGF5b3V0ID09PSAnc3RhY2tlZCcgJiYgc3RhcnRCdXR0b25zLmxlbmd0aCA+IDAgJiYgZW5kQnV0dG9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBwcmludElvbldhcm5pbmcoJ1RoaXMgdG9hc3QgaXMgdXNpbmcgc3RhcnQgYW5kIGVuZCBidXR0b25zIHdpdGggdGhlIHN0YWNrZWQgdG9hc3QgbGF5b3V0LiBXZSByZWNvbW1lbmQgZm9sbG93aW5nIHRoZSBiZXN0IHByYWN0aWNlIG9mIHVzaW5nIGVpdGhlciBzdGFydCBvciBlbmQgYnV0dG9ucyB3aXRoIHRoZSBzdGFja2VkIHRvYXN0IGxheW91dC4nLCBlbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChoKEhvc3QsIE9iamVjdC5hc3NpZ24oeyBrZXk6ICczNDAzNmFmYzA3MDExNzNkNTFjOWMxMWVhNGEyZTFkNjU2ODViYTQxJywgdGFiaW5kZXg6IFwiLTFcIiB9LCB0aGlzLmh0bWxBdHRyaWJ1dGVzLCB7IHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgekluZGV4OiBgJHs2MDAwMCArIHRoaXMub3ZlcmxheUluZGV4fWAsXG4gICAgICAgICAgICB9LCBjbGFzczogY3JlYXRlQ29sb3JDbGFzc2VzKHRoaXMuY29sb3IsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IFttb2RlXTogdHJ1ZSB9LCBnZXRDbGFzc01hcCh0aGlzLmNzc0NsYXNzKSksIHsgJ292ZXJsYXktaGlkZGVuJzogdHJ1ZSwgJ3RvYXN0LXRyYW5zbHVjZW50JzogdGhpcy50cmFuc2x1Y2VudCB9KSksIG9uSW9uVG9hc3RXaWxsRGlzbWlzczogdGhpcy5kaXNwYXRjaENhbmNlbEhhbmRsZXIgfSksIGgoXCJkaXZcIiwgeyBrZXk6ICdkOTI3ZTQzOTU3ZjQ3ODg4Y2U0ZTY0ZjFlOTljOTM1ZDU1NzU3YWY3JywgY2xhc3M6IHdyYXBwZXJDbGFzcyB9LCBoKFwiZGl2XCIsIHsga2V5OiAnY2E0M2JjNDI0NzgxODFhY2RmOGNkZWE2NjAxYTg1ZmE5NWQxMjIxNicsIGNsYXNzOiBcInRvYXN0LWNvbnRhaW5lclwiLCBwYXJ0OiBcImNvbnRhaW5lclwiIH0sIHRoaXMucmVuZGVyQnV0dG9ucyhzdGFydEJ1dHRvbnMsICdzdGFydCcpLCB0aGlzLmljb24gIT09IHVuZGVmaW5lZCAmJiAoaChcImlvbi1pY29uXCIsIHsga2V5OiAnZmRkNmZiOGY2ZTk0N2VkMDAyYmQyZTYzZmRjOGVjN2U3NjRmNGE3ZCcsIGNsYXNzOiBcInRvYXN0LWljb25cIiwgcGFydDogXCJpY29uXCIsIGljb246IHRoaXMuaWNvbiwgbGF6eTogZmFsc2UsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIgfSkpLCBoKFwiZGl2XCIsIHsga2V5OiAnMzdjMTZjODFlZTNlNDMwNDM3OWRmYmNhYmRmZmU3M2RiNzNlNDY1MycsIGNsYXNzOiBcInRvYXN0LWNvbnRlbnRcIiwgcm9sZTogXCJzdGF0dXNcIiwgXCJhcmlhLWF0b21pY1wiOiBcInRydWVcIiwgXCJhcmlhLWxpdmVcIjogXCJwb2xpdGVcIiB9LCAhcmV2ZWFsQ29udGVudFRvU2NyZWVuUmVhZGVyICYmIGhlYWRlciAhPT0gdW5kZWZpbmVkICYmIHRoaXMucmVuZGVySGVhZGVyKCdvbGRIZWFkZXInLCAndHJ1ZScpLCAhcmV2ZWFsQ29udGVudFRvU2NyZWVuUmVhZGVyICYmIG1lc3NhZ2UgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnJlbmRlclRvYXN0TWVzc2FnZSgnb2xkTWVzc2FnZScsICd0cnVlJyksIHJldmVhbENvbnRlbnRUb1NjcmVlblJlYWRlciAmJiBoZWFkZXIgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnJlbmRlckhlYWRlcignaGVhZGVyJyksIHJldmVhbENvbnRlbnRUb1NjcmVlblJlYWRlciAmJiBtZXNzYWdlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5yZW5kZXJUb2FzdE1lc3NhZ2UoJ2hlYWRlcicpKSwgdGhpcy5yZW5kZXJCdXR0b25zKGVuZEJ1dHRvbnMsICdlbmQnKSkpKSk7XG4gICAgfVxuICAgIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbiAgICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgICAgICBcInN3aXBlR2VzdHVyZVwiOiBbXCJzd2lwZUdlc3R1cmVDaGFuZ2VkXCJdLFxuICAgICAgICBcImlzT3BlblwiOiBbXCJvbklzT3BlbkNoYW5nZVwiXSxcbiAgICAgICAgXCJ0cmlnZ2VyXCI6IFtcInRyaWdnZXJDaGFuZ2VkXCJdXG4gICAgfTsgfVxufTtcbmNvbnN0IGJ1dHRvbkNsYXNzID0gKGJ1dHRvbikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgICd0b2FzdC1idXR0b24nOiB0cnVlLFxuICAgICAgICAndG9hc3QtYnV0dG9uLWljb24tb25seSc6IGJ1dHRvbi5pY29uICE9PSB1bmRlZmluZWQgJiYgYnV0dG9uLnRleHQgPT09IHVuZGVmaW5lZCxcbiAgICAgICAgW2B0b2FzdC1idXR0b24tJHtidXR0b24ucm9sZX1gXTogYnV0dG9uLnJvbGUgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgJ2lvbi1mb2N1c2FibGUnOiB0cnVlLFxuICAgICAgICAnaW9uLWFjdGl2YXRhYmxlJzogdHJ1ZSxcbiAgICB9O1xufTtcbmNvbnN0IGJ1dHRvblBhcnQgPSAoYnV0dG9uKSA9PiB7XG4gICAgcmV0dXJuIGlzQ2FuY2VsKGJ1dHRvbi5yb2xlKSA/ICdidXR0b24gY2FuY2VsJyA6ICdidXR0b24nO1xufTtcblRvYXN0LnN0eWxlID0ge1xuICAgIGlvczogSW9uVG9hc3RJb3NTdHlsZTAsXG4gICAgbWQ6IElvblRvYXN0TWRTdHlsZTBcbn07XG5cbmV4cG9ydCB7IFRvYXN0IGFzIGlvbl90b2FzdCB9O1xuIl0sIm5hbWVzIjpbInIiLCJyZWdpc3Rlckluc3RhbmNlIiwiYyIsImNyZWF0ZUV2ZW50IiwiaCIsImUiLCJIb3N0IiwiZiIsImdldEVsZW1lbnQiLCJFIiwiRU5BQkxFX0hUTUxfQ09OVEVOVF9ERUZBVUxUIiwiYSIsInNhbml0aXplRE9NU3RyaW5nIiwiZyIsImdldEVsZW1lbnRSb290IiwicmFmIiwiY3JlYXRlTG9ja0NvbnRyb2xsZXIiLCJwIiwicHJpbnRJb25XYXJuaW5nIiwiTyIsIk9WRVJMQVlfR0VTVFVSRV9QUklPUklUWSIsImQiLCJjcmVhdGVEZWxlZ2F0ZUNvbnRyb2xsZXIiLCJjcmVhdGVUcmlnZ2VyQ29udHJvbGxlciIsImkiLCJpc0NhbmNlbCIsImoiLCJwcmVwYXJlT3ZlcmxheSIsImsiLCJzZXRPdmVybGF5SWQiLCJwcmVzZW50IiwiZGlzbWlzcyIsImV2ZW50TWV0aG9kIiwicyIsInNhZmVDYWxsIiwiRyIsIkdFU1RVUkUiLCJjcmVhdGVDb2xvckNsYXNzZXMiLCJnZXRDbGFzc01hcCIsImNvbmZpZyIsImIiLCJnZXRJb25Nb2RlIiwiY3JlYXRlQW5pbWF0aW9uIiwidyIsIndpbiIsImNyZWF0ZUdlc3R1cmUiLCJnZXRBbmltYXRpb25Qb3NpdGlvbiIsInBvc2l0aW9uIiwicG9zaXRpb25BbmNob3IiLCJtb2RlIiwidG9hc3QiLCJvZmZzZXQiLCJ3YXJuSWZBbmNob3JJc0hpZGRlbiIsImJveCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImJvdHRvbSIsImlubmVySGVpZ2h0IiwidG9wIiwib2Zmc2V0UGFyZW50IiwiZ2V0T2Zmc2V0Rm9yTWlkZGxlUG9zaXRpb24iLCJ0b2FzdEhlaWdodCIsIndyYXBwZXJIZWlnaHQiLCJNYXRoIiwiZmxvb3IiLCJpb3NFbnRlckFuaW1hdGlvbiIsImJhc2VFbCIsIm9wdHMiLCJiYXNlQW5pbWF0aW9uIiwid3JhcHBlckFuaW1hdGlvbiIsInJvb3QiLCJ3cmFwcGVyRWwiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRWxlbWVudCIsImZyb21UbyIsInRvcFBvc2l0aW9uIiwiY2xpZW50SGVpZ2h0Iiwic3R5bGUiLCJlYXNpbmciLCJkdXJhdGlvbiIsImFkZEFuaW1hdGlvbiIsImlvc0xlYXZlQW5pbWF0aW9uIiwibWRFbnRlckFuaW1hdGlvbiIsInNldFByb3BlcnR5IiwibWRMZWF2ZUFuaW1hdGlvbiIsImNyZWF0ZVN3aXBlVG9EaXNtaXNzR2VzdHVyZSIsImVsIiwidG9hc3RQb3NpdGlvbiIsIm9uRGlzbWlzcyIsImhvc3RFbEhlaWdodCIsIndyYXBwZXJFbEJveCIsIk1BWF9TV0lQRV9ESVNUQU5DRSIsIkRJU01JU1NfVEhSRVNIT0xEIiwiU1RFUF9PRkZTRVQiLCJJTlZFUlNJT05fRkFDVE9SIiwiaGVpZ2h0IiwiU1dJUEVfVVBfRE9XTl9LRVlGUkFNRVMiLCJ0cmFuc2Zvcm0iLCJzd2lwZUFuaW1hdGlvbiIsImtleWZyYW1lcyIsInByb2dyZXNzU3RhcnQiLCJjb21wdXRlU3RlcCIsImRlbHRhIiwib25Nb3ZlIiwiZGV0YWlsIiwic3RlcCIsImRlbHRhWSIsInByb2dyZXNzU3RlcCIsIm9uRW5kIiwidmVsb2NpdHkiLCJ2ZWxvY2l0eVkiLCJ0aHJlc2hvbGQiLCJnZXN0dXJlIiwiZW5hYmxlIiwic2hvdWxkRGlzbWlzcyIsInBsYXlUbyIsInJlbWFpbmluZ0Rpc3RhbmNlIiwic3RhcnRPZmZzZXQiLCJzdGFydFBvc2l0aW9uIiwib2Zmc2V0RmFjdG9yIiwiZW5kT2Zmc2V0IiwiZW5kUG9zaXRpb24iLCJLRVlGUkFNRVMiLCJyZW1haW5pbmdTdGVwQW1vdW50IiwibWluIiwiYWJzIiwib25GaW5pc2giLCJkZXN0cm95Iiwib25lVGltZUNhbGxiYWNrIiwicHJvZ3Jlc3NFbmQiLCJnZXN0dXJlTmFtZSIsImdlc3R1cmVQcmlvcml0eSIsImRpcmVjdGlvbiIsInRvYXN0SW9zQ3NzIiwiSW9uVG9hc3RJb3NTdHlsZTAiLCJ0b2FzdE1kQ3NzIiwiSW9uVG9hc3RNZFN0eWxlMCIsIlRvYXN0IiwiY29uc3RydWN0b3IiLCJob3N0UmVmIiwiZGlkUHJlc2VudCIsIndpbGxQcmVzZW50Iiwid2lsbERpc21pc3MiLCJkaWREaXNtaXNzIiwiZGlkUHJlc2VudFNob3J0aGFuZCIsIndpbGxQcmVzZW50U2hvcnRoYW5kIiwid2lsbERpc21pc3NTaG9ydGhhbmQiLCJkaWREaXNtaXNzU2hvcnRoYW5kIiwiZGVsZWdhdGVDb250cm9sbGVyIiwibG9ja0NvbnRyb2xsZXIiLCJ0cmlnZ2VyQ29udHJvbGxlciIsImN1c3RvbUhUTUxFbmFibGVkIiwiZ2V0IiwicHJlc2VudGVkIiwiZGlzcGF0Y2hDYW5jZWxIYW5kbGVyIiwiZXYiLCJyb2xlIiwiY2FuY2VsQnV0dG9uIiwiZ2V0QnV0dG9ucyIsImZpbmQiLCJjYWxsQnV0dG9uSGFuZGxlciIsImNyZWF0ZVN3aXBlR2VzdHVyZSIsInVuZGVmaW5lZCIsImRlc3Ryb3lTd2lwZUdlc3R1cmUiLCJwcmVmZXJzU3dpcGVHZXN0dXJlIiwic3dpcGVHZXN0dXJlIiwicmV2ZWFsQ29udGVudFRvU2NyZWVuUmVhZGVyIiwib3ZlcmxheUluZGV4IiwiZGVsZWdhdGUiLCJoYXNDb250cm9sbGVyIiwiY29sb3IiLCJlbnRlckFuaW1hdGlvbiIsImxlYXZlQW5pbWF0aW9uIiwiY3NzQ2xhc3MiLCJnZXROdW1iZXIiLCJoZWFkZXIiLCJsYXlvdXQiLCJtZXNzYWdlIiwia2V5Ym9hcmRDbG9zZSIsImJ1dHRvbnMiLCJ0cmFuc2x1Y2VudCIsImFuaW1hdGVkIiwiaWNvbiIsImh0bWxBdHRyaWJ1dGVzIiwiaXNPcGVuIiwidHJpZ2dlciIsInN3aXBlR2VzdHVyZUNoYW5nZWQiLCJsYXN0UHJlc2VudGVkUG9zaXRpb24iLCJvbklzT3BlbkNoYW5nZSIsIm5ld1ZhbHVlIiwib2xkVmFsdWUiLCJ0cmlnZ2VyQ2hhbmdlZCIsImFkZENsaWNrTGlzdGVuZXIiLCJjb25uZWN0ZWRDYWxsYmFjayIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwicmVtb3ZlQ2xpY2tMaXN0ZW5lciIsImNvbXBvbmVudFdpbGxMb2FkIiwiX2EiLCJpZCIsImNvbXBvbmVudERpZExvYWQiLCJfdGhpcyIsIl9hc3luY1RvR2VuZXJhdG9yIiwidW5sb2NrIiwibG9jayIsImF0dGFjaFZpZXdUb0RvbSIsImFuY2hvciIsImdldEFuY2hvckVsZW1lbnQiLCJhbmltYXRpb25Qb3NpdGlvbiIsImR1cmF0aW9uVGltZW91dCIsInNldFRpbWVvdXQiLCJkYXRhIiwiX3RoaXMyIiwiX2IiLCJjbGVhclRpbWVvdXQiLCJkaXNtaXNzZWQiLCJyZW1vdmVWaWV3RnJvbURvbSIsIm9uRGlkRGlzbWlzcyIsIm9uV2lsbERpc21pc3MiLCJtYXAiLCJ0ZXh0IiwiZm91bmRFbCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJIVE1MRWxlbWVudCIsImJ1dHRvbkNsaWNrIiwiYnV0dG9uIiwiX3RoaXMzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJoYW5kbGVyIiwicnRuIiwiY29uc29sZSIsImVycm9yIiwicmVuZGVyQnV0dG9ucyIsInNpZGUiLCJsZW5ndGgiLCJidXR0b25Hcm91cHNDbGFzc2VzIiwiY2xhc3MiLCJPYmplY3QiLCJhc3NpZ24iLCJ0eXBlIiwiYnV0dG9uQ2xhc3MiLCJ0YWJJbmRleCIsIm9uQ2xpY2siLCJwYXJ0IiwiYnV0dG9uUGFydCIsInNsb3QiLCJyZW5kZXJUb2FzdE1lc3NhZ2UiLCJrZXkiLCJhcmlhSGlkZGVuIiwiaW5uZXJIVE1MIiwicmVuZGVySGVhZGVyIiwicmVuZGVyIiwiYWxsQnV0dG9ucyIsInN0YXJ0QnV0dG9ucyIsImZpbHRlciIsImVuZEJ1dHRvbnMiLCJ3cmFwcGVyQ2xhc3MiLCJ0YWJpbmRleCIsInpJbmRleCIsIm9uSW9uVG9hc3RXaWxsRGlzbWlzcyIsImxhenkiLCJ3YXRjaGVycyIsImlvcyIsIm1kIiwiaW9uX3RvYXN0Il0sInNvdXJjZVJvb3QiOiJ3ZWJwYWNrOi8vLyIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswXX0=