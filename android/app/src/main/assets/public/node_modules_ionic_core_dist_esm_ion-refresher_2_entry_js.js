"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-refresher_2_entry_js"],{

/***/ 852:
/*!********************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-refresher_2.entry.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ion_refresher: () => (/* binding */ Refresher),
/* harmony export */   ion_refresher_content: () => (/* binding */ RefresherContent)
/* harmony export */ });
/* harmony import */ var C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 9204);
/* harmony import */ var _index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-527b9e34.js */ 4514);
/* harmony import */ var _cubic_bezier_fe2083dc_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cubic-bezier-fe2083dc.js */ 2738);
/* harmony import */ var _index_e919e353_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index-e919e353.js */ 1293);
/* harmony import */ var _helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helpers-78efeec3.js */ 9522);
/* harmony import */ var _haptic_ac164e4c_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./haptic-ac164e4c.js */ 7099);
/* harmony import */ var _ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ionic-global-ca86cf32.js */ 1367);
/* harmony import */ var _animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./animation-eab5a4ca.js */ 1865);
/* harmony import */ var _config_49c88215_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./config-49c88215.js */ 1701);
/* harmony import */ var _index_e2cf2ceb_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./index-e2cf2ceb.js */ 3871);
/* harmony import */ var _spinner_configs_964f7cf3_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./spinner-configs-964f7cf3.js */ 6556);
/* harmony import */ var _index_738d7504_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./index-738d7504.js */ 7243);
/* harmony import */ var _capacitor_59395cbd_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./capacitor-59395cbd.js */ 1341);
/* harmony import */ var _index_a5d50daf_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./index-a5d50daf.js */ 6639);

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */













const getRefresherAnimationType = contentEl => {
  const previousSibling = contentEl.previousElementSibling;
  const hasHeader = previousSibling !== null && previousSibling.tagName === 'ION-HEADER';
  return hasHeader ? 'translate' : 'scale';
};
const createPullingAnimation = (type, pullingSpinner, refresherEl) => {
  return type === 'scale' ? createScaleAnimation(pullingSpinner, refresherEl) : createTranslateAnimation(pullingSpinner, refresherEl);
};
const createBaseAnimation = pullingRefresherIcon => {
  const spinner = pullingRefresherIcon.querySelector('ion-spinner');
  const circle = spinner.shadowRoot.querySelector('circle');
  const spinnerArrowContainer = pullingRefresherIcon.querySelector('.spinner-arrow-container');
  const arrowContainer = pullingRefresherIcon.querySelector('.arrow-container');
  const arrow = arrowContainer ? arrowContainer.querySelector('ion-icon') : null;
  const baseAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_7__.c)().duration(1000).easing('ease-out');
  const spinnerArrowContainerAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(spinnerArrowContainer).keyframes([{
    offset: 0,
    opacity: '0.3'
  }, {
    offset: 0.45,
    opacity: '0.3'
  }, {
    offset: 0.55,
    opacity: '1'
  }, {
    offset: 1,
    opacity: '1'
  }]);
  const circleInnerAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(circle).keyframes([{
    offset: 0,
    strokeDasharray: '1px, 200px'
  }, {
    offset: 0.2,
    strokeDasharray: '1px, 200px'
  }, {
    offset: 0.55,
    strokeDasharray: '100px, 200px'
  }, {
    offset: 1,
    strokeDasharray: '100px, 200px'
  }]);
  const circleOuterAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(spinner).keyframes([{
    offset: 0,
    transform: 'rotate(-90deg)'
  }, {
    offset: 1,
    transform: 'rotate(210deg)'
  }]);
  /**
   * Only add arrow animation if present
   * this allows users to customize the spinners
   * without errors being thrown
   */
  if (arrowContainer && arrow) {
    const arrowContainerAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(arrowContainer).keyframes([{
      offset: 0,
      transform: 'rotate(0deg)'
    }, {
      offset: 0.3,
      transform: 'rotate(0deg)'
    }, {
      offset: 0.55,
      transform: 'rotate(280deg)'
    }, {
      offset: 1,
      transform: 'rotate(400deg)'
    }]);
    const arrowAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(arrow).keyframes([{
      offset: 0,
      transform: 'translateX(2px) scale(0)'
    }, {
      offset: 0.3,
      transform: 'translateX(2px) scale(0)'
    }, {
      offset: 0.55,
      transform: 'translateX(-1.5px) scale(1)'
    }, {
      offset: 1,
      transform: 'translateX(-1.5px) scale(1)'
    }]);
    baseAnimation.addAnimation([arrowContainerAnimation, arrowAnimation]);
  }
  return baseAnimation.addAnimation([spinnerArrowContainerAnimation, circleInnerAnimation, circleOuterAnimation]);
};
const createScaleAnimation = (pullingRefresherIcon, refresherEl) => {
  /**
   * Do not take the height of the refresher icon
   * because at this point the DOM has not updated,
   * so the refresher icon is still hidden with
   * display: none.
   * The `ion-refresher` container height
   * is roughly the amount we need to offset
   * the icon by when pulling down.
   */
  const height = refresherEl.clientHeight;
  const spinnerAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(pullingRefresherIcon).keyframes([{
    offset: 0,
    transform: `scale(0) translateY(-${height}px)`
  }, {
    offset: 1,
    transform: 'scale(1) translateY(100px)'
  }]);
  return createBaseAnimation(pullingRefresherIcon).addAnimation([spinnerAnimation]);
};
const createTranslateAnimation = (pullingRefresherIcon, refresherEl) => {
  /**
   * Do not take the height of the refresher icon
   * because at this point the DOM has not updated,
   * so the refresher icon is still hidden with
   * display: none.
   * The `ion-refresher` container height
   * is roughly the amount we need to offset
   * the icon by when pulling down.
   */
  const height = refresherEl.clientHeight;
  const spinnerAnimation = (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(pullingRefresherIcon).keyframes([{
    offset: 0,
    transform: `translateY(-${height}px)`
  }, {
    offset: 1,
    transform: 'translateY(100px)'
  }]);
  return createBaseAnimation(pullingRefresherIcon).addAnimation([spinnerAnimation]);
};
const createSnapBackAnimation = pullingRefresherIcon => {
  return (0,_animation_eab5a4ca_js__WEBPACK_IMPORTED_MODULE_7__.c)().duration(125).addElement(pullingRefresherIcon).fromTo('transform', 'translateY(var(--ion-pulling-refresher-translate, 100px))', 'translateY(0px)');
};
// iOS Native Refresher
// -----------------------------
const setSpinnerOpacity = (spinner, opacity) => {
  spinner.style.setProperty('opacity', opacity.toString());
};
const handleScrollWhilePulling = (ticks, numTicks, pullAmount) => {
  const max = 1;
  (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.w)(() => {
    ticks.forEach((el, i) => {
      /**
       * Compute the opacity of each tick
       * mark as a percentage of the pullAmount
       * offset by max / numTicks so
       * the tick marks are shown staggered.
       */
      const min = i * (max / numTicks);
      const range = max - min;
      const start = pullAmount - min;
      const progression = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.j)(0, start / range, 1);
      el.style.setProperty('opacity', progression.toString());
    });
  });
};
const handleScrollWhileRefreshing = (spinner, lastVelocityY) => {
  (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.w)(() => {
    // If user pulls down quickly, the spinner should spin faster
    spinner.style.setProperty('--refreshing-rotation-duration', lastVelocityY >= 1.0 ? '0.5s' : '2s');
    spinner.style.setProperty('opacity', '1');
  });
};
const translateElement = (el, value, duration = 200) => {
  if (!el) {
    return Promise.resolve();
  }
  const trans = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.t)(el, duration);
  (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.w)(() => {
    el.style.setProperty('transition', `${duration}ms all ease-out`);
    if (value === undefined) {
      el.style.removeProperty('transform');
    } else {
      el.style.setProperty('transform', `translate3d(0px, ${value}, 0px)`);
    }
  });
  return trans;
};
// Utils
// -----------------------------
/**
 * In order to use the native iOS refresher the device must support rubber band scrolling.
 * As part of this, we need to exclude Desktop Safari because it has a slightly different rubber band effect that is not compatible with the native refresher in Ionic.
 *
 * We also need to be careful not to include devices that spoof their user agent.
 * For example, when using iOS emulation in Chrome the user agent will be spoofed such that
 * navigator.maxTouchPointer > 0. To work around this,
 * we check to see if the apple-pay-logo is supported as a named image which is only
 * true on Apple devices.
 *
 * We previously checked referencEl.style.webkitOverflowScrolling to explicitly check
 * for rubber band support. However, this property was removed on iPadOS and it's possible
 * that this will be removed on iOS in the future too.
 *
 */
const supportsRubberBandScrolling = () => {
  return navigator.maxTouchPoints > 0 && CSS.supports('background: -webkit-named-image(apple-pay-logo-black)');
};
const shouldUseNativeRefresher = /*#__PURE__*/function () {
  var _ref = (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (referenceEl, mode) {
    const refresherContent = referenceEl.querySelector('ion-refresher-content');
    if (!refresherContent) {
      return Promise.resolve(false);
    }
    yield new Promise(resolve => (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.c)(refresherContent, resolve));
    const pullingSpinner = referenceEl.querySelector('ion-refresher-content .refresher-pulling ion-spinner');
    const refreshingSpinner = referenceEl.querySelector('ion-refresher-content .refresher-refreshing ion-spinner');
    return pullingSpinner !== null && refreshingSpinner !== null && (mode === 'ios' && supportsRubberBandScrolling() || mode === 'md');
  });
  return function shouldUseNativeRefresher(_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();
const refresherIosCss = "ion-refresher{top:0;display:none;position:absolute;width:100%;height:60px;pointer-events:none;z-index:-1}ion-refresher{inset-inline-start:0}ion-refresher.refresher-active{display:block}ion-refresher-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;height:100%}.refresher-pulling,.refresher-refreshing{display:none;width:100%}.refresher-pulling-icon,.refresher-refreshing-icon{-webkit-transform-origin:center;transform-origin:center;-webkit-transition:200ms;transition:200ms;font-size:30px;text-align:center}:host-context([dir=rtl]) .refresher-pulling-icon,:host-context([dir=rtl]) .refresher-refreshing-icon{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] .refresher-pulling-icon,[dir=rtl] .refresher-refreshing-icon{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){.refresher-pulling-icon:dir(rtl),.refresher-refreshing-icon:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}.refresher-pulling-text,.refresher-refreshing-text{font-size:16px;text-align:center}ion-refresher-content .arrow-container{display:none}.refresher-pulling ion-refresher-content .refresher-pulling{display:block}.refresher-ready ion-refresher-content .refresher-pulling{display:block}.refresher-ready ion-refresher-content .refresher-pulling-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.refresher-refreshing ion-refresher-content .refresher-refreshing{display:block}.refresher-cancelling ion-refresher-content .refresher-pulling{display:block}.refresher-cancelling ion-refresher-content .refresher-pulling-icon{-webkit-transform:scale(0);transform:scale(0)}.refresher-completing ion-refresher-content .refresher-refreshing{display:block}.refresher-completing ion-refresher-content .refresher-refreshing-icon{-webkit-transform:scale(0);transform:scale(0)}.refresher-native .refresher-pulling-text,.refresher-native .refresher-refreshing-text{display:none}.refresher-ios .refresher-pulling-icon,.refresher-ios .refresher-refreshing-icon{color:var(--ion-text-color, #000)}.refresher-ios .refresher-pulling-text,.refresher-ios .refresher-refreshing-text{color:var(--ion-text-color, #000)}.refresher-ios .refresher-refreshing .spinner-lines-ios line,.refresher-ios .refresher-refreshing .spinner-lines-small-ios line,.refresher-ios .refresher-refreshing .spinner-crescent circle{stroke:var(--ion-text-color, #000)}.refresher-ios .refresher-refreshing .spinner-bubbles circle,.refresher-ios .refresher-refreshing .spinner-circles circle,.refresher-ios .refresher-refreshing .spinner-dots circle{fill:var(--ion-text-color, #000)}ion-refresher.refresher-native{display:block;z-index:1}ion-refresher.refresher-native ion-spinner{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0}.refresher-native .refresher-refreshing ion-spinner{--refreshing-rotation-duration:2s;display:none;-webkit-animation:var(--refreshing-rotation-duration) ease-out refresher-rotate forwards;animation:var(--refreshing-rotation-duration) ease-out refresher-rotate forwards}.refresher-native .refresher-refreshing{display:none;-webkit-animation:250ms linear refresher-pop forwards;animation:250ms linear refresher-pop forwards}.refresher-native ion-spinner{width:32px;height:32px;color:var(--ion-color-step-450, var(--ion-background-color-step-450, #747577))}.refresher-native.refresher-refreshing .refresher-pulling ion-spinner,.refresher-native.refresher-completing .refresher-pulling ion-spinner{display:none}.refresher-native.refresher-refreshing .refresher-refreshing ion-spinner,.refresher-native.refresher-completing .refresher-refreshing ion-spinner{display:block}.refresher-native.refresher-pulling .refresher-pulling ion-spinner{display:block}.refresher-native.refresher-pulling .refresher-refreshing ion-spinner{display:none}.refresher-native.refresher-completing ion-refresher-content .refresher-refreshing-icon{-webkit-transform:scale(0) rotate(180deg);transform:scale(0) rotate(180deg);-webkit-transition:300ms;transition:300ms}@-webkit-keyframes refresher-pop{0%{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{-webkit-transform:scale(1.2);transform:scale(1.2);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes refresher-pop{0%{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{-webkit-transform:scale(1.2);transform:scale(1.2);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes refresher-rotate{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes refresher-rotate{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}";
const IonRefresherIosStyle0 = refresherIosCss;
const refresherMdCss = "ion-refresher{top:0;display:none;position:absolute;width:100%;height:60px;pointer-events:none;z-index:-1}ion-refresher{inset-inline-start:0}ion-refresher.refresher-active{display:block}ion-refresher-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;height:100%}.refresher-pulling,.refresher-refreshing{display:none;width:100%}.refresher-pulling-icon,.refresher-refreshing-icon{-webkit-transform-origin:center;transform-origin:center;-webkit-transition:200ms;transition:200ms;font-size:30px;text-align:center}:host-context([dir=rtl]) .refresher-pulling-icon,:host-context([dir=rtl]) .refresher-refreshing-icon{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] .refresher-pulling-icon,[dir=rtl] .refresher-refreshing-icon{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){.refresher-pulling-icon:dir(rtl),.refresher-refreshing-icon:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}.refresher-pulling-text,.refresher-refreshing-text{font-size:16px;text-align:center}ion-refresher-content .arrow-container{display:none}.refresher-pulling ion-refresher-content .refresher-pulling{display:block}.refresher-ready ion-refresher-content .refresher-pulling{display:block}.refresher-ready ion-refresher-content .refresher-pulling-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.refresher-refreshing ion-refresher-content .refresher-refreshing{display:block}.refresher-cancelling ion-refresher-content .refresher-pulling{display:block}.refresher-cancelling ion-refresher-content .refresher-pulling-icon{-webkit-transform:scale(0);transform:scale(0)}.refresher-completing ion-refresher-content .refresher-refreshing{display:block}.refresher-completing ion-refresher-content .refresher-refreshing-icon{-webkit-transform:scale(0);transform:scale(0)}.refresher-native .refresher-pulling-text,.refresher-native .refresher-refreshing-text{display:none}.refresher-md .refresher-pulling-icon,.refresher-md .refresher-refreshing-icon{color:var(--ion-text-color, #000)}.refresher-md .refresher-pulling-text,.refresher-md .refresher-refreshing-text{color:var(--ion-text-color, #000)}.refresher-md .refresher-refreshing .spinner-lines-md line,.refresher-md .refresher-refreshing .spinner-lines-small-md line,.refresher-md .refresher-refreshing .spinner-crescent circle{stroke:var(--ion-text-color, #000)}.refresher-md .refresher-refreshing .spinner-bubbles circle,.refresher-md .refresher-refreshing .spinner-circles circle,.refresher-md .refresher-refreshing .spinner-dots circle{fill:var(--ion-text-color, #000)}ion-refresher.refresher-native{display:block;z-index:1}ion-refresher.refresher-native ion-spinner{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;width:24px;height:24px;color:var(--ion-color-primary, #0054e9)}ion-refresher.refresher-native .spinner-arrow-container{display:inherit}ion-refresher.refresher-native .arrow-container{display:block;position:absolute;width:24px;height:24px}ion-refresher.refresher-native .arrow-container ion-icon{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;left:0;right:0;bottom:-4px;position:absolute;color:var(--ion-color-primary, #0054e9);font-size:12px}ion-refresher.refresher-native.refresher-pulling ion-refresher-content .refresher-pulling,ion-refresher.refresher-native.refresher-ready ion-refresher-content .refresher-pulling{display:-ms-flexbox;display:flex}ion-refresher.refresher-native.refresher-refreshing ion-refresher-content .refresher-refreshing,ion-refresher.refresher-native.refresher-completing ion-refresher-content .refresher-refreshing,ion-refresher.refresher-native.refresher-cancelling ion-refresher-content .refresher-refreshing{display:-ms-flexbox;display:flex}ion-refresher.refresher-native .refresher-pulling-icon{-webkit-transform:translateY(calc(-100% - 10px));transform:translateY(calc(-100% - 10px))}ion-refresher.refresher-native .refresher-pulling-icon,ion-refresher.refresher-native .refresher-refreshing-icon{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;border-radius:100%;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;display:-ms-flexbox;display:flex;border:1px solid var(--ion-color-step-200, var(--ion-background-color-step-200, #ececec));background:var(--ion-color-step-250, var(--ion-background-color-step-250, #ffffff));-webkit-box-shadow:0px 1px 6px rgba(0, 0, 0, 0.1);box-shadow:0px 1px 6px rgba(0, 0, 0, 0.1)}";
const IonRefresherMdStyle0 = refresherMdCss;
const Refresher = class {
  constructor(hostRef) {
    (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionRefresh = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionRefresh", 7);
    this.ionPull = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionPull", 7);
    this.ionStart = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionStart", 7);
    this.appliedStyles = false;
    this.didStart = false;
    this.progress = 0;
    this.pointerDown = false;
    this.needsCompletion = false;
    this.didRefresh = false;
    this.contentFullscreen = false;
    this.lastVelocityY = 0;
    this.animations = [];
    this.nativeRefresher = false;
    this.state = 1 /* RefresherState.Inactive */;
    this.pullMin = 60;
    this.pullMax = this.pullMin + 60;
    this.closeDuration = '280ms';
    this.snapbackDuration = '280ms';
    this.pullFactor = 1;
    this.disabled = false;
  }
  disabledChanged() {
    if (this.gesture) {
      this.gesture.enable(!this.disabled);
    }
  }
  checkNativeRefresher() {
    var _this = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const useNativeRefresher = yield shouldUseNativeRefresher(_this.el, (0,_ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_6__.b)(_this));
      if (useNativeRefresher && !_this.nativeRefresher) {
        const contentEl = _this.el.closest('ion-content');
        _this.setupNativeRefresher(contentEl);
      } else if (!useNativeRefresher) {
        _this.destroyNativeRefresher();
      }
    })();
  }
  destroyNativeRefresher() {
    if (this.scrollEl && this.scrollListenerCallback) {
      this.scrollEl.removeEventListener('scroll', this.scrollListenerCallback);
      this.scrollListenerCallback = undefined;
    }
    this.nativeRefresher = false;
  }
  resetNativeRefresher(el, state) {
    var _this2 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this2.state = state;
      if ((0,_ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_6__.b)(_this2) === 'ios') {
        yield translateElement(el, undefined, 300);
      } else {
        yield (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.t)(_this2.el.querySelector('.refresher-refreshing-icon'), 200);
      }
      _this2.didRefresh = false;
      _this2.needsCompletion = false;
      _this2.pointerDown = false;
      _this2.animations.forEach(ani => ani.destroy());
      _this2.animations = [];
      _this2.progress = 0;
      _this2.state = 1 /* RefresherState.Inactive */;
    })();
  }
  setupiOSNativeRefresher(pullingSpinner, refreshingSpinner) {
    var _this3 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this3.elementToTransform = _this3.scrollEl;
      const ticks = pullingSpinner.shadowRoot.querySelectorAll('svg');
      let MAX_PULL = _this3.scrollEl.clientHeight * 0.16;
      const NUM_TICKS = ticks.length;
      (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.w)(() => ticks.forEach(el => el.style.setProperty('animation', 'none')));
      _this3.scrollListenerCallback = () => {
        // If pointer is not on screen or refresher is not active, ignore scroll
        if (!_this3.pointerDown && _this3.state === 1 /* RefresherState.Inactive */) {
          return;
        }
        (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.d)(() => {
          // PTR should only be active when overflow scrolling at the top
          const scrollTop = _this3.scrollEl.scrollTop;
          const refresherHeight = _this3.el.clientHeight;
          if (scrollTop > 0) {
            /**
             * If refresher is refreshing and user tries to scroll
             * progressively fade refresher out/in
             */
            if (_this3.state === 8 /* RefresherState.Refreshing */) {
              const ratio = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.j)(0, scrollTop / (refresherHeight * 0.5), 1);
              (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.w)(() => setSpinnerOpacity(refreshingSpinner, 1 - ratio));
              return;
            }
            return;
          }
          if (_this3.pointerDown) {
            if (!_this3.didStart) {
              _this3.didStart = true;
              _this3.ionStart.emit();
            }
            // emit "pulling" on every move
            if (_this3.pointerDown) {
              _this3.ionPull.emit();
            }
          }
          /**
           * We want to delay the start of this gesture by ~30px
           * when initially pulling down so the refresher does not
           * overlap with the content. But when letting go of the
           * gesture before the refresher completes, we want the
           * refresher tick marks to quickly fade out.
           */
          const offset = _this3.didStart ? 30 : 0;
          const pullAmount = _this3.progress = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.j)(0, (Math.abs(scrollTop) - offset) / MAX_PULL, 1);
          const shouldShowRefreshingSpinner = _this3.state === 8 /* RefresherState.Refreshing */ || pullAmount === 1;
          if (shouldShowRefreshingSpinner) {
            if (_this3.pointerDown) {
              handleScrollWhileRefreshing(refreshingSpinner, _this3.lastVelocityY);
            }
            if (!_this3.didRefresh) {
              _this3.beginRefresh();
              _this3.didRefresh = true;
              (0,_haptic_ac164e4c_js__WEBPACK_IMPORTED_MODULE_5__.d)({
                style: _haptic_ac164e4c_js__WEBPACK_IMPORTED_MODULE_5__.I.Light
              });
              /**
               * Translate the content element otherwise when pointer is removed
               * from screen the scroll content will bounce back over the refresher
               */
              if (!_this3.pointerDown) {
                translateElement(_this3.elementToTransform, `${refresherHeight}px`);
              }
            }
          } else {
            _this3.state = 2 /* RefresherState.Pulling */;
            handleScrollWhilePulling(ticks, NUM_TICKS, pullAmount);
          }
        });
      };
      _this3.scrollEl.addEventListener('scroll', _this3.scrollListenerCallback);
      _this3.gesture = (yield Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./index-39782642.js */ 2976))).createGesture({
        el: _this3.scrollEl,
        gestureName: 'refresher',
        gesturePriority: 31,
        direction: 'y',
        threshold: 5,
        onStart: () => {
          _this3.pointerDown = true;
          if (!_this3.didRefresh) {
            translateElement(_this3.elementToTransform, '0px');
          }
          /**
           * If the content had `display: none` when
           * the refresher was initialized, its clientHeight
           * will be 0. When the gesture starts, the content
           * will be visible, so try to get the correct
           * client height again. This is most common when
           * using the refresher in an ion-menu.
           */
          if (MAX_PULL === 0) {
            MAX_PULL = _this3.scrollEl.clientHeight * 0.16;
          }
        },
        onMove: ev => {
          _this3.lastVelocityY = ev.velocityY;
        },
        onEnd: () => {
          _this3.pointerDown = false;
          _this3.didStart = false;
          if (_this3.needsCompletion) {
            _this3.resetNativeRefresher(_this3.elementToTransform, 32 /* RefresherState.Completing */);
            _this3.needsCompletion = false;
          } else if (_this3.didRefresh) {
            (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.d)(() => translateElement(_this3.elementToTransform, `${_this3.el.clientHeight}px`));
          }
        }
      });
      _this3.disabledChanged();
    })();
  }
  setupMDNativeRefresher(contentEl, pullingSpinner, refreshingSpinner) {
    var _this4 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const circle = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(pullingSpinner).querySelector('circle');
      const pullingRefresherIcon = _this4.el.querySelector('ion-refresher-content .refresher-pulling-icon');
      const refreshingCircle = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(refreshingSpinner).querySelector('circle');
      if (circle !== null && refreshingCircle !== null) {
        (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.w)(() => {
          circle.style.setProperty('animation', 'none');
          // This lines up the animation on the refreshing spinner with the pulling spinner
          refreshingSpinner.style.setProperty('animation-delay', '-655ms');
          refreshingCircle.style.setProperty('animation-delay', '-655ms');
        });
      }
      _this4.gesture = (yield Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./index-39782642.js */ 2976))).createGesture({
        el: _this4.scrollEl,
        gestureName: 'refresher',
        gesturePriority: 31,
        direction: 'y',
        threshold: 5,
        canStart: () => _this4.state !== 8 /* RefresherState.Refreshing */ && _this4.state !== 32 /* RefresherState.Completing */ && _this4.scrollEl.scrollTop === 0,
        onStart: ev => {
          _this4.progress = 0;
          ev.data = {
            animation: undefined,
            didStart: false,
            cancelled: false
          };
        },
        onMove: ev => {
          if (ev.velocityY < 0 && _this4.progress === 0 && !ev.data.didStart || ev.data.cancelled) {
            ev.data.cancelled = true;
            return;
          }
          if (!ev.data.didStart) {
            ev.data.didStart = true;
            _this4.state = 2 /* RefresherState.Pulling */;
            // When ion-refresher is being used with a custom scroll target, the overflow styles need to be applied directly instead of via a css variable
            const {
              scrollEl
            } = _this4;
            const overflowProperty = scrollEl.matches(_index_e919e353_js__WEBPACK_IMPORTED_MODULE_3__.I) ? 'overflow' : '--overflow';
            (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.w)(() => scrollEl.style.setProperty(overflowProperty, 'hidden'));
            const animationType = getRefresherAnimationType(contentEl);
            const animation = createPullingAnimation(animationType, pullingRefresherIcon, _this4.el);
            ev.data.animation = animation;
            animation.progressStart(false, 0);
            _this4.ionStart.emit();
            _this4.animations.push(animation);
            return;
          }
          // Since we are using an easing curve, slow the gesture tracking down a bit
          _this4.progress = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.j)(0, ev.deltaY / 180 * 0.5, 1);
          ev.data.animation.progressStep(_this4.progress);
          _this4.ionPull.emit();
        },
        onEnd: ev => {
          if (!ev.data.didStart) {
            return;
          }
          _this4.gesture.enable(false);
          const {
            scrollEl
          } = _this4;
          const overflowProperty = scrollEl.matches(_index_e919e353_js__WEBPACK_IMPORTED_MODULE_3__.I) ? 'overflow' : '--overflow';
          (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.w)(() => scrollEl.style.removeProperty(overflowProperty));
          if (_this4.progress <= 0.4) {
            ev.data.animation.progressEnd(0, _this4.progress, 500).onFinish(() => {
              _this4.animations.forEach(ani => ani.destroy());
              _this4.animations = [];
              _this4.gesture.enable(true);
              _this4.state = 1 /* RefresherState.Inactive */;
            });
            return;
          }
          const progress = (0,_cubic_bezier_fe2083dc_js__WEBPACK_IMPORTED_MODULE_2__.g)([0, 0], [0, 0], [1, 1], [1, 1], _this4.progress)[0];
          const snapBackAnimation = createSnapBackAnimation(pullingRefresherIcon);
          _this4.animations.push(snapBackAnimation);
          (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.w)(/*#__PURE__*/(0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
            pullingRefresherIcon.style.setProperty('--ion-pulling-refresher-translate', `${progress * 100}px`);
            ev.data.animation.progressEnd();
            yield snapBackAnimation.play();
            _this4.beginRefresh();
            ev.data.animation.destroy();
            _this4.gesture.enable(true);
          }));
        }
      });
      _this4.disabledChanged();
    })();
  }
  setupNativeRefresher(contentEl) {
    var _this5 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this5.scrollListenerCallback || !contentEl || _this5.nativeRefresher || !_this5.scrollEl) {
        return;
      }
      /**
       * If using non-native refresher before make sure
       * we clean up any old CSS. This can happen when
       * a user manually calls the refresh method in a
       * component create callback before the native
       * refresher is setup.
       */
      _this5.setCss(0, '', false, '');
      _this5.nativeRefresher = true;
      const pullingSpinner = _this5.el.querySelector('ion-refresher-content .refresher-pulling ion-spinner');
      const refreshingSpinner = _this5.el.querySelector('ion-refresher-content .refresher-refreshing ion-spinner');
      if ((0,_ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_6__.b)(_this5) === 'ios') {
        _this5.setupiOSNativeRefresher(pullingSpinner, refreshingSpinner);
      } else {
        _this5.setupMDNativeRefresher(contentEl, pullingSpinner, refreshingSpinner);
      }
    })();
  }
  componentDidUpdate() {
    this.checkNativeRefresher();
  }
  connectedCallback() {
    var _this6 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this6.el.getAttribute('slot') !== 'fixed') {
        console.error('Make sure you use: <ion-refresher slot="fixed">');
        return;
      }
      const contentEl = _this6.el.closest(_index_e919e353_js__WEBPACK_IMPORTED_MODULE_3__.b);
      if (!contentEl) {
        (0,_index_e919e353_js__WEBPACK_IMPORTED_MODULE_3__.p)(_this6.el);
        return;
      }
      /**
       * Waits for the content to be ready before querying the scroll
       * or the background content element.
       */
      (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.c)(contentEl, /*#__PURE__*/(0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
        const customScrollTarget = contentEl.querySelector(_index_e919e353_js__WEBPACK_IMPORTED_MODULE_3__.I);
        /**
         * Query the custom scroll target (if available), first. In refresher implementations,
         * the ion-refresher element will always be a direct child of ion-content (slot="fixed"). By
         * querying the custom scroll target first and falling back to the ion-content element,
         * the correct scroll element will be returned by the implementation.
         */
        _this6.scrollEl = yield (0,_index_e919e353_js__WEBPACK_IMPORTED_MODULE_3__.g)(customScrollTarget !== null && customScrollTarget !== void 0 ? customScrollTarget : contentEl);
        /**
         * Query the background content element from the host ion-content element directly.
         */
        _this6.backgroundContentEl = yield contentEl.getBackgroundElement();
        /**
         * Check if the content element is fullscreen to apply the correct styles
         * when the refresher is refreshing. Otherwise, the refresher will be
         * hidden because it is positioned behind the background content element.
         */
        _this6.contentFullscreen = contentEl.fullscreen;
        if (yield shouldUseNativeRefresher(_this6.el, (0,_ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_6__.b)(_this6))) {
          _this6.setupNativeRefresher(contentEl);
        } else {
          _this6.gesture = (yield Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./index-39782642.js */ 2976))).createGesture({
            el: contentEl,
            gestureName: 'refresher',
            gesturePriority: 31,
            direction: 'y',
            threshold: 20,
            passive: false,
            canStart: () => _this6.canStart(),
            onStart: () => _this6.onStart(),
            onMove: ev => _this6.onMove(ev),
            onEnd: () => _this6.onEnd()
          });
          _this6.disabledChanged();
        }
      }));
    })();
  }
  disconnectedCallback() {
    this.destroyNativeRefresher();
    this.scrollEl = undefined;
    if (this.gesture) {
      this.gesture.destroy();
      this.gesture = undefined;
    }
  }
  /**
   * Call `complete()` when your async operation has completed.
   * For example, the `refreshing` state is while the app is performing
   * an asynchronous operation, such as receiving more data from an
   * AJAX request. Once the data has been received, you then call this
   * method to signify that the refreshing has completed and to close
   * the refresher. This method also changes the refresher's state from
   * `refreshing` to `completing`.
   */
  complete() {
    var _this7 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this7.nativeRefresher) {
        _this7.needsCompletion = true;
        // Do not reset scroll el until user removes pointer from screen
        if (!_this7.pointerDown) {
          (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.r)(() => (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.r)(() => _this7.resetNativeRefresher(_this7.elementToTransform, 32 /* RefresherState.Completing */)));
        }
      } else {
        _this7.close(32 /* RefresherState.Completing */, '120ms');
      }
    })();
  }
  /**
   * Changes the refresher's state from `refreshing` to `cancelling`.
   */
  cancel() {
    var _this8 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this8.nativeRefresher) {
        // Do not reset scroll el until user removes pointer from screen
        if (!_this8.pointerDown) {
          (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.r)(() => (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_4__.r)(() => _this8.resetNativeRefresher(_this8.elementToTransform, 16 /* RefresherState.Cancelling */)));
        }
      } else {
        _this8.close(16 /* RefresherState.Cancelling */, '');
      }
    })();
  }
  /**
   * A number representing how far down the user has pulled.
   * The number `0` represents the user hasn't pulled down at all. The
   * number `1`, and anything greater than `1`, represents that the user
   * has pulled far enough down that when they let go then the refresh will
   * happen. If they let go and the number is less than `1`, then the
   * refresh will not happen, and the content will return to it's original
   * position.
   */
  getProgress() {
    return Promise.resolve(this.progress);
  }
  canStart() {
    if (!this.scrollEl) {
      return false;
    }
    if (this.state !== 1 /* RefresherState.Inactive */) {
      return false;
    }
    // if the scrollTop is greater than zero then it's
    // not possible to pull the content down yet
    if (this.scrollEl.scrollTop > 0) {
      return false;
    }
    return true;
  }
  onStart() {
    this.progress = 0;
    this.state = 1 /* RefresherState.Inactive */;
    this.memoizeOverflowStyle();
    /**
     * If the content is fullscreen, then we need to
     * set the offset-top style on the background content
     * element to ensure that the refresher is shown.
     */
    if (this.contentFullscreen && this.backgroundContentEl) {
      this.backgroundContentEl.style.setProperty('--offset-top', '0px');
    }
  }
  onMove(detail) {
    if (!this.scrollEl) {
      return;
    }
    // this method can get called like a bazillion times per second,
    // so it's built to be as efficient as possible, and does its
    // best to do any DOM read/writes only when absolutely necessary
    // if multi-touch then get out immediately
    const ev = detail.event;
    if (ev.touches !== undefined && ev.touches.length > 1) {
      return;
    }
    // do nothing if it's actively refreshing
    // or it's in the way of closing
    // or this was never a startY
    if ((this.state & 56 /* RefresherState._BUSY_ */) !== 0) {
      return;
    }
    const pullFactor = Number.isNaN(this.pullFactor) || this.pullFactor < 0 ? 1 : this.pullFactor;
    const deltaY = detail.deltaY * pullFactor;
    // don't bother if they're scrolling up
    // and have not already started dragging
    if (deltaY <= 0) {
      // the current Y is higher than the starting Y
      // so they scrolled up enough to be ignored
      this.progress = 0;
      this.state = 1 /* RefresherState.Inactive */;
      if (this.appliedStyles) {
        // reset the styles only if they were applied
        this.setCss(0, '', false, '');
        return;
      }
      return;
    }
    if (this.state === 1 /* RefresherState.Inactive */) {
      // this refresh is not already actively pulling down
      // get the content's scrollTop
      const scrollHostScrollTop = this.scrollEl.scrollTop;
      // if the scrollTop is greater than zero then it's
      // not possible to pull the content down yet
      if (scrollHostScrollTop > 0) {
        this.progress = 0;
        return;
      }
      // content scrolled all the way to the top, and dragging down
      this.state = 2 /* RefresherState.Pulling */;
    }
    // prevent native scroll events
    if (ev.cancelable) {
      ev.preventDefault();
    }
    // the refresher is actively pulling at this point
    // move the scroll element within the content element
    this.setCss(deltaY, '0ms', true, '');
    if (deltaY === 0) {
      // don't continue if there's no delta yet
      this.progress = 0;
      return;
    }
    const pullMin = this.pullMin;
    // set pull progress
    this.progress = deltaY / pullMin;
    // emit "start" if it hasn't started yet
    if (!this.didStart) {
      this.didStart = true;
      this.ionStart.emit();
    }
    // emit "pulling" on every move
    this.ionPull.emit();
    // do nothing if the delta is less than the pull threshold
    if (deltaY < pullMin) {
      // ensure it stays in the pulling state, cuz its not ready yet
      this.state = 2 /* RefresherState.Pulling */;
      return;
    }
    if (deltaY > this.pullMax) {
      // they pulled farther than the max, so kick off the refresh
      this.beginRefresh();
      return;
    }
    // pulled farther than the pull min!!
    // it is now in the `ready` state!!
    // if they let go then it'll refresh, kerpow!!
    this.state = 4 /* RefresherState.Ready */;
    return;
  }
  onEnd() {
    // only run in a zone when absolutely necessary
    if (this.state === 4 /* RefresherState.Ready */) {
      // they pulled down far enough, so it's ready to refresh
      this.beginRefresh();
    } else if (this.state === 2 /* RefresherState.Pulling */) {
      // they were pulling down, but didn't pull down far enough
      // set the content back to it's original location
      // and close the refresher
      // set that the refresh is actively cancelling
      this.cancel();
    } else if (this.state === 1 /* RefresherState.Inactive */) {
      /**
       * The pull to refresh gesture was aborted
       * so we should immediately restore any overflow styles
       * that have been modified. Do not call this.cancel
       * because the styles will only be reset after a timeout.
       * If the gesture is aborted then scrolling should be
       * available right away.
       */
      this.restoreOverflowStyle();
    }
  }
  beginRefresh() {
    // assumes we're already back in a zone
    // they pulled down far enough, so it's ready to refresh
    this.state = 8 /* RefresherState.Refreshing */;
    // place the content in a hangout position while it thinks
    this.setCss(this.pullMin, this.snapbackDuration, true, '');
    // emit "refresh" because it was pulled down far enough
    // and they let go to begin refreshing
    this.ionRefresh.emit({
      complete: this.complete.bind(this)
    });
  }
  close(state, delay) {
    // create fallback timer incase something goes wrong with transitionEnd event
    setTimeout(() => {
      var _a;
      this.state = 1 /* RefresherState.Inactive */;
      this.progress = 0;
      this.didStart = false;
      /**
       * Reset any overflow styles so the
       * user can scroll again.
       */
      this.setCss(0, '0ms', false, '', true);
      /**
       * Reset the offset-top style on the background content
       * when the refresher is no longer refreshing and the
       * content is fullscreen.
       *
       * This ensures that the behavior of background content
       * does not change when refreshing is complete.
       */
      if (this.contentFullscreen && this.backgroundContentEl) {
        (_a = this.backgroundContentEl) === null || _a === void 0 ? void 0 : _a.style.removeProperty('--offset-top');
      }
    }, 600);
    // reset the styles on the scroll element
    // set that the refresh is actively cancelling/completing
    this.state = state;
    this.setCss(0, this.closeDuration, true, delay);
  }
  setCss(y, duration, overflowVisible, delay, shouldRestoreOverflowStyle = false) {
    if (this.nativeRefresher) {
      return;
    }
    this.appliedStyles = y > 0;
    (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.w)(() => {
      if (this.scrollEl && this.backgroundContentEl) {
        const scrollStyle = this.scrollEl.style;
        const backgroundStyle = this.backgroundContentEl.style;
        scrollStyle.transform = backgroundStyle.transform = y > 0 ? `translateY(${y}px) translateZ(0px)` : '';
        scrollStyle.transitionDuration = backgroundStyle.transitionDuration = duration;
        scrollStyle.transitionDelay = backgroundStyle.transitionDelay = delay;
        scrollStyle.overflow = overflowVisible ? 'hidden' : '';
      }
      /**
       * Reset the overflow styles only once
       * the pull to refresh effect has been closed.
       * This ensures that the gesture is done
       * and the refresh operation has either
       * been aborted or has completed.
       */
      if (shouldRestoreOverflowStyle) {
        this.restoreOverflowStyle();
      }
    });
  }
  memoizeOverflowStyle() {
    if (this.scrollEl) {
      const {
        overflow,
        overflowX,
        overflowY
      } = this.scrollEl.style;
      this.overflowStyles = {
        overflow: overflow !== null && overflow !== void 0 ? overflow : '',
        overflowX: overflowX !== null && overflowX !== void 0 ? overflowX : '',
        overflowY: overflowY !== null && overflowY !== void 0 ? overflowY : ''
      };
    }
  }
  restoreOverflowStyle() {
    if (this.overflowStyles !== undefined && this.scrollEl !== undefined) {
      const {
        overflow,
        overflowX,
        overflowY
      } = this.overflowStyles;
      this.scrollEl.style.overflow = overflow;
      this.scrollEl.style.overflowX = overflowX;
      this.scrollEl.style.overflowY = overflowY;
      this.overflowStyles = undefined;
    }
  }
  render() {
    const mode = (0,_ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_6__.b)(this);
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.e, {
      key: '4c36bffbfa32ef1bd28a60f4455c125842880659',
      slot: "fixed",
      class: {
        [mode]: true,
        // Used internally for styling
        [`refresher-${mode}`]: true,
        'refresher-native': this.nativeRefresher,
        'refresher-active': this.state !== 1 /* RefresherState.Inactive */,
        'refresher-pulling': this.state === 2 /* RefresherState.Pulling */,
        'refresher-ready': this.state === 4 /* RefresherState.Ready */,
        'refresher-refreshing': this.state === 8 /* RefresherState.Refreshing */,
        'refresher-cancelling': this.state === 16 /* RefresherState.Cancelling */,
        'refresher-completing': this.state === 32 /* RefresherState.Completing */
      }
    });
  }
  get el() {
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
  static get watchers() {
    return {
      "disabled": ["disabledChanged"]
    };
  }
};
Refresher.style = {
  ios: IonRefresherIosStyle0,
  md: IonRefresherMdStyle0
};
const RefresherContent = class {
  constructor(hostRef) {
    (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.customHTMLEnabled = _ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_6__.c.get('innerHTMLTemplatesEnabled', _config_49c88215_js__WEBPACK_IMPORTED_MODULE_8__.E);
    this.pullingIcon = undefined;
    this.pullingText = undefined;
    this.refreshingSpinner = undefined;
    this.refreshingText = undefined;
  }
  componentWillLoad() {
    if (this.pullingIcon === undefined) {
      /**
       * The native iOS refresher uses a spinner instead of
       * an icon, so we need to see if this device supports
       * the native iOS refresher.
       */
      const hasRubberBandScrolling = supportsRubberBandScrolling();
      const mode = (0,_ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_6__.b)(this);
      const overflowRefresher = hasRubberBandScrolling ? 'lines' : _index_e2cf2ceb_js__WEBPACK_IMPORTED_MODULE_9__.i;
      this.pullingIcon = _ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_6__.c.get('refreshingIcon', mode === 'ios' && hasRubberBandScrolling ? _ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_6__.c.get('spinner', overflowRefresher) : 'circular');
    }
    if (this.refreshingSpinner === undefined) {
      const mode = (0,_ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_6__.b)(this);
      this.refreshingSpinner = _ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_6__.c.get('refreshingSpinner', _ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_6__.c.get('spinner', mode === 'ios' ? 'lines' : 'circular'));
    }
  }
  renderPullingText() {
    const {
      customHTMLEnabled,
      pullingText
    } = this;
    if (customHTMLEnabled) {
      return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
        class: "refresher-pulling-text",
        innerHTML: (0,_config_49c88215_js__WEBPACK_IMPORTED_MODULE_8__.a)(pullingText)
      });
    }
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "refresher-pulling-text"
    }, pullingText);
  }
  renderRefreshingText() {
    const {
      customHTMLEnabled,
      refreshingText
    } = this;
    if (customHTMLEnabled) {
      return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
        class: "refresher-refreshing-text",
        innerHTML: (0,_config_49c88215_js__WEBPACK_IMPORTED_MODULE_8__.a)(refreshingText)
      });
    }
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "refresher-refreshing-text"
    }, refreshingText);
  }
  render() {
    const pullingIcon = this.pullingIcon;
    const hasSpinner = pullingIcon != null && _spinner_configs_964f7cf3_js__WEBPACK_IMPORTED_MODULE_10__.S[pullingIcon] !== undefined;
    const mode = (0,_ionic_global_ca86cf32_js__WEBPACK_IMPORTED_MODULE_6__.b)(this);
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.e, {
      key: 'fb78d7e31f8feb31025e58903eb9de85cb928dbd',
      class: mode
    }, (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: '23f67800f09765ef8fde8cf85a843e19e667f337',
      class: "refresher-pulling"
    }, this.pullingIcon && hasSpinner && (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: '5a08d3b69762f8b51dcd3dcfbaf3fddb707257fa',
      class: "refresher-pulling-icon"
    }, (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: '42a613b029e092acdff7fe613a429375d89f157e',
      class: "spinner-arrow-container"
    }, (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-spinner", {
      key: '2f9cdc75938c4d306de7a717ed67901daef71c2c',
      name: this.pullingIcon,
      paused: true
    }), mode === 'md' && this.pullingIcon === 'circular' && (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: '1f8a6347b4a46417ba55286a79f1a41f04bf9c91',
      class: "arrow-container"
    }, (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-icon", {
      key: '326713d11d482d420ba5a739ff4528400a37e9ca',
      icon: _index_e2cf2ceb_js__WEBPACK_IMPORTED_MODULE_9__.h,
      "aria-hidden": "true"
    })))), this.pullingIcon && !hasSpinner && (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: 'ab18c7cbea7bcbfa034f90f317652af4d93660ed',
      class: "refresher-pulling-icon"
    }, (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-icon", {
      key: 'f488acd54acc8a61b6c5a279f0d7f9a437c370c0',
      icon: this.pullingIcon,
      lazy: false,
      "aria-hidden": "true"
    })), this.pullingText !== undefined && this.renderPullingText()), (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: '914ad6139442dac53af47120ea821fa11c309a38',
      class: "refresher-refreshing"
    }, this.refreshingSpinner && (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: '7eba732f5e2d72b90399d68a3e89617d8979b3d1',
      class: "refresher-refreshing-icon"
    }, (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-spinner", {
      key: '838d66d8bef6f56622c62b1068e7fed29e094302',
      name: this.refreshingSpinner
    })), this.refreshingText !== undefined && this.renderRefreshingText()));
  }
  get el() {
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXJlZnJlc2hlcl8yX2VudHJ5X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQzRJO0FBQ2xFO0FBQ29GO0FBQzVCO0FBQ3ZEO0FBQ0Q7QUFDWDtBQUNpQztBQUN0QjtBQUNaO0FBQ2pDO0FBQ0k7QUFDSjtBQUU3QixNQUFNMkMseUJBQXlCLEdBQUlDLFNBQVMsSUFBSztFQUM3QyxNQUFNQyxlQUFlLEdBQUdELFNBQVMsQ0FBQ0Usc0JBQXNCO0VBQ3hELE1BQU1DLFNBQVMsR0FBR0YsZUFBZSxLQUFLLElBQUksSUFBSUEsZUFBZSxDQUFDRyxPQUFPLEtBQUssWUFBWTtFQUN0RixPQUFPRCxTQUFTLEdBQUcsV0FBVyxHQUFHLE9BQU87QUFDNUMsQ0FBQztBQUNELE1BQU1FLHNCQUFzQixHQUFHQSxDQUFDQyxJQUFJLEVBQUVDLGNBQWMsRUFBRUMsV0FBVyxLQUFLO0VBQ2xFLE9BQU9GLElBQUksS0FBSyxPQUFPLEdBQ2pCRyxvQkFBb0IsQ0FBQ0YsY0FBYyxFQUFFQyxXQUFXLENBQUMsR0FDakRFLHdCQUF3QixDQUFDSCxjQUFjLEVBQUVDLFdBQVcsQ0FBQztBQUMvRCxDQUFDO0FBQ0QsTUFBTUcsbUJBQW1CLEdBQUlDLG9CQUFvQixJQUFLO0VBQ2xELE1BQU1DLE9BQU8sR0FBR0Qsb0JBQW9CLENBQUNFLGFBQWEsQ0FBQyxhQUFhLENBQUM7RUFDakUsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLFVBQVUsQ0FBQ0YsYUFBYSxDQUFDLFFBQVEsQ0FBQztFQUN6RCxNQUFNRyxxQkFBcUIsR0FBR0wsb0JBQW9CLENBQUNFLGFBQWEsQ0FBQywwQkFBMEIsQ0FBQztFQUM1RixNQUFNSSxjQUFjLEdBQUdOLG9CQUFvQixDQUFDRSxhQUFhLENBQUMsa0JBQWtCLENBQUM7RUFDN0UsTUFBTUssS0FBSyxHQUFHRCxjQUFjLEdBQUdBLGNB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QUE0QixDQUFDLEVBQUUzUCxxREFBQyxDQUFDLGFBQWEsRUFBRTtNQUFFeVAsR0FBRyxFQUFFLDBDQUEwQztNQUFFbUIsSUFBSSxFQUFFLElBQUksQ0FBQzdKO0lBQWtCLENBQUMsQ0FBQyxDQUFFLEVBQUUsSUFBSSxDQUFDcUosY0FBYyxLQUFLbEssU0FBUyxJQUFJLElBQUksQ0FBQ3dLLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQ3Y4QztFQUNBLElBQUlwTCxFQUFFQSxDQUFBLEVBQUc7SUFBRSxPQUFPcEYscURBQVUsQ0FBQyxJQUFJLENBQUM7RUFBRTtBQUN4QyxDQUFDIiwic291cmNlcyI6WyIuL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tcmVmcmVzaGVyXzIuZW50cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IHcgYXMgd3JpdGVUYXNrLCByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGMgYXMgY3JlYXRlRXZlbnQsIGQgYXMgcmVhZFRhc2ssIGgsIGYgYXMgZ2V0RWxlbWVudCwgZSBhcyBIb3N0IH0gZnJvbSAnLi9pbmRleC01MjdiOWUzNC5qcyc7XG5pbXBvcnQgeyBnIGFzIGdldFRpbWVHaXZlblByb2dyZXNzaW9uIH0gZnJvbSAnLi9jdWJpYy1iZXppZXItZmUyMDgzZGMuanMnO1xuaW1wb3J0IHsgSSBhcyBJT05fQ09OVEVOVF9DTEFTU19TRUxFQ1RPUiwgYiBhcyBJT05fQ09OVEVOVF9FTEVNRU5UX1NFTEVDVE9SLCBwIGFzIHByaW50SW9uQ29udGVudEVycm9yTXNnLCBnIGFzIGdldFNjcm9sbEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LWU5MTllMzUzLmpzJztcbmltcG9ydCB7IHQgYXMgdHJhbnNpdGlvbkVuZEFzeW5jLCBjIGFzIGNvbXBvbmVudE9uUmVhZHksIGogYXMgY2xhbXAsIGcgYXMgZ2V0RWxlbWVudFJvb3QsIHIgYXMgcmFmIH0gZnJvbSAnLi9oZWxwZXJzLTc4ZWZlZWMzLmpzJztcbmltcG9ydCB7IGQgYXMgaGFwdGljSW1wYWN0LCBJIGFzIEltcGFjdFN0eWxlIH0gZnJvbSAnLi9oYXB0aWMtYWMxNjRlNGMuanMnO1xuaW1wb3J0IHsgYiBhcyBnZXRJb25Nb2RlLCBjIGFzIGNvbmZpZyB9IGZyb20gJy4vaW9uaWMtZ2xvYmFsLWNhODZjZjMyLmpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlQW5pbWF0aW9uIH0gZnJvbSAnLi9hbmltYXRpb24tZWFiNWE0Y2EuanMnO1xuaW1wb3J0IHsgRSBhcyBFTkFCTEVfSFRNTF9DT05URU5UX0RFRkFVTFQsIGEgYXMgc2FuaXRpemVET01TdHJpbmcgfSBmcm9tICcuL2NvbmZpZy00OWM4ODIxNS5qcyc7XG5pbXBvcnQgeyBoIGFzIGNhcmV0QmFja1NoYXJwLCBpIGFzIGFycm93RG93biB9IGZyb20gJy4vaW5kZXgtZTJjZjJjZWIuanMnO1xuaW1wb3J0IHsgUyBhcyBTUElOTkVSUyB9IGZyb20gJy4vc3Bpbm5lci1jb25maWdzLTk2NGY3Y2YzLmpzJztcbmltcG9ydCAnLi9pbmRleC03MzhkNzUwNC5qcyc7XG5pbXBvcnQgJy4vY2FwYWNpdG9yLTU5Mzk1Y2JkLmpzJztcbmltcG9ydCAnLi9pbmRleC1hNWQ1MGRhZi5qcyc7XG5cbmNvbnN0IGdldFJlZnJlc2hlckFuaW1hdGlvblR5cGUgPSAoY29udGVudEVsKSA9PiB7XG4gICAgY29uc3QgcHJldmlvdXNTaWJsaW5nID0gY29udGVudEVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgY29uc3QgaGFzSGVhZGVyID0gcHJldmlvdXNTaWJsaW5nICE9PSBudWxsICYmIHByZXZpb3VzU2libGluZy50YWdOYW1lID09PSAnSU9OLUhFQURFUic7XG4gICAgcmV0dXJuIGhhc0hlYWRlciA/ICd0cmFuc2xhdGUnIDogJ3NjYWxlJztcbn07XG5jb25zdCBjcmVhdGVQdWxsaW5nQW5pbWF0aW9uID0gKHR5cGUsIHB1bGxpbmdTcGlubmVyLCByZWZyZXNoZXJFbCkgPT4ge1xuICAgIHJldHVybiB0eXBlID09PSAnc2NhbGUnXG4gICAgICAgID8gY3JlYXRlU2NhbGVBbmltYXRpb24ocHVsbGluZ1NwaW5uZXIsIHJlZnJlc2hlckVsKVxuICAgICAgICA6IGNyZWF0ZVRyYW5zbGF0ZUFuaW1hdGlvbihwdWxsaW5nU3Bpbm5lciwgcmVmcmVzaGVyRWwpO1xufTtcbmNvbnN0IGNyZWF0ZUJhc2VBbmltYXRpb24gPSAocHVsbGluZ1JlZnJlc2hlckljb24pID0+IHtcbiAgICBjb25zdCBzcGlubmVyID0gcHVsbGluZ1JlZnJlc2hlckljb24ucXVlcnlTZWxlY3RvcignaW9uLXNwaW5uZXInKTtcbiAgICBjb25zdCBjaXJjbGUgPSBzcGlubmVyLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignY2lyY2xlJyk7XG4gICAgY29uc3Qgc3Bpbm5lckFycm93Q29udGFpbmVyID0gcHVsbGluZ1JlZnJlc2hlckljb24ucXVlcnlTZWxlY3RvcignLnNwaW5uZXItYXJyb3ctY29udGFpbmVyJyk7XG4gICAgY29uc3QgYXJyb3dDb250YWluZXIgPSBwdWxsaW5nUmVmcmVzaGVySWNvbi5xdWVyeVNlbGVjdG9yKCcuYXJyb3ctY29udGFpbmVyJyk7XG4gICAgY29uc3QgYXJyb3cgPSBhcnJvd0NvbnRhaW5lciA/IGFycm93Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1pY29uJykgOiBudWxsO1xuICAgIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKS5kdXJhdGlvbigxMDAwKS5lYXNpbmcoJ2Vhc2Utb3V0Jyk7XG4gICAgY29uc3Qgc3Bpbm5lckFycm93Q29udGFpbmVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAgICAgLmFkZEVsZW1lbnQoc3Bpbm5lckFycm93Q29udGFpbmVyKVxuICAgICAgICAua2V5ZnJhbWVzKFtcbiAgICAgICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6ICcwLjMnIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAwLjQ1LCBvcGFjaXR5OiAnMC4zJyB9LFxuICAgICAgICB7IG9mZnNldDogMC41NSwgb3BhY2l0eTogJzEnIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAnMScgfSxcbiAgICBdKTtcbiAgICBjb25zdCBjaXJjbGVJbm5lckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgICAgIC5hZGRFbGVtZW50KGNpcmNsZSlcbiAgICAgICAgLmtleWZyYW1lcyhbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCBzdHJva2VEYXNoYXJyYXk6ICcxcHgsIDIwMHB4JyB9LFxuICAgICAgICB7IG9mZnNldDogMC4yLCBzdHJva2VEYXNoYXJyYXk6ICcxcHgsIDIwMHB4JyB9LFxuICAgICAgICB7IG9mZnNldDogMC41NSwgc3Ryb2tlRGFzaGFycmF5OiAnMTAwcHgsIDIwMHB4JyB9LFxuICAgICAgICB7IG9mZnNldDogMSwgc3Ryb2tlRGFzaGFycmF5OiAnMTAwcHgsIDIwMHB4JyB9LFxuICAgIF0pO1xuICAgIGNvbnN0IGNpcmNsZU91dGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAgICAgLmFkZEVsZW1lbnQoc3Bpbm5lcilcbiAgICAgICAgLmtleWZyYW1lcyhbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCB0cmFuc2Zvcm06ICdyb3RhdGUoLTkwZGVnKScgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDEsIHRyYW5zZm9ybTogJ3JvdGF0ZSgyMTBkZWcpJyB9LFxuICAgIF0pO1xuICAgIC8qKlxuICAgICAqIE9ubHkgYWRkIGFycm93IGFuaW1hdGlvbiBpZiBwcmVzZW50XG4gICAgICogdGhpcyBhbGxvd3MgdXNlcnMgdG8gY3VzdG9taXplIHRoZSBzcGlubmVyc1xuICAgICAqIHdpdGhvdXQgZXJyb3JzIGJlaW5nIHRocm93blxuICAgICAqL1xuICAgIGlmIChhcnJvd0NvbnRhaW5lciAmJiBhcnJvdykge1xuICAgICAgICBjb25zdCBhcnJvd0NvbnRhaW5lckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgICAgICAgICAuYWRkRWxlbWVudChhcnJvd0NvbnRhaW5lcilcbiAgICAgICAgICAgIC5rZXlmcmFtZXMoW1xuICAgICAgICAgICAgeyBvZmZzZXQ6IDAsIHRyYW5zZm9ybTogJ3JvdGF0ZSgwZGVnKScgfSxcbiAgICAgICAgICAgIHsgb2Zmc2V0OiAwLjMsIHRyYW5zZm9ybTogJ3JvdGF0ZSgwZGVnKScgfSxcbiAgICAgICAgICAgIHsgb2Zmc2V0OiAwLjU1LCB0cmFuc2Zvcm06ICdyb3RhdGUoMjgwZGVnKScgfSxcbiAgICAgICAgICAgIHsgb2Zmc2V0OiAxLCB0cmFuc2Zvcm06ICdyb3RhdGUoNDAwZGVnKScgfSxcbiAgICAgICAgXSk7XG4gICAgICAgIGNvbnN0IGFycm93QW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAgICAgICAgIC5hZGRFbGVtZW50KGFycm93KVxuICAgICAgICAgICAgLmtleWZyYW1lcyhbXG4gICAgICAgICAgICB7IG9mZnNldDogMCwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgycHgpIHNjYWxlKDApJyB9LFxuICAgICAgICAgICAgeyBvZmZzZXQ6IDAuMywgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgycHgpIHNjYWxlKDApJyB9LFxuICAgICAgICAgICAgeyBvZmZzZXQ6IDAuNTUsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoLTEuNXB4KSBzY2FsZSgxKScgfSxcbiAgICAgICAgICAgIHsgb2Zmc2V0OiAxLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKC0xLjVweCkgc2NhbGUoMSknIH0sXG4gICAgICAgIF0pO1xuICAgICAgICBiYXNlQW5pbWF0aW9uLmFkZEFuaW1hdGlvbihbYXJyb3dDb250YWluZXJBbmltYXRpb24sIGFycm93QW5pbWF0aW9uXSk7XG4gICAgfVxuICAgIHJldHVybiBiYXNlQW5pbWF0aW9uLmFkZEFuaW1hdGlvbihbc3Bpbm5lckFycm93Q29udGFpbmVyQW5pbWF0aW9uLCBjaXJjbGVJbm5lckFuaW1hdGlvbiwgY2lyY2xlT3V0ZXJBbmltYXRpb25dKTtcbn07XG5jb25zdCBjcmVhdGVTY2FsZUFuaW1hdGlvbiA9IChwdWxsaW5nUmVmcmVzaGVySWNvbiwgcmVmcmVzaGVyRWwpID0+IHtcbiAgICAvKipcbiAgICAgKiBEbyBub3QgdGFrZSB0aGUgaGVpZ2h0IG9mIHRoZSByZWZyZXNoZXIgaWNvblxuICAgICAqIGJlY2F1c2UgYXQgdGhpcyBwb2ludCB0aGUgRE9NIGhhcyBub3QgdXBkYXRlZCxcbiAgICAgKiBzbyB0aGUgcmVmcmVzaGVyIGljb24gaXMgc3RpbGwgaGlkZGVuIHdpdGhcbiAgICAgKiBkaXNwbGF5OiBub25lLlxuICAgICAqIFRoZSBgaW9uLXJlZnJlc2hlcmAgY29udGFpbmVyIGhlaWdodFxuICAgICAqIGlzIHJvdWdobHkgdGhlIGFtb3VudCB3ZSBuZWVkIHRvIG9mZnNldFxuICAgICAqIHRoZSBpY29uIGJ5IHdoZW4gcHVsbGluZyBkb3duLlxuICAgICAqL1xuICAgIGNvbnN0IGhlaWdodCA9IHJlZnJlc2hlckVsLmNsaWVudEhlaWdodDtcbiAgICBjb25zdCBzcGlubmVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAgICAgLmFkZEVsZW1lbnQocHVsbGluZ1JlZnJlc2hlckljb24pXG4gICAgICAgIC5rZXlmcmFtZXMoW1xuICAgICAgICB7IG9mZnNldDogMCwgdHJhbnNmb3JtOiBgc2NhbGUoMCkgdHJhbnNsYXRlWSgtJHtoZWlnaHR9cHgpYCB9LFxuICAgICAgICB7IG9mZnNldDogMSwgdHJhbnNmb3JtOiAnc2NhbGUoMSkgdHJhbnNsYXRlWSgxMDBweCknIH0sXG4gICAgXSk7XG4gICAgcmV0dXJuIGNyZWF0ZUJhc2VBbmltYXRpb24ocHVsbGluZ1JlZnJlc2hlckljb24pLmFkZEFuaW1hdGlvbihbc3Bpbm5lckFuaW1hdGlvbl0pO1xufTtcbmNvbnN0IGNyZWF0ZVRyYW5zbGF0ZUFuaW1hdGlvbiA9IChwdWxsaW5nUmVmcmVzaGVySWNvbiwgcmVmcmVzaGVyRWwpID0+IHtcbiAgICAvKipcbiAgICAgKiBEbyBub3QgdGFrZSB0aGUgaGVpZ2h0IG9mIHRoZSByZWZyZXNoZXIgaWNvblxuICAgICAqIGJlY2F1c2UgYXQgdGhpcyBwb2ludCB0aGUgRE9NIGhhcyBub3QgdXBkYXRlZCxcbiAgICAgKiBzbyB0aGUgcmVmcmVzaGVyIGljb24gaXMgc3RpbGwgaGlkZGVuIHdpdGhcbiAgICAgKiBkaXNwbGF5OiBub25lLlxuICAgICAqIFRoZSBgaW9uLXJlZnJlc2hlcmAgY29udGFpbmVyIGhlaWdodFxuICAgICAqIGlzIHJvdWdobHkgdGhlIGFtb3VudCB3ZSBuZWVkIHRvIG9mZnNldFxuICAgICAqIHRoZSBpY29uIGJ5IHdoZW4gcHVsbGluZyBkb3duLlxuICAgICAqL1xuICAgIGNvbnN0IGhlaWdodCA9IHJlZnJlc2hlckVsLmNsaWVudEhlaWdodDtcbiAgICBjb25zdCBzcGlubmVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAgICAgLmFkZEVsZW1lbnQocHVsbGluZ1JlZnJlc2hlckljb24pXG4gICAgICAgIC5rZXlmcmFtZXMoW1xuICAgICAgICB7IG9mZnNldDogMCwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgtJHtoZWlnaHR9cHgpYCB9LFxuICAgICAgICB7IG9mZnNldDogMSwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgxMDBweCknIH0sXG4gICAgXSk7XG4gICAgcmV0dXJuIGNyZWF0ZUJhc2VBbmltYXRpb24ocHVsbGluZ1JlZnJlc2hlckljb24pLmFkZEFuaW1hdGlvbihbc3Bpbm5lckFuaW1hdGlvbl0pO1xufTtcbmNvbnN0IGNyZWF0ZVNuYXBCYWNrQW5pbWF0aW9uID0gKHB1bGxpbmdSZWZyZXNoZXJJY29uKSA9PiB7XG4gICAgcmV0dXJuIGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgICAgIC5kdXJhdGlvbigxMjUpXG4gICAgICAgIC5hZGRFbGVtZW50KHB1bGxpbmdSZWZyZXNoZXJJY29uKVxuICAgICAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWSh2YXIoLS1pb24tcHVsbGluZy1yZWZyZXNoZXItdHJhbnNsYXRlLCAxMDBweCkpJywgJ3RyYW5zbGF0ZVkoMHB4KScpO1xufTtcbi8vIGlPUyBOYXRpdmUgUmVmcmVzaGVyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuY29uc3Qgc2V0U3Bpbm5lck9wYWNpdHkgPSAoc3Bpbm5lciwgb3BhY2l0eSkgPT4ge1xuICAgIHNwaW5uZXIuc3R5bGUuc2V0UHJvcGVydHkoJ29wYWNpdHknLCBvcGFjaXR5LnRvU3RyaW5nKCkpO1xufTtcbmNvbnN0IGhhbmRsZVNjcm9sbFdoaWxlUHVsbGluZyA9ICh0aWNrcywgbnVtVGlja3MsIHB1bGxBbW91bnQpID0+IHtcbiAgICBjb25zdCBtYXggPSAxO1xuICAgIHdyaXRlVGFzaygoKSA9PiB7XG4gICAgICAgIHRpY2tzLmZvckVhY2goKGVsLCBpKSA9PiB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbXB1dGUgdGhlIG9wYWNpdHkgb2YgZWFjaCB0aWNrXG4gICAgICAgICAgICAgKiBtYXJrIGFzIGEgcGVyY2VudGFnZSBvZiB0aGUgcHVsbEFtb3VudFxuICAgICAgICAgICAgICogb2Zmc2V0IGJ5IG1heCAvIG51bVRpY2tzIHNvXG4gICAgICAgICAgICAgKiB0aGUgdGljayBtYXJrcyBhcmUgc2hvd24gc3RhZ2dlcmVkLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBtaW4gPSBpICogKG1heCAvIG51bVRpY2tzKTtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gbWF4IC0gbWluO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBwdWxsQW1vdW50IC0gbWluO1xuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3Npb24gPSBjbGFtcCgwLCBzdGFydCAvIHJhbmdlLCAxKTtcbiAgICAgICAgICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KCdvcGFjaXR5JywgcHJvZ3Jlc3Npb24udG9TdHJpbmcoKSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbmNvbnN0IGhhbmRsZVNjcm9sbFdoaWxlUmVmcmVzaGluZyA9IChzcGlubmVyLCBsYXN0VmVsb2NpdHlZKSA9PiB7XG4gICAgd3JpdGVUYXNrKCgpID0+IHtcbiAgICAgICAgLy8gSWYgdXNlciBwdWxscyBkb3duIHF1aWNrbHksIHRoZSBzcGlubmVyIHNob3VsZCBzcGluIGZhc3RlclxuICAgICAgICBzcGlubmVyLnN0eWxlLnNldFByb3BlcnR5KCctLXJlZnJlc2hpbmctcm90YXRpb24tZHVyYXRpb24nLCBsYXN0VmVsb2NpdHlZID49IDEuMCA/ICcwLjVzJyA6ICcycycpO1xuICAgICAgICBzcGlubmVyLnN0eWxlLnNldFByb3BlcnR5KCdvcGFjaXR5JywgJzEnKTtcbiAgICB9KTtcbn07XG5jb25zdCB0cmFuc2xhdGVFbGVtZW50ID0gKGVsLCB2YWx1ZSwgZHVyYXRpb24gPSAyMDApID0+IHtcbiAgICBpZiAoIWVsKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgY29uc3QgdHJhbnMgPSB0cmFuc2l0aW9uRW5kQXN5bmMoZWwsIGR1cmF0aW9uKTtcbiAgICB3cml0ZVRhc2soKCkgPT4ge1xuICAgICAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eSgndHJhbnNpdGlvbicsIGAke2R1cmF0aW9ufW1zIGFsbCBlYXNlLW91dGApO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RyYW5zZm9ybScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWwuc3R5bGUuc2V0UHJvcGVydHkoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUzZCgwcHgsICR7dmFsdWV9LCAwcHgpYCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdHJhbnM7XG59O1xuLy8gVXRpbHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKipcbiAqIEluIG9yZGVyIHRvIHVzZSB0aGUgbmF0aXZlIGlPUyByZWZyZXNoZXIgdGhlIGRldmljZSBtdXN0IHN1cHBvcnQgcnViYmVyIGJhbmQgc2Nyb2xsaW5nLlxuICogQXMgcGFydCBvZiB0aGlzLCB3ZSBuZWVkIHRvIGV4Y2x1ZGUgRGVza3RvcCBTYWZhcmkgYmVjYXVzZSBpdCBoYXMgYSBzbGlnaHRseSBkaWZmZXJlbnQgcnViYmVyIGJhbmQgZWZmZWN0IHRoYXQgaXMgbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgbmF0aXZlIHJlZnJlc2hlciBpbiBJb25pYy5cbiAqXG4gKiBXZSBhbHNvIG5lZWQgdG8gYmUgY2FyZWZ1bCBub3QgdG8gaW5jbHVkZSBkZXZpY2VzIHRoYXQgc3Bvb2YgdGhlaXIgdXNlciBhZ2VudC5cbiAqIEZvciBleGFtcGxlLCB3aGVuIHVzaW5nIGlPUyBlbXVsYXRpb24gaW4gQ2hyb21lIHRoZSB1c2VyIGFnZW50IHdpbGwgYmUgc3Bvb2ZlZCBzdWNoIHRoYXRcbiAqIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50ZXIgPiAwLiBUbyB3b3JrIGFyb3VuZCB0aGlzLFxuICogd2UgY2hlY2sgdG8gc2VlIGlmIHRoZSBhcHBsZS1wYXktbG9nbyBpcyBzdXBwb3J0ZWQgYXMgYSBuYW1lZCBpbWFnZSB3aGljaCBpcyBvbmx5XG4gKiB0cnVlIG9uIEFwcGxlIGRldmljZXMuXG4gKlxuICogV2UgcHJldmlvdXNseSBjaGVja2VkIHJlZmVyZW5jRWwuc3R5bGUud2Via2l0T3ZlcmZsb3dTY3JvbGxpbmcgdG8gZXhwbGljaXRseSBjaGVja1xuICogZm9yIHJ1YmJlciBiYW5kIHN1cHBvcnQuIEhvd2V2ZXIsIHRoaXMgcHJvcGVydHkgd2FzIHJlbW92ZWQgb24gaVBhZE9TIGFuZCBpdCdzIHBvc3NpYmxlXG4gKiB0aGF0IHRoaXMgd2lsbCBiZSByZW1vdmVkIG9uIGlPUyBpbiB0aGUgZnV0dXJlIHRvby5cbiAqXG4gKi9cbmNvbnN0IHN1cHBvcnRzUnViYmVyQmFuZFNjcm9sbGluZyA9ICgpID0+IHtcbiAgICByZXR1cm4gbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMCAmJiBDU1Muc3VwcG9ydHMoJ2JhY2tncm91bmQ6IC13ZWJraXQtbmFtZWQtaW1hZ2UoYXBwbGUtcGF5LWxvZ28tYmxhY2spJyk7XG59O1xuY29uc3Qgc2hvdWxkVXNlTmF0aXZlUmVmcmVzaGVyID0gYXN5bmMgKHJlZmVyZW5jZUVsLCBtb2RlKSA9PiB7XG4gICAgY29uc3QgcmVmcmVzaGVyQ29udGVudCA9IHJlZmVyZW5jZUVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1yZWZyZXNoZXItY29udGVudCcpO1xuICAgIGlmICghcmVmcmVzaGVyQ29udGVudCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcbiAgICB9XG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IGNvbXBvbmVudE9uUmVhZHkocmVmcmVzaGVyQ29udGVudCwgcmVzb2x2ZSkpO1xuICAgIGNvbnN0IHB1bGxpbmdTcGlubmVyID0gcmVmZXJlbmNlRWwucXVlcnlTZWxlY3RvcignaW9uLXJlZnJlc2hlci1jb250ZW50IC5yZWZyZXNoZXItcHVsbGluZyBpb24tc3Bpbm5lcicpO1xuICAgIGNvbnN0IHJlZnJlc2hpbmdTcGlubmVyID0gcmVmZXJlbmNlRWwucXVlcnlTZWxlY3RvcignaW9uLXJlZnJlc2hlci1jb250ZW50IC5yZWZyZXNoZXItcmVmcmVzaGluZyBpb24tc3Bpbm5lcicpO1xuICAgIHJldHVybiAocHVsbGluZ1NwaW5uZXIgIT09IG51bGwgJiZcbiAgICAgICAgcmVmcmVzaGluZ1NwaW5uZXIgIT09IG51bGwgJiZcbiAgICAgICAgKChtb2RlID09PSAnaW9zJyAmJiBzdXBwb3J0c1J1YmJlckJhbmRTY3JvbGxpbmcoKSkgfHwgbW9kZSA9PT0gJ21kJykpO1xufTtcblxuY29uc3QgcmVmcmVzaGVySW9zQ3NzID0gXCJpb24tcmVmcmVzaGVye3RvcDowO2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDo2MHB4O3BvaW50ZXItZXZlbnRzOm5vbmU7ei1pbmRleDotMX1pb24tcmVmcmVzaGVye2luc2V0LWlubGluZS1zdGFydDowfWlvbi1yZWZyZXNoZXIucmVmcmVzaGVyLWFjdGl2ZXtkaXNwbGF5OmJsb2NrfWlvbi1yZWZyZXNoZXItY29udGVudHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2hlaWdodDoxMDAlfS5yZWZyZXNoZXItcHVsbGluZywucmVmcmVzaGVyLXJlZnJlc2hpbmd7ZGlzcGxheTpub25lO3dpZHRoOjEwMCV9LnJlZnJlc2hlci1wdWxsaW5nLWljb24sLnJlZnJlc2hlci1yZWZyZXNoaW5nLWljb257LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjstd2Via2l0LXRyYW5zaXRpb246MjAwbXM7dHJhbnNpdGlvbjoyMDBtcztmb250LXNpemU6MzBweDt0ZXh0LWFsaWduOmNlbnRlcn06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLnJlZnJlc2hlci1wdWxsaW5nLWljb24sOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pIC5yZWZyZXNoZXItcmVmcmVzaGluZy1pY29uey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpjYWxjKDEwMCUgLSBjZW50ZXIpO3RyYW5zZm9ybS1vcmlnaW46Y2FsYygxMDAlIC0gY2VudGVyKX1bZGlyPXJ0bF0gLnJlZnJlc2hlci1wdWxsaW5nLWljb24sW2Rpcj1ydGxdIC5yZWZyZXNoZXItcmVmcmVzaGluZy1pY29uey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpjYWxjKDEwMCUgLSBjZW50ZXIpO3RyYW5zZm9ybS1vcmlnaW46Y2FsYygxMDAlIC0gY2VudGVyKX1Ac3VwcG9ydHMgc2VsZWN0b3IoOmRpcihydGwpKXsucmVmcmVzaGVyLXB1bGxpbmctaWNvbjpkaXIocnRsKSwucmVmcmVzaGVyLXJlZnJlc2hpbmctaWNvbjpkaXIocnRsKXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46Y2FsYygxMDAlIC0gY2VudGVyKTt0cmFuc2Zvcm0tb3JpZ2luOmNhbGMoMTAwJSAtIGNlbnRlcil9fS5yZWZyZXNoZXItcHVsbGluZy10ZXh0LC5yZWZyZXNoZXItcmVmcmVzaGluZy10ZXh0e2ZvbnQtc2l6ZToxNnB4O3RleHQtYWxpZ246Y2VudGVyfWlvbi1yZWZyZXNoZXItY29udGVudCAuYXJyb3ctY29udGFpbmVye2Rpc3BsYXk6bm9uZX0ucmVmcmVzaGVyLXB1bGxpbmcgaW9uLXJlZnJlc2hlci1jb250ZW50IC5yZWZyZXNoZXItcHVsbGluZ3tkaXNwbGF5OmJsb2NrfS5yZWZyZXNoZXItcmVhZHkgaW9uLXJlZnJlc2hlci1jb250ZW50IC5yZWZyZXNoZXItcHVsbGluZ3tkaXNwbGF5OmJsb2NrfS5yZWZyZXNoZXItcmVhZHkgaW9uLXJlZnJlc2hlci1jb250ZW50IC5yZWZyZXNoZXItcHVsbGluZy1pY29uey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMTgwZGVnKX0ucmVmcmVzaGVyLXJlZnJlc2hpbmcgaW9uLXJlZnJlc2hlci1jb250ZW50IC5yZWZyZXNoZXItcmVmcmVzaGluZ3tkaXNwbGF5OmJsb2NrfS5yZWZyZXNoZXItY2FuY2VsbGluZyBpb24tcmVmcmVzaGVyLWNvbnRlbnQgLnJlZnJlc2hlci1wdWxsaW5ne2Rpc3BsYXk6YmxvY2t9LnJlZnJlc2hlci1jYW5jZWxsaW5nIGlvbi1yZWZyZXNoZXItY29udGVudCAucmVmcmVzaGVyLXB1bGxpbmctaWNvbnstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgwKTt0cmFuc2Zvcm06c2NhbGUoMCl9LnJlZnJlc2hlci1jb21wbGV0aW5nIGlvbi1yZWZyZXNoZXItY29udGVudCAucmVmcmVzaGVyLXJlZnJlc2hpbmd7ZGlzcGxheTpibG9ja30ucmVmcmVzaGVyLWNvbXBsZXRpbmcgaW9uLXJlZnJlc2hlci1jb250ZW50IC5yZWZyZXNoZXItcmVmcmVzaGluZy1pY29uey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDApO3RyYW5zZm9ybTpzY2FsZSgwKX0ucmVmcmVzaGVyLW5hdGl2ZSAucmVmcmVzaGVyLXB1bGxpbmctdGV4dCwucmVmcmVzaGVyLW5hdGl2ZSAucmVmcmVzaGVyLXJlZnJlc2hpbmctdGV4dHtkaXNwbGF5Om5vbmV9LnJlZnJlc2hlci1pb3MgLnJlZnJlc2hlci1wdWxsaW5nLWljb24sLnJlZnJlc2hlci1pb3MgLnJlZnJlc2hlci1yZWZyZXNoaW5nLWljb257Y29sb3I6dmFyKC0taW9uLXRleHQtY29sb3IsICMwMDApfS5yZWZyZXNoZXItaW9zIC5yZWZyZXNoZXItcHVsbGluZy10ZXh0LC5yZWZyZXNoZXItaW9zIC5yZWZyZXNoZXItcmVmcmVzaGluZy10ZXh0e2NvbG9yOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKX0ucmVmcmVzaGVyLWlvcyAucmVmcmVzaGVyLXJlZnJlc2hpbmcgLnNwaW5uZXItbGluZXMtaW9zIGxpbmUsLnJlZnJlc2hlci1pb3MgLnJlZnJlc2hlci1yZWZyZXNoaW5nIC5zcGlubmVyLWxpbmVzLXNtYWxsLWlvcyBsaW5lLC5yZWZyZXNoZXItaW9zIC5yZWZyZXNoZXItcmVmcmVzaGluZyAuc3Bpbm5lci1jcmVzY2VudCBjaXJjbGV7c3Ryb2tlOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKX0ucmVmcmVzaGVyLWlvcyAucmVmcmVzaGVyLXJlZnJlc2hpbmcgLnNwaW5uZXItYnViYmxlcyBjaXJjbGUsLnJlZnJlc2hlci1pb3MgLnJlZnJlc2hlci1yZWZyZXNoaW5nIC5zcGlubmVyLWNpcmNsZXMgY2lyY2xlLC5yZWZyZXNoZXItaW9zIC5yZWZyZXNoZXItcmVmcmVzaGluZyAuc3Bpbm5lci1kb3RzIGNpcmNsZXtmaWxsOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKX1pb24tcmVmcmVzaGVyLnJlZnJlc2hlci1uYXRpdmV7ZGlzcGxheTpibG9jazt6LWluZGV4OjF9aW9uLXJlZnJlc2hlci5yZWZyZXNoZXItbmF0aXZlIGlvbi1zcGlubmVyey13ZWJraXQtbWFyZ2luLXN0YXJ0OmF1dG87bWFyZ2luLWlubGluZS1zdGFydDphdXRvOy13ZWJraXQtbWFyZ2luLWVuZDphdXRvO21hcmdpbi1pbmxpbmUtZW5kOmF1dG87bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MH0ucmVmcmVzaGVyLW5hdGl2ZSAucmVmcmVzaGVyLXJlZnJlc2hpbmcgaW9uLXNwaW5uZXJ7LS1yZWZyZXNoaW5nLXJvdGF0aW9uLWR1cmF0aW9uOjJzO2Rpc3BsYXk6bm9uZTstd2Via2l0LWFuaW1hdGlvbjp2YXIoLS1yZWZyZXNoaW5nLXJvdGF0aW9uLWR1cmF0aW9uKSBlYXNlLW91dCByZWZyZXNoZXItcm90YXRlIGZvcndhcmRzO2FuaW1hdGlvbjp2YXIoLS1yZWZyZXNoaW5nLXJvdGF0aW9uLWR1cmF0aW9uKSBlYXNlLW91dCByZWZyZXNoZXItcm90YXRlIGZvcndhcmRzfS5yZWZyZXNoZXItbmF0aXZlIC5yZWZyZXNoZXItcmVmcmVzaGluZ3tkaXNwbGF5Om5vbmU7LXdlYmtpdC1hbmltYXRpb246MjUwbXMgbGluZWFyIHJlZnJlc2hlci1wb3AgZm9yd2FyZHM7YW5pbWF0aW9uOjI1MG1zIGxpbmVhciByZWZyZXNoZXItcG9wIGZvcndhcmRzfS5yZWZyZXNoZXItbmF0aXZlIGlvbi1zcGlubmVye3dpZHRoOjMycHg7aGVpZ2h0OjMycHg7Y29sb3I6dmFyKC0taW9uLWNvbG9yLXN0ZXAtNDUwLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1zdGVwLTQ1MCwgIzc0NzU3NykpfS5yZWZyZXNoZXItbmF0aXZlLnJlZnJlc2hlci1yZWZyZXNoaW5nIC5yZWZyZXNoZXItcHVsbGluZyBpb24tc3Bpbm5lciwucmVmcmVzaGVyLW5hdGl2ZS5yZWZyZXNoZXItY29tcGxldGluZyAucmVmcmVzaGVyLXB1bGxpbmcgaW9uLXNwaW5uZXJ7ZGlzcGxheTpub25lfS5yZWZyZXNoZXItbmF0aXZlLnJlZnJlc2hlci1yZWZyZXNoaW5nIC5yZWZyZXNoZXItcmVmcmVzaGluZyBpb24tc3Bpbm5lciwucmVmcmVzaGVyLW5hdGl2ZS5yZWZyZXNoZXItY29tcGxldGluZyAucmVmcmVzaGVyLXJlZnJlc2hpbmcgaW9uLXNwaW5uZXJ7ZGlzcGxheTpibG9ja30ucmVmcmVzaGVyLW5hdGl2ZS5yZWZyZXNoZXItcHVsbGluZyAucmVmcmVzaGVyLXB1bGxpbmcgaW9uLXNwaW5uZXJ7ZGlzcGxheTpibG9ja30ucmVmcmVzaGVyLW5hdGl2ZS5yZWZyZXNoZXItcHVsbGluZyAucmVmcmVzaGVyLXJlZnJlc2hpbmcgaW9uLXNwaW5uZXJ7ZGlzcGxheTpub25lfS5yZWZyZXNoZXItbmF0aXZlLnJlZnJlc2hlci1jb21wbGV0aW5nIGlvbi1yZWZyZXNoZXItY29udGVudCAucmVmcmVzaGVyLXJlZnJlc2hpbmctaWNvbnstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgwKSByb3RhdGUoMTgwZGVnKTt0cmFuc2Zvcm06c2NhbGUoMCkgcm90YXRlKDE4MGRlZyk7LXdlYmtpdC10cmFuc2l0aW9uOjMwMG1zO3RyYW5zaXRpb246MzAwbXN9QC13ZWJraXQta2V5ZnJhbWVzIHJlZnJlc2hlci1wb3B7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbn01MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4yKTt0cmFuc2Zvcm06c2NhbGUoMS4yKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1vdXQ7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLW91dH0xMDAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX19QGtleWZyYW1lcyByZWZyZXNoZXItcG9wezAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbjthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW59NTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMik7dHJhbnNmb3JtOnNjYWxlKDEuMik7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2Utb3V0O2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1vdXR9MTAwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9fUAtd2Via2l0LWtleWZyYW1lcyByZWZyZXNoZXItcm90YXRle2Zyb217LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpfX1Aa2V5ZnJhbWVzIHJlZnJlc2hlci1yb3RhdGV7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMTgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDE4MGRlZyl9fVwiO1xuY29uc3QgSW9uUmVmcmVzaGVySW9zU3R5bGUwID0gcmVmcmVzaGVySW9zQ3NzO1xuXG5jb25zdCByZWZyZXNoZXJNZENzcyA9IFwiaW9uLXJlZnJlc2hlcnt0b3A6MDtkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6NjBweDtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6LTF9aW9uLXJlZnJlc2hlcntpbnNldC1pbmxpbmUtc3RhcnQ6MH1pb24tcmVmcmVzaGVyLnJlZnJlc2hlci1hY3RpdmV7ZGlzcGxheTpibG9ja31pb24tcmVmcmVzaGVyLWNvbnRlbnR7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtoZWlnaHQ6MTAwJX0ucmVmcmVzaGVyLXB1bGxpbmcsLnJlZnJlc2hlci1yZWZyZXNoaW5ne2Rpc3BsYXk6bm9uZTt3aWR0aDoxMDAlfS5yZWZyZXNoZXItcHVsbGluZy1pY29uLC5yZWZyZXNoZXItcmVmcmVzaGluZy1pY29uey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpjZW50ZXI7dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXI7LXdlYmtpdC10cmFuc2l0aW9uOjIwMG1zO3RyYW5zaXRpb246MjAwbXM7Zm9udC1zaXplOjMwcHg7dGV4dC1hbGlnbjpjZW50ZXJ9Omhvc3QtY29udGV4dChbZGlyPXJ0bF0pIC5yZWZyZXNoZXItcHVsbGluZy1pY29uLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAucmVmcmVzaGVyLXJlZnJlc2hpbmctaWNvbnstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46Y2FsYygxMDAlIC0gY2VudGVyKTt0cmFuc2Zvcm0tb3JpZ2luOmNhbGMoMTAwJSAtIGNlbnRlcil9W2Rpcj1ydGxdIC5yZWZyZXNoZXItcHVsbGluZy1pY29uLFtkaXI9cnRsXSAucmVmcmVzaGVyLXJlZnJlc2hpbmctaWNvbnstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46Y2FsYygxMDAlIC0gY2VudGVyKTt0cmFuc2Zvcm0tb3JpZ2luOmNhbGMoMTAwJSAtIGNlbnRlcil9QHN1cHBvcnRzIHNlbGVjdG9yKDpkaXIocnRsKSl7LnJlZnJlc2hlci1wdWxsaW5nLWljb246ZGlyKHJ0bCksLnJlZnJlc2hlci1yZWZyZXNoaW5nLWljb246ZGlyKHJ0bCl7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmNhbGMoMTAwJSAtIGNlbnRlcik7dHJhbnNmb3JtLW9yaWdpbjpjYWxjKDEwMCUgLSBjZW50ZXIpfX0ucmVmcmVzaGVyLXB1bGxpbmctdGV4dCwucmVmcmVzaGVyLXJlZnJlc2hpbmctdGV4dHtmb250LXNpemU6MTZweDt0ZXh0LWFsaWduOmNlbnRlcn1pb24tcmVmcmVzaGVyLWNvbnRlbnQgLmFycm93LWNvbnRhaW5lcntkaXNwbGF5Om5vbmV9LnJlZnJlc2hlci1wdWxsaW5nIGlvbi1yZWZyZXNoZXItY29udGVudCAucmVmcmVzaGVyLXB1bGxpbmd7ZGlzcGxheTpibG9ja30ucmVmcmVzaGVyLXJlYWR5IGlvbi1yZWZyZXNoZXItY29udGVudCAucmVmcmVzaGVyLXB1bGxpbmd7ZGlzcGxheTpibG9ja30ucmVmcmVzaGVyLXJlYWR5IGlvbi1yZWZyZXNoZXItY29udGVudCAucmVmcmVzaGVyLXB1bGxpbmctaWNvbnstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMTgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDE4MGRlZyl9LnJlZnJlc2hlci1yZWZyZXNoaW5nIGlvbi1yZWZyZXNoZXItY29udGVudCAucmVmcmVzaGVyLXJlZnJlc2hpbmd7ZGlzcGxheTpibG9ja30ucmVmcmVzaGVyLWNhbmNlbGxpbmcgaW9uLXJlZnJlc2hlci1jb250ZW50IC5yZWZyZXNoZXItcHVsbGluZ3tkaXNwbGF5OmJsb2NrfS5yZWZyZXNoZXItY2FuY2VsbGluZyBpb24tcmVmcmVzaGVyLWNvbnRlbnQgLnJlZnJlc2hlci1wdWxsaW5nLWljb257LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMCk7dHJhbnNmb3JtOnNjYWxlKDApfS5yZWZyZXNoZXItY29tcGxldGluZyBpb24tcmVmcmVzaGVyLWNvbnRlbnQgLnJlZnJlc2hlci1yZWZyZXNoaW5ne2Rpc3BsYXk6YmxvY2t9LnJlZnJlc2hlci1jb21wbGV0aW5nIGlvbi1yZWZyZXNoZXItY29udGVudCAucmVmcmVzaGVyLXJlZnJlc2hpbmctaWNvbnstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgwKTt0cmFuc2Zvcm06c2NhbGUoMCl9LnJlZnJlc2hlci1uYXRpdmUgLnJlZnJlc2hlci1wdWxsaW5nLXRleHQsLnJlZnJlc2hlci1uYXRpdmUgLnJlZnJlc2hlci1yZWZyZXNoaW5nLXRleHR7ZGlzcGxheTpub25lfS5yZWZyZXNoZXItbWQgLnJlZnJlc2hlci1wdWxsaW5nLWljb24sLnJlZnJlc2hlci1tZCAucmVmcmVzaGVyLXJlZnJlc2hpbmctaWNvbntjb2xvcjp2YXIoLS1pb24tdGV4dC1jb2xvciwgIzAwMCl9LnJlZnJlc2hlci1tZCAucmVmcmVzaGVyLXB1bGxpbmctdGV4dCwucmVmcmVzaGVyLW1kIC5yZWZyZXNoZXItcmVmcmVzaGluZy10ZXh0e2NvbG9yOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKX0ucmVmcmVzaGVyLW1kIC5yZWZyZXNoZXItcmVmcmVzaGluZyAuc3Bpbm5lci1saW5lcy1tZCBsaW5lLC5yZWZyZXNoZXItbWQgLnJlZnJlc2hlci1yZWZyZXNoaW5nIC5zcGlubmVyLWxpbmVzLXNtYWxsLW1kIGxpbmUsLnJlZnJlc2hlci1tZCAucmVmcmVzaGVyLXJlZnJlc2hpbmcgLnNwaW5uZXItY3Jlc2NlbnQgY2lyY2xle3N0cm9rZTp2YXIoLS1pb24tdGV4dC1jb2xvciwgIzAwMCl9LnJlZnJlc2hlci1tZCAucmVmcmVzaGVyLXJlZnJlc2hpbmcgLnNwaW5uZXItYnViYmxlcyBjaXJjbGUsLnJlZnJlc2hlci1tZCAucmVmcmVzaGVyLXJlZnJlc2hpbmcgLnNwaW5uZXItY2lyY2xlcyBjaXJjbGUsLnJlZnJlc2hlci1tZCAucmVmcmVzaGVyLXJlZnJlc2hpbmcgLnNwaW5uZXItZG90cyBjaXJjbGV7ZmlsbDp2YXIoLS1pb24tdGV4dC1jb2xvciwgIzAwMCl9aW9uLXJlZnJlc2hlci5yZWZyZXNoZXItbmF0aXZle2Rpc3BsYXk6YmxvY2s7ei1pbmRleDoxfWlvbi1yZWZyZXNoZXIucmVmcmVzaGVyLW5hdGl2ZSBpb24tc3Bpbm5lcnstd2Via2l0LW1hcmdpbi1zdGFydDphdXRvO21hcmdpbi1pbmxpbmUtc3RhcnQ6YXV0bzstd2Via2l0LW1hcmdpbi1lbmQ6YXV0bzttYXJnaW4taW5saW5lLWVuZDphdXRvO21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjA7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtjb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzAwNTRlOSl9aW9uLXJlZnJlc2hlci5yZWZyZXNoZXItbmF0aXZlIC5zcGlubmVyLWFycm93LWNvbnRhaW5lcntkaXNwbGF5OmluaGVyaXR9aW9uLXJlZnJlc2hlci5yZWZyZXNoZXItbmF0aXZlIC5hcnJvdy1jb250YWluZXJ7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoyNHB4O2hlaWdodDoyNHB4fWlvbi1yZWZyZXNoZXIucmVmcmVzaGVyLW5hdGl2ZSAuYXJyb3ctY29udGFpbmVyIGlvbi1pY29uey13ZWJraXQtbWFyZ2luLXN0YXJ0OmF1dG87bWFyZ2luLWlubGluZS1zdGFydDphdXRvOy13ZWJraXQtbWFyZ2luLWVuZDphdXRvO21hcmdpbi1pbmxpbmUtZW5kOmF1dG87bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206LTRweDtwb3NpdGlvbjphYnNvbHV0ZTtjb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzAwNTRlOSk7Zm9udC1zaXplOjEycHh9aW9uLXJlZnJlc2hlci5yZWZyZXNoZXItbmF0aXZlLnJlZnJlc2hlci1wdWxsaW5nIGlvbi1yZWZyZXNoZXItY29udGVudCAucmVmcmVzaGVyLXB1bGxpbmcsaW9uLXJlZnJlc2hlci5yZWZyZXNoZXItbmF0aXZlLnJlZnJlc2hlci1yZWFkeSBpb24tcmVmcmVzaGVyLWNvbnRlbnQgLnJlZnJlc2hlci1wdWxsaW5ne2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4fWlvbi1yZWZyZXNoZXIucmVmcmVzaGVyLW5hdGl2ZS5yZWZyZXNoZXItcmVmcmVzaGluZyBpb24tcmVmcmVzaGVyLWNvbnRlbnQgLnJlZnJlc2hlci1yZWZyZXNoaW5nLGlvbi1yZWZyZXNoZXIucmVmcmVzaGVyLW5hdGl2ZS5yZWZyZXNoZXItY29tcGxldGluZyBpb24tcmVmcmVzaGVyLWNvbnRlbnQgLnJlZnJlc2hlci1yZWZyZXNoaW5nLGlvbi1yZWZyZXNoZXIucmVmcmVzaGVyLW5hdGl2ZS5yZWZyZXNoZXItY2FuY2VsbGluZyBpb24tcmVmcmVzaGVyLWNvbnRlbnQgLnJlZnJlc2hlci1yZWZyZXNoaW5ne2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4fWlvbi1yZWZyZXNoZXIucmVmcmVzaGVyLW5hdGl2ZSAucmVmcmVzaGVyLXB1bGxpbmctaWNvbnstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKGNhbGMoLTEwMCUgLSAxMHB4KSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoY2FsYygtMTAwJSAtIDEwcHgpKX1pb24tcmVmcmVzaGVyLnJlZnJlc2hlci1uYXRpdmUgLnJlZnJlc2hlci1wdWxsaW5nLWljb24saW9uLXJlZnJlc2hlci5yZWZyZXNoZXItbmF0aXZlIC5yZWZyZXNoZXItcmVmcmVzaGluZy1pY29uey13ZWJraXQtbWFyZ2luLXN0YXJ0OmF1dG87bWFyZ2luLWlubGluZS1zdGFydDphdXRvOy13ZWJraXQtbWFyZ2luLWVuZDphdXRvO21hcmdpbi1pbmxpbmUtZW5kOmF1dG87bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MDtib3JkZXItcmFkaXVzOjEwMCU7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjhweDtwYWRkaW5nLWlubGluZS1zdGFydDo4cHg7LXdlYmtpdC1wYWRkaW5nLWVuZDo4cHg7cGFkZGluZy1pbmxpbmUtZW5kOjhweDtwYWRkaW5nLXRvcDo4cHg7cGFkZGluZy1ib3R0b206OHB4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O2JvcmRlcjoxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMjAwLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1zdGVwLTIwMCwgI2VjZWNlYykpO2JhY2tncm91bmQ6dmFyKC0taW9uLWNvbG9yLXN0ZXAtMjUwLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1zdGVwLTI1MCwgI2ZmZmZmZikpOy13ZWJraXQtYm94LXNoYWRvdzowcHggMXB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSk7Ym94LXNoYWRvdzowcHggMXB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSl9XCI7XG5jb25zdCBJb25SZWZyZXNoZXJNZFN0eWxlMCA9IHJlZnJlc2hlck1kQ3NzO1xuXG5jb25zdCBSZWZyZXNoZXIgPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgICAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgICAgICB0aGlzLmlvblJlZnJlc2ggPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvblJlZnJlc2hcIiwgNyk7XG4gICAgICAgIHRoaXMuaW9uUHVsbCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uUHVsbFwiLCA3KTtcbiAgICAgICAgdGhpcy5pb25TdGFydCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uU3RhcnRcIiwgNyk7XG4gICAgICAgIHRoaXMuYXBwbGllZFN0eWxlcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRpZFN0YXJ0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgICAgICB0aGlzLnBvaW50ZXJEb3duID0gZmFsc2U7XG4gICAgICAgIHRoaXMubmVlZHNDb21wbGV0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGlkUmVmcmVzaCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbnRlbnRGdWxsc2NyZWVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGFzdFZlbG9jaXR5WSA9IDA7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLm5hdGl2ZVJlZnJlc2hlciA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXRlID0gMSAvKiBSZWZyZXNoZXJTdGF0ZS5JbmFjdGl2ZSAqLztcbiAgICAgICAgdGhpcy5wdWxsTWluID0gNjA7XG4gICAgICAgIHRoaXMucHVsbE1heCA9IHRoaXMucHVsbE1pbiArIDYwO1xuICAgICAgICB0aGlzLmNsb3NlRHVyYXRpb24gPSAnMjgwbXMnO1xuICAgICAgICB0aGlzLnNuYXBiYWNrRHVyYXRpb24gPSAnMjgwbXMnO1xuICAgICAgICB0aGlzLnB1bGxGYWN0b3IgPSAxO1xuICAgICAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGRpc2FibGVkQ2hhbmdlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2VzdHVyZSkge1xuICAgICAgICAgICAgdGhpcy5nZXN0dXJlLmVuYWJsZSghdGhpcy5kaXNhYmxlZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgY2hlY2tOYXRpdmVSZWZyZXNoZXIoKSB7XG4gICAgICAgIGNvbnN0IHVzZU5hdGl2ZVJlZnJlc2hlciA9IGF3YWl0IHNob3VsZFVzZU5hdGl2ZVJlZnJlc2hlcih0aGlzLmVsLCBnZXRJb25Nb2RlKHRoaXMpKTtcbiAgICAgICAgaWYgKHVzZU5hdGl2ZVJlZnJlc2hlciAmJiAhdGhpcy5uYXRpdmVSZWZyZXNoZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRFbCA9IHRoaXMuZWwuY2xvc2VzdCgnaW9uLWNvbnRlbnQnKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBOYXRpdmVSZWZyZXNoZXIoY29udGVudEVsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdXNlTmF0aXZlUmVmcmVzaGVyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lOYXRpdmVSZWZyZXNoZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95TmF0aXZlUmVmcmVzaGVyKCkge1xuICAgICAgICBpZiAodGhpcy5zY3JvbGxFbCAmJiB0aGlzLnNjcm9sbExpc3RlbmVyQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxMaXN0ZW5lckNhbGxiYWNrKTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsTGlzdGVuZXJDYWxsYmFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hdGl2ZVJlZnJlc2hlciA9IGZhbHNlO1xuICAgIH1cbiAgICBhc3luYyByZXNldE5hdGl2ZVJlZnJlc2hlcihlbCwgc3RhdGUpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICBpZiAoZ2V0SW9uTW9kZSh0aGlzKSA9PT0gJ2lvcycpIHtcbiAgICAgICAgICAgIGF3YWl0IHRyYW5zbGF0ZUVsZW1lbnQoZWwsIHVuZGVmaW5lZCwgMzAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRyYW5zaXRpb25FbmRBc3luYyh0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5yZWZyZXNoZXItcmVmcmVzaGluZy1pY29uJyksIDIwMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaWRSZWZyZXNoID0gZmFsc2U7XG4gICAgICAgIHRoaXMubmVlZHNDb21wbGV0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMucG9pbnRlckRvd24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLmZvckVhY2goKGFuaSkgPT4gYW5pLmRlc3Ryb3koKSk7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IDEgLyogUmVmcmVzaGVyU3RhdGUuSW5hY3RpdmUgKi87XG4gICAgfVxuICAgIGFzeW5jIHNldHVwaU9TTmF0aXZlUmVmcmVzaGVyKHB1bGxpbmdTcGlubmVyLCByZWZyZXNoaW5nU3Bpbm5lcikge1xuICAgICAgICB0aGlzLmVsZW1lbnRUb1RyYW5zZm9ybSA9IHRoaXMuc2Nyb2xsRWw7XG4gICAgICAgIGNvbnN0IHRpY2tzID0gcHVsbGluZ1NwaW5uZXIuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKCdzdmcnKTtcbiAgICAgICAgbGV0IE1BWF9QVUxMID0gdGhpcy5zY3JvbGxFbC5jbGllbnRIZWlnaHQgKiAwLjE2O1xuICAgICAgICBjb25zdCBOVU1fVElDS1MgPSB0aWNrcy5sZW5ndGg7XG4gICAgICAgIHdyaXRlVGFzaygoKSA9PiB0aWNrcy5mb3JFYWNoKChlbCkgPT4gZWwuc3R5bGUuc2V0UHJvcGVydHkoJ2FuaW1hdGlvbicsICdub25lJykpKTtcbiAgICAgICAgdGhpcy5zY3JvbGxMaXN0ZW5lckNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gSWYgcG9pbnRlciBpcyBub3Qgb24gc2NyZWVuIG9yIHJlZnJlc2hlciBpcyBub3QgYWN0aXZlLCBpZ25vcmUgc2Nyb2xsXG4gICAgICAgICAgICBpZiAoIXRoaXMucG9pbnRlckRvd24gJiYgdGhpcy5zdGF0ZSA9PT0gMSAvKiBSZWZyZXNoZXJTdGF0ZS5JbmFjdGl2ZSAqLykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRUYXNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBQVFIgc2hvdWxkIG9ubHkgYmUgYWN0aXZlIHdoZW4gb3ZlcmZsb3cgc2Nyb2xsaW5nIGF0IHRoZSB0b3BcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JvbGxUb3AgPSB0aGlzLnNjcm9sbEVsLnNjcm9sbFRvcDtcbiAgICAgICAgICAgICAgICBjb25zdCByZWZyZXNoZXJIZWlnaHQgPSB0aGlzLmVsLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsVG9wID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogSWYgcmVmcmVzaGVyIGlzIHJlZnJlc2hpbmcgYW5kIHVzZXIgdHJpZXMgdG8gc2Nyb2xsXG4gICAgICAgICAgICAgICAgICAgICAqIHByb2dyZXNzaXZlbHkgZmFkZSByZWZyZXNoZXIgb3V0L2luXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gOCAvKiBSZWZyZXNoZXJTdGF0ZS5SZWZyZXNoaW5nICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXRpbyA9IGNsYW1wKDAsIHNjcm9sbFRvcCAvIChyZWZyZXNoZXJIZWlnaHQgKiAwLjUpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlVGFzaygoKSA9PiBzZXRTcGlubmVyT3BhY2l0eShyZWZyZXNoaW5nU3Bpbm5lciwgMSAtIHJhdGlvKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb2ludGVyRG93bikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGlkU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlkU3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pb25TdGFydC5lbWl0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gZW1pdCBcInB1bGxpbmdcIiBvbiBldmVyeSBtb3ZlXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvaW50ZXJEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlvblB1bGwuZW1pdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdlIHdhbnQgdG8gZGVsYXkgdGhlIHN0YXJ0IG9mIHRoaXMgZ2VzdHVyZSBieSB+MzBweFxuICAgICAgICAgICAgICAgICAqIHdoZW4gaW5pdGlhbGx5IHB1bGxpbmcgZG93biBzbyB0aGUgcmVmcmVzaGVyIGRvZXMgbm90XG4gICAgICAgICAgICAgICAgICogb3ZlcmxhcCB3aXRoIHRoZSBjb250ZW50LiBCdXQgd2hlbiBsZXR0aW5nIGdvIG9mIHRoZVxuICAgICAgICAgICAgICAgICAqIGdlc3R1cmUgYmVmb3JlIHRoZSByZWZyZXNoZXIgY29tcGxldGVzLCB3ZSB3YW50IHRoZVxuICAgICAgICAgICAgICAgICAqIHJlZnJlc2hlciB0aWNrIG1hcmtzIHRvIHF1aWNrbHkgZmFkZSBvdXQuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5kaWRTdGFydCA/IDMwIDogMDtcbiAgICAgICAgICAgICAgICBjb25zdCBwdWxsQW1vdW50ID0gKHRoaXMucHJvZ3Jlc3MgPSBjbGFtcCgwLCAoTWF0aC5hYnMoc2Nyb2xsVG9wKSAtIG9mZnNldCkgLyBNQVhfUFVMTCwgMSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZFNob3dSZWZyZXNoaW5nU3Bpbm5lciA9IHRoaXMuc3RhdGUgPT09IDggLyogUmVmcmVzaGVyU3RhdGUuUmVmcmVzaGluZyAqLyB8fCBwdWxsQW1vdW50ID09PSAxO1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGRTaG93UmVmcmVzaGluZ1NwaW5uZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucG9pbnRlckRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVNjcm9sbFdoaWxlUmVmcmVzaGluZyhyZWZyZXNoaW5nU3Bpbm5lciwgdGhpcy5sYXN0VmVsb2NpdHlZKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGlkUmVmcmVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iZWdpblJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlkUmVmcmVzaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXB0aWNJbXBhY3QoeyBzdHlsZTogSW1wYWN0U3R5bGUuTGlnaHQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFRyYW5zbGF0ZSB0aGUgY29udGVudCBlbGVtZW50IG90aGVyd2lzZSB3aGVuIHBvaW50ZXIgaXMgcmVtb3ZlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogZnJvbSBzY3JlZW4gdGhlIHNjcm9sbCBjb250ZW50IHdpbGwgYm91bmNlIGJhY2sgb3ZlciB0aGUgcmVmcmVzaGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5wb2ludGVyRG93bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZUVsZW1lbnQodGhpcy5lbGVtZW50VG9UcmFuc2Zvcm0sIGAke3JlZnJlc2hlckhlaWdodH1weGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gMiAvKiBSZWZyZXNoZXJTdGF0ZS5QdWxsaW5nICovO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVTY3JvbGxXaGlsZVB1bGxpbmcodGlja3MsIE5VTV9USUNLUywgcHVsbEFtb3VudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2Nyb2xsRWwuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxMaXN0ZW5lckNhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5nZXN0dXJlID0gKGF3YWl0IGltcG9ydCgnLi9pbmRleC0zOTc4MjY0Mi5qcycpKS5jcmVhdGVHZXN0dXJlKHtcbiAgICAgICAgICAgIGVsOiB0aGlzLnNjcm9sbEVsLFxuICAgICAgICAgICAgZ2VzdHVyZU5hbWU6ICdyZWZyZXNoZXInLFxuICAgICAgICAgICAgZ2VzdHVyZVByaW9yaXR5OiAzMSxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogJ3knLFxuICAgICAgICAgICAgdGhyZXNob2xkOiA1LFxuICAgICAgICAgICAgb25TdGFydDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRlckRvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5kaWRSZWZyZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZUVsZW1lbnQodGhpcy5lbGVtZW50VG9UcmFuc2Zvcm0sICcwcHgnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSWYgdGhlIGNvbnRlbnQgaGFkIGBkaXNwbGF5OiBub25lYCB3aGVuXG4gICAgICAgICAgICAgICAgICogdGhlIHJlZnJlc2hlciB3YXMgaW5pdGlhbGl6ZWQsIGl0cyBjbGllbnRIZWlnaHRcbiAgICAgICAgICAgICAgICAgKiB3aWxsIGJlIDAuIFdoZW4gdGhlIGdlc3R1cmUgc3RhcnRzLCB0aGUgY29udGVudFxuICAgICAgICAgICAgICAgICAqIHdpbGwgYmUgdmlzaWJsZSwgc28gdHJ5IHRvIGdldCB0aGUgY29ycmVjdFxuICAgICAgICAgICAgICAgICAqIGNsaWVudCBoZWlnaHQgYWdhaW4uIFRoaXMgaXMgbW9zdCBjb21tb24gd2hlblxuICAgICAgICAgICAgICAgICAqIHVzaW5nIHRoZSByZWZyZXNoZXIgaW4gYW4gaW9uLW1lbnUuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKE1BWF9QVUxMID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIE1BWF9QVUxMID0gdGhpcy5zY3JvbGxFbC5jbGllbnRIZWlnaHQgKiAwLjE2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbk1vdmU6IChldikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFZlbG9jaXR5WSA9IGV2LnZlbG9jaXR5WTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkVuZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRlckRvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpZFN0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubmVlZHNDb21wbGV0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXROYXRpdmVSZWZyZXNoZXIodGhpcy5lbGVtZW50VG9UcmFuc2Zvcm0sIDMyIC8qIFJlZnJlc2hlclN0YXRlLkNvbXBsZXRpbmcgKi8pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5lZWRzQ29tcGxldGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmRpZFJlZnJlc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVhZFRhc2soKCkgPT4gdHJhbnNsYXRlRWxlbWVudCh0aGlzLmVsZW1lbnRUb1RyYW5zZm9ybSwgYCR7dGhpcy5lbC5jbGllbnRIZWlnaHR9cHhgKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGlzYWJsZWRDaGFuZ2VkKCk7XG4gICAgfVxuICAgIGFzeW5jIHNldHVwTUROYXRpdmVSZWZyZXNoZXIoY29udGVudEVsLCBwdWxsaW5nU3Bpbm5lciwgcmVmcmVzaGluZ1NwaW5uZXIpIHtcbiAgICAgICAgY29uc3QgY2lyY2xlID0gZ2V0RWxlbWVudFJvb3QocHVsbGluZ1NwaW5uZXIpLnF1ZXJ5U2VsZWN0b3IoJ2NpcmNsZScpO1xuICAgICAgICBjb25zdCBwdWxsaW5nUmVmcmVzaGVySWNvbiA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignaW9uLXJlZnJlc2hlci1jb250ZW50IC5yZWZyZXNoZXItcHVsbGluZy1pY29uJyk7XG4gICAgICAgIGNvbnN0IHJlZnJlc2hpbmdDaXJjbGUgPSBnZXRFbGVtZW50Um9vdChyZWZyZXNoaW5nU3Bpbm5lcikucXVlcnlTZWxlY3RvcignY2lyY2xlJyk7XG4gICAgICAgIGlmIChjaXJjbGUgIT09IG51bGwgJiYgcmVmcmVzaGluZ0NpcmNsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgd3JpdGVUYXNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjaXJjbGUuc3R5bGUuc2V0UHJvcGVydHkoJ2FuaW1hdGlvbicsICdub25lJyk7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBsaW5lcyB1cCB0aGUgYW5pbWF0aW9uIG9uIHRoZSByZWZyZXNoaW5nIHNwaW5uZXIgd2l0aCB0aGUgcHVsbGluZyBzcGlubmVyXG4gICAgICAgICAgICAgICAgcmVmcmVzaGluZ1NwaW5uZXIuc3R5bGUuc2V0UHJvcGVydHkoJ2FuaW1hdGlvbi1kZWxheScsICctNjU1bXMnKTtcbiAgICAgICAgICAgICAgICByZWZyZXNoaW5nQ2lyY2xlLnN0eWxlLnNldFByb3BlcnR5KCdhbmltYXRpb24tZGVsYXknLCAnLTY1NW1zJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdlc3R1cmUgPSAoYXdhaXQgaW1wb3J0KCcuL2luZGV4LTM5NzgyNjQyLmpzJykpLmNyZWF0ZUdlc3R1cmUoe1xuICAgICAgICAgICAgZWw6IHRoaXMuc2Nyb2xsRWwsXG4gICAgICAgICAgICBnZXN0dXJlTmFtZTogJ3JlZnJlc2hlcicsXG4gICAgICAgICAgICBnZXN0dXJlUHJpb3JpdHk6IDMxLFxuICAgICAgICAgICAgZGlyZWN0aW9uOiAneScsXG4gICAgICAgICAgICB0aHJlc2hvbGQ6IDUsXG4gICAgICAgICAgICBjYW5TdGFydDogKCkgPT4gdGhpcy5zdGF0ZSAhPT0gOCAvKiBSZWZyZXNoZXJTdGF0ZS5SZWZyZXNoaW5nICovICYmXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSAhPT0gMzIgLyogUmVmcmVzaGVyU3RhdGUuQ29tcGxldGluZyAqLyAmJlxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsRWwuc2Nyb2xsVG9wID09PSAwLFxuICAgICAgICAgICAgb25TdGFydDogKGV2KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgICAgICAgICAgICAgZXYuZGF0YSA9IHsgYW5pbWF0aW9uOiB1bmRlZmluZWQsIGRpZFN0YXJ0OiBmYWxzZSwgY2FuY2VsbGVkOiBmYWxzZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTW92ZTogKGV2KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKChldi52ZWxvY2l0eVkgPCAwICYmIHRoaXMucHJvZ3Jlc3MgPT09IDAgJiYgIWV2LmRhdGEuZGlkU3RhcnQpIHx8IGV2LmRhdGEuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2LmRhdGEuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWV2LmRhdGEuZGlkU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXYuZGF0YS5kaWRTdGFydCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAyIC8qIFJlZnJlc2hlclN0YXRlLlB1bGxpbmcgKi87XG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gaW9uLXJlZnJlc2hlciBpcyBiZWluZyB1c2VkIHdpdGggYSBjdXN0b20gc2Nyb2xsIHRhcmdldCwgdGhlIG92ZXJmbG93IHN0eWxlcyBuZWVkIHRvIGJlIGFwcGxpZWQgZGlyZWN0bHkgaW5zdGVhZCBvZiB2aWEgYSBjc3MgdmFyaWFibGVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBzY3JvbGxFbCB9ID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3ZlcmZsb3dQcm9wZXJ0eSA9IHNjcm9sbEVsLm1hdGNoZXMoSU9OX0NPTlRFTlRfQ0xBU1NfU0VMRUNUT1IpID8gJ292ZXJmbG93JyA6ICctLW92ZXJmbG93JztcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVUYXNrKCgpID0+IHNjcm9sbEVsLnN0eWxlLnNldFByb3BlcnR5KG92ZXJmbG93UHJvcGVydHksICdoaWRkZW4nKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvblR5cGUgPSBnZXRSZWZyZXNoZXJBbmltYXRpb25UeXBlKGNvbnRlbnRFbCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IGNyZWF0ZVB1bGxpbmdBbmltYXRpb24oYW5pbWF0aW9uVHlwZSwgcHVsbGluZ1JlZnJlc2hlckljb24sIHRoaXMuZWwpO1xuICAgICAgICAgICAgICAgICAgICBldi5kYXRhLmFuaW1hdGlvbiA9IGFuaW1hdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLnByb2dyZXNzU3RhcnQoZmFsc2UsIDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlvblN0YXJ0LmVtaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTaW5jZSB3ZSBhcmUgdXNpbmcgYW4gZWFzaW5nIGN1cnZlLCBzbG93IHRoZSBnZXN0dXJlIHRyYWNraW5nIGRvd24gYSBiaXRcbiAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gY2xhbXAoMCwgKGV2LmRlbHRhWSAvIDE4MCkgKiAwLjUsIDEpO1xuICAgICAgICAgICAgICAgIGV2LmRhdGEuYW5pbWF0aW9uLnByb2dyZXNzU3RlcCh0aGlzLnByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlvblB1bGwuZW1pdCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRW5kOiAoZXYpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWV2LmRhdGEuZGlkU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmdlc3R1cmUuZW5hYmxlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNjcm9sbEVsIH0gPSB0aGlzO1xuICAgICAgICAgICAgICAgIGNvbnN0IG92ZXJmbG93UHJvcGVydHkgPSBzY3JvbGxFbC5tYXRjaGVzKElPTl9DT05URU5UX0NMQVNTX1NFTEVDVE9SKSA/ICdvdmVyZmxvdycgOiAnLS1vdmVyZmxvdyc7XG4gICAgICAgICAgICAgICAgd3JpdGVUYXNrKCgpID0+IHNjcm9sbEVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KG92ZXJmbG93UHJvcGVydHkpKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9ncmVzcyA8PSAwLjQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXYuZGF0YS5hbmltYXRpb24ucHJvZ3Jlc3NFbmQoMCwgdGhpcy5wcm9ncmVzcywgNTAwKS5vbkZpbmlzaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pKSA9PiBhbmkuZGVzdHJveSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXN0dXJlLmVuYWJsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAxIC8qIFJlZnJlc2hlclN0YXRlLkluYWN0aXZlICovO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IGdldFRpbWVHaXZlblByb2dyZXNzaW9uKFswLCAwXSwgWzAsIDBdLCBbMSwgMV0sIFsxLCAxXSwgdGhpcy5wcm9ncmVzcylbMF07XG4gICAgICAgICAgICAgICAgY29uc3Qgc25hcEJhY2tBbmltYXRpb24gPSBjcmVhdGVTbmFwQmFja0FuaW1hdGlvbihwdWxsaW5nUmVmcmVzaGVySWNvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goc25hcEJhY2tBbmltYXRpb24pO1xuICAgICAgICAgICAgICAgIHdyaXRlVGFzayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHB1bGxpbmdSZWZyZXNoZXJJY29uLnN0eWxlLnNldFByb3BlcnR5KCctLWlvbi1wdWxsaW5nLXJlZnJlc2hlci10cmFuc2xhdGUnLCBgJHtwcm9ncmVzcyAqIDEwMH1weGApO1xuICAgICAgICAgICAgICAgICAgICBldi5kYXRhLmFuaW1hdGlvbi5wcm9ncmVzc0VuZCgpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzbmFwQmFja0FuaW1hdGlvbi5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmVnaW5SZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIGV2LmRhdGEuYW5pbWF0aW9uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXN0dXJlLmVuYWJsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRpc2FibGVkQ2hhbmdlZCgpO1xuICAgIH1cbiAgICBhc3luYyBzZXR1cE5hdGl2ZVJlZnJlc2hlcihjb250ZW50RWwpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsTGlzdGVuZXJDYWxsYmFjayB8fCAhY29udGVudEVsIHx8IHRoaXMubmF0aXZlUmVmcmVzaGVyIHx8ICF0aGlzLnNjcm9sbEVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHVzaW5nIG5vbi1uYXRpdmUgcmVmcmVzaGVyIGJlZm9yZSBtYWtlIHN1cmVcbiAgICAgICAgICogd2UgY2xlYW4gdXAgYW55IG9sZCBDU1MuIFRoaXMgY2FuIGhhcHBlbiB3aGVuXG4gICAgICAgICAqIGEgdXNlciBtYW51YWxseSBjYWxscyB0aGUgcmVmcmVzaCBtZXRob2QgaW4gYVxuICAgICAgICAgKiBjb21wb25lbnQgY3JlYXRlIGNhbGxiYWNrIGJlZm9yZSB0aGUgbmF0aXZlXG4gICAgICAgICAqIHJlZnJlc2hlciBpcyBzZXR1cC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2V0Q3NzKDAsICcnLCBmYWxzZSwgJycpO1xuICAgICAgICB0aGlzLm5hdGl2ZVJlZnJlc2hlciA9IHRydWU7XG4gICAgICAgIGNvbnN0IHB1bGxpbmdTcGlubmVyID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdpb24tcmVmcmVzaGVyLWNvbnRlbnQgLnJlZnJlc2hlci1wdWxsaW5nIGlvbi1zcGlubmVyJyk7XG4gICAgICAgIGNvbnN0IHJlZnJlc2hpbmdTcGlubmVyID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdpb24tcmVmcmVzaGVyLWNvbnRlbnQgLnJlZnJlc2hlci1yZWZyZXNoaW5nIGlvbi1zcGlubmVyJyk7XG4gICAgICAgIGlmIChnZXRJb25Nb2RlKHRoaXMpID09PSAnaW9zJykge1xuICAgICAgICAgICAgdGhpcy5zZXR1cGlPU05hdGl2ZVJlZnJlc2hlcihwdWxsaW5nU3Bpbm5lciwgcmVmcmVzaGluZ1NwaW5uZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXR1cE1ETmF0aXZlUmVmcmVzaGVyKGNvbnRlbnRFbCwgcHVsbGluZ1NwaW5uZXIsIHJlZnJlc2hpbmdTcGlubmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuY2hlY2tOYXRpdmVSZWZyZXNoZXIoKTtcbiAgICB9XG4gICAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIGlmICh0aGlzLmVsLmdldEF0dHJpYnV0ZSgnc2xvdCcpICE9PSAnZml4ZWQnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdNYWtlIHN1cmUgeW91IHVzZTogPGlvbi1yZWZyZXNoZXIgc2xvdD1cImZpeGVkXCI+Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGVudEVsID0gdGhpcy5lbC5jbG9zZXN0KElPTl9DT05URU5UX0VMRU1FTlRfU0VMRUNUT1IpO1xuICAgICAgICBpZiAoIWNvbnRlbnRFbCkge1xuICAgICAgICAgICAgcHJpbnRJb25Db250ZW50RXJyb3JNc2codGhpcy5lbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdhaXRzIGZvciB0aGUgY29udGVudCB0byBiZSByZWFkeSBiZWZvcmUgcXVlcnlpbmcgdGhlIHNjcm9sbFxuICAgICAgICAgKiBvciB0aGUgYmFja2dyb3VuZCBjb250ZW50IGVsZW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnRPblJlYWR5KGNvbnRlbnRFbCwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tU2Nyb2xsVGFyZ2V0ID0gY29udGVudEVsLnF1ZXJ5U2VsZWN0b3IoSU9OX0NPTlRFTlRfQ0xBU1NfU0VMRUNUT1IpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBRdWVyeSB0aGUgY3VzdG9tIHNjcm9sbCB0YXJnZXQgKGlmIGF2YWlsYWJsZSksIGZpcnN0LiBJbiByZWZyZXNoZXIgaW1wbGVtZW50YXRpb25zLFxuICAgICAgICAgICAgICogdGhlIGlvbi1yZWZyZXNoZXIgZWxlbWVudCB3aWxsIGFsd2F5cyBiZSBhIGRpcmVjdCBjaGlsZCBvZiBpb24tY29udGVudCAoc2xvdD1cImZpeGVkXCIpLiBCeVxuICAgICAgICAgICAgICogcXVlcnlpbmcgdGhlIGN1c3RvbSBzY3JvbGwgdGFyZ2V0IGZpcnN0IGFuZCBmYWxsaW5nIGJhY2sgdG8gdGhlIGlvbi1jb250ZW50IGVsZW1lbnQsXG4gICAgICAgICAgICAgKiB0aGUgY29ycmVjdCBzY3JvbGwgZWxlbWVudCB3aWxsIGJlIHJldHVybmVkIGJ5IHRoZSBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxFbCA9IGF3YWl0IGdldFNjcm9sbEVsZW1lbnQoY3VzdG9tU2Nyb2xsVGFyZ2V0ICE9PSBudWxsICYmIGN1c3RvbVNjcm9sbFRhcmdldCAhPT0gdm9pZCAwID8gY3VzdG9tU2Nyb2xsVGFyZ2V0IDogY29udGVudEVsKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUXVlcnkgdGhlIGJhY2tncm91bmQgY29udGVudCBlbGVtZW50IGZyb20gdGhlIGhvc3QgaW9uLWNvbnRlbnQgZWxlbWVudCBkaXJlY3RseS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29udGVudEVsID0gYXdhaXQgY29udGVudEVsLmdldEJhY2tncm91bmRFbGVtZW50KCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENoZWNrIGlmIHRoZSBjb250ZW50IGVsZW1lbnQgaXMgZnVsbHNjcmVlbiB0byBhcHBseSB0aGUgY29ycmVjdCBzdHlsZXNcbiAgICAgICAgICAgICAqIHdoZW4gdGhlIHJlZnJlc2hlciBpcyByZWZyZXNoaW5nLiBPdGhlcndpc2UsIHRoZSByZWZyZXNoZXIgd2lsbCBiZVxuICAgICAgICAgICAgICogaGlkZGVuIGJlY2F1c2UgaXQgaXMgcG9zaXRpb25lZCBiZWhpbmQgdGhlIGJhY2tncm91bmQgY29udGVudCBlbGVtZW50LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRGdWxsc2NyZWVuID0gY29udGVudEVsLmZ1bGxzY3JlZW47XG4gICAgICAgICAgICBpZiAoYXdhaXQgc2hvdWxkVXNlTmF0aXZlUmVmcmVzaGVyKHRoaXMuZWwsIGdldElvbk1vZGUodGhpcykpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR1cE5hdGl2ZVJlZnJlc2hlcihjb250ZW50RWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXN0dXJlID0gKGF3YWl0IGltcG9ydCgnLi9pbmRleC0zOTc4MjY0Mi5qcycpKS5jcmVhdGVHZXN0dXJlKHtcbiAgICAgICAgICAgICAgICAgICAgZWw6IGNvbnRlbnRFbCxcbiAgICAgICAgICAgICAgICAgICAgZ2VzdHVyZU5hbWU6ICdyZWZyZXNoZXInLFxuICAgICAgICAgICAgICAgICAgICBnZXN0dXJlUHJpb3JpdHk6IDMxLFxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246ICd5JyxcbiAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkOiAyMCxcbiAgICAgICAgICAgICAgICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNhblN0YXJ0OiAoKSA9PiB0aGlzLmNhblN0YXJ0KCksXG4gICAgICAgICAgICAgICAgICAgIG9uU3RhcnQ6ICgpID0+IHRoaXMub25TdGFydCgpLFxuICAgICAgICAgICAgICAgICAgICBvbk1vdmU6IChldikgPT4gdGhpcy5vbk1vdmUoZXYpLFxuICAgICAgICAgICAgICAgICAgICBvbkVuZDogKCkgPT4gdGhpcy5vbkVuZCgpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZWRDaGFuZ2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95TmF0aXZlUmVmcmVzaGVyKCk7XG4gICAgICAgIHRoaXMuc2Nyb2xsRWwgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmdlc3R1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VzdHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmdlc3R1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbCBgY29tcGxldGUoKWAgd2hlbiB5b3VyIGFzeW5jIG9wZXJhdGlvbiBoYXMgY29tcGxldGVkLlxuICAgICAqIEZvciBleGFtcGxlLCB0aGUgYHJlZnJlc2hpbmdgIHN0YXRlIGlzIHdoaWxlIHRoZSBhcHAgaXMgcGVyZm9ybWluZ1xuICAgICAqIGFuIGFzeW5jaHJvbm91cyBvcGVyYXRpb24sIHN1Y2ggYXMgcmVjZWl2aW5nIG1vcmUgZGF0YSBmcm9tIGFuXG4gICAgICogQUpBWCByZXF1ZXN0LiBPbmNlIHRoZSBkYXRhIGhhcyBiZWVuIHJlY2VpdmVkLCB5b3UgdGhlbiBjYWxsIHRoaXNcbiAgICAgKiBtZXRob2QgdG8gc2lnbmlmeSB0aGF0IHRoZSByZWZyZXNoaW5nIGhhcyBjb21wbGV0ZWQgYW5kIHRvIGNsb3NlXG4gICAgICogdGhlIHJlZnJlc2hlci4gVGhpcyBtZXRob2QgYWxzbyBjaGFuZ2VzIHRoZSByZWZyZXNoZXIncyBzdGF0ZSBmcm9tXG4gICAgICogYHJlZnJlc2hpbmdgIHRvIGBjb21wbGV0aW5nYC5cbiAgICAgKi9cbiAgICBhc3luYyBjb21wbGV0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubmF0aXZlUmVmcmVzaGVyKSB7XG4gICAgICAgICAgICB0aGlzLm5lZWRzQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAvLyBEbyBub3QgcmVzZXQgc2Nyb2xsIGVsIHVudGlsIHVzZXIgcmVtb3ZlcyBwb2ludGVyIGZyb20gc2NyZWVuXG4gICAgICAgICAgICBpZiAoIXRoaXMucG9pbnRlckRvd24pIHtcbiAgICAgICAgICAgICAgICByYWYoKCkgPT4gcmFmKCgpID0+IHRoaXMucmVzZXROYXRpdmVSZWZyZXNoZXIodGhpcy5lbGVtZW50VG9UcmFuc2Zvcm0sIDMyIC8qIFJlZnJlc2hlclN0YXRlLkNvbXBsZXRpbmcgKi8pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKDMyIC8qIFJlZnJlc2hlclN0YXRlLkNvbXBsZXRpbmcgKi8sICcxMjBtcycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHJlZnJlc2hlcidzIHN0YXRlIGZyb20gYHJlZnJlc2hpbmdgIHRvIGBjYW5jZWxsaW5nYC5cbiAgICAgKi9cbiAgICBhc3luYyBjYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aGlzLm5hdGl2ZVJlZnJlc2hlcikge1xuICAgICAgICAgICAgLy8gRG8gbm90IHJlc2V0IHNjcm9sbCBlbCB1bnRpbCB1c2VyIHJlbW92ZXMgcG9pbnRlciBmcm9tIHNjcmVlblxuICAgICAgICAgICAgaWYgKCF0aGlzLnBvaW50ZXJEb3duKSB7XG4gICAgICAgICAgICAgICAgcmFmKCgpID0+IHJhZigoKSA9PiB0aGlzLnJlc2V0TmF0aXZlUmVmcmVzaGVyKHRoaXMuZWxlbWVudFRvVHJhbnNmb3JtLCAxNiAvKiBSZWZyZXNoZXJTdGF0ZS5DYW5jZWxsaW5nICovKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgxNiAvKiBSZWZyZXNoZXJTdGF0ZS5DYW5jZWxsaW5nICovLCAnJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBudW1iZXIgcmVwcmVzZW50aW5nIGhvdyBmYXIgZG93biB0aGUgdXNlciBoYXMgcHVsbGVkLlxuICAgICAqIFRoZSBudW1iZXIgYDBgIHJlcHJlc2VudHMgdGhlIHVzZXIgaGFzbid0IHB1bGxlZCBkb3duIGF0IGFsbC4gVGhlXG4gICAgICogbnVtYmVyIGAxYCwgYW5kIGFueXRoaW5nIGdyZWF0ZXIgdGhhbiBgMWAsIHJlcHJlc2VudHMgdGhhdCB0aGUgdXNlclxuICAgICAqIGhhcyBwdWxsZWQgZmFyIGVub3VnaCBkb3duIHRoYXQgd2hlbiB0aGV5IGxldCBnbyB0aGVuIHRoZSByZWZyZXNoIHdpbGxcbiAgICAgKiBoYXBwZW4uIElmIHRoZXkgbGV0IGdvIGFuZCB0aGUgbnVtYmVyIGlzIGxlc3MgdGhhbiBgMWAsIHRoZW4gdGhlXG4gICAgICogcmVmcmVzaCB3aWxsIG5vdCBoYXBwZW4sIGFuZCB0aGUgY29udGVudCB3aWxsIHJldHVybiB0byBpdCdzIG9yaWdpbmFsXG4gICAgICogcG9zaXRpb24uXG4gICAgICovXG4gICAgZ2V0UHJvZ3Jlc3MoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5wcm9ncmVzcyk7XG4gICAgfVxuICAgIGNhblN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuc2Nyb2xsRWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gMSAvKiBSZWZyZXNoZXJTdGF0ZS5JbmFjdGl2ZSAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHRoZSBzY3JvbGxUb3AgaXMgZ3JlYXRlciB0aGFuIHplcm8gdGhlbiBpdCdzXG4gICAgICAgIC8vIG5vdCBwb3NzaWJsZSB0byBwdWxsIHRoZSBjb250ZW50IGRvd24geWV0XG4gICAgICAgIGlmICh0aGlzLnNjcm9sbEVsLnNjcm9sbFRvcCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgb25TdGFydCgpIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgICAgIHRoaXMuc3RhdGUgPSAxIC8qIFJlZnJlc2hlclN0YXRlLkluYWN0aXZlICovO1xuICAgICAgICB0aGlzLm1lbW9pemVPdmVyZmxvd1N0eWxlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgY29udGVudCBpcyBmdWxsc2NyZWVuLCB0aGVuIHdlIG5lZWQgdG9cbiAgICAgICAgICogc2V0IHRoZSBvZmZzZXQtdG9wIHN0eWxlIG9uIHRoZSBiYWNrZ3JvdW5kIGNvbnRlbnRcbiAgICAgICAgICogZWxlbWVudCB0byBlbnN1cmUgdGhhdCB0aGUgcmVmcmVzaGVyIGlzIHNob3duLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuY29udGVudEZ1bGxzY3JlZW4gJiYgdGhpcy5iYWNrZ3JvdW5kQ29udGVudEVsKSB7XG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmRDb250ZW50RWwuc3R5bGUuc2V0UHJvcGVydHkoJy0tb2Zmc2V0LXRvcCcsICcwcHgnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbk1vdmUoZGV0YWlsKSB7XG4gICAgICAgIGlmICghdGhpcy5zY3JvbGxFbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoaXMgbWV0aG9kIGNhbiBnZXQgY2FsbGVkIGxpa2UgYSBiYXppbGxpb24gdGltZXMgcGVyIHNlY29uZCxcbiAgICAgICAgLy8gc28gaXQncyBidWlsdCB0byBiZSBhcyBlZmZpY2llbnQgYXMgcG9zc2libGUsIGFuZCBkb2VzIGl0c1xuICAgICAgICAvLyBiZXN0IHRvIGRvIGFueSBET00gcmVhZC93cml0ZXMgb25seSB3aGVuIGFic29sdXRlbHkgbmVjZXNzYXJ5XG4gICAgICAgIC8vIGlmIG11bHRpLXRvdWNoIHRoZW4gZ2V0IG91dCBpbW1lZGlhdGVseVxuICAgICAgICBjb25zdCBldiA9IGRldGFpbC5ldmVudDtcbiAgICAgICAgaWYgKGV2LnRvdWNoZXMgIT09IHVuZGVmaW5lZCAmJiBldi50b3VjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBkbyBub3RoaW5nIGlmIGl0J3MgYWN0aXZlbHkgcmVmcmVzaGluZ1xuICAgICAgICAvLyBvciBpdCdzIGluIHRoZSB3YXkgb2YgY2xvc2luZ1xuICAgICAgICAvLyBvciB0aGlzIHdhcyBuZXZlciBhIHN0YXJ0WVxuICAgICAgICBpZiAoKHRoaXMuc3RhdGUgJiA1NiAvKiBSZWZyZXNoZXJTdGF0ZS5fQlVTWV8gKi8pICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHVsbEZhY3RvciA9IE51bWJlci5pc05hTih0aGlzLnB1bGxGYWN0b3IpIHx8IHRoaXMucHVsbEZhY3RvciA8IDAgPyAxIDogdGhpcy5wdWxsRmFjdG9yO1xuICAgICAgICBjb25zdCBkZWx0YVkgPSBkZXRhaWwuZGVsdGFZICogcHVsbEZhY3RvcjtcbiAgICAgICAgLy8gZG9uJ3QgYm90aGVyIGlmIHRoZXkncmUgc2Nyb2xsaW5nIHVwXG4gICAgICAgIC8vIGFuZCBoYXZlIG5vdCBhbHJlYWR5IHN0YXJ0ZWQgZHJhZ2dpbmdcbiAgICAgICAgaWYgKGRlbHRhWSA8PSAwKSB7XG4gICAgICAgICAgICAvLyB0aGUgY3VycmVudCBZIGlzIGhpZ2hlciB0aGFuIHRoZSBzdGFydGluZyBZXG4gICAgICAgICAgICAvLyBzbyB0aGV5IHNjcm9sbGVkIHVwIGVub3VnaCB0byBiZSBpZ25vcmVkXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAxIC8qIFJlZnJlc2hlclN0YXRlLkluYWN0aXZlICovO1xuICAgICAgICAgICAgaWYgKHRoaXMuYXBwbGllZFN0eWxlcykge1xuICAgICAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBzdHlsZXMgb25seSBpZiB0aGV5IHdlcmUgYXBwbGllZFxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q3NzKDAsICcnLCBmYWxzZSwgJycpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gMSAvKiBSZWZyZXNoZXJTdGF0ZS5JbmFjdGl2ZSAqLykge1xuICAgICAgICAgICAgLy8gdGhpcyByZWZyZXNoIGlzIG5vdCBhbHJlYWR5IGFjdGl2ZWx5IHB1bGxpbmcgZG93blxuICAgICAgICAgICAgLy8gZ2V0IHRoZSBjb250ZW50J3Mgc2Nyb2xsVG9wXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxIb3N0U2Nyb2xsVG9wID0gdGhpcy5zY3JvbGxFbC5zY3JvbGxUb3A7XG4gICAgICAgICAgICAvLyBpZiB0aGUgc2Nyb2xsVG9wIGlzIGdyZWF0ZXIgdGhhbiB6ZXJvIHRoZW4gaXQnc1xuICAgICAgICAgICAgLy8gbm90IHBvc3NpYmxlIHRvIHB1bGwgdGhlIGNvbnRlbnQgZG93biB5ZXRcbiAgICAgICAgICAgIGlmIChzY3JvbGxIb3N0U2Nyb2xsVG9wID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvbnRlbnQgc2Nyb2xsZWQgYWxsIHRoZSB3YXkgdG8gdGhlIHRvcCwgYW5kIGRyYWdnaW5nIGRvd25cbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAyIC8qIFJlZnJlc2hlclN0YXRlLlB1bGxpbmcgKi87XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJldmVudCBuYXRpdmUgc2Nyb2xsIGV2ZW50c1xuICAgICAgICBpZiAoZXYuY2FuY2VsYWJsZSkge1xuICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGUgcmVmcmVzaGVyIGlzIGFjdGl2ZWx5IHB1bGxpbmcgYXQgdGhpcyBwb2ludFxuICAgICAgICAvLyBtb3ZlIHRoZSBzY3JvbGwgZWxlbWVudCB3aXRoaW4gdGhlIGNvbnRlbnQgZWxlbWVudFxuICAgICAgICB0aGlzLnNldENzcyhkZWx0YVksICcwbXMnLCB0cnVlLCAnJyk7XG4gICAgICAgIGlmIChkZWx0YVkgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGRvbid0IGNvbnRpbnVlIGlmIHRoZXJlJ3Mgbm8gZGVsdGEgeWV0XG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwdWxsTWluID0gdGhpcy5wdWxsTWluO1xuICAgICAgICAvLyBzZXQgcHVsbCBwcm9ncmVzc1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gZGVsdGFZIC8gcHVsbE1pbjtcbiAgICAgICAgLy8gZW1pdCBcInN0YXJ0XCIgaWYgaXQgaGFzbid0IHN0YXJ0ZWQgeWV0XG4gICAgICAgIGlmICghdGhpcy5kaWRTdGFydCkge1xuICAgICAgICAgICAgdGhpcy5kaWRTdGFydCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmlvblN0YXJ0LmVtaXQoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlbWl0IFwicHVsbGluZ1wiIG9uIGV2ZXJ5IG1vdmVcbiAgICAgICAgdGhpcy5pb25QdWxsLmVtaXQoKTtcbiAgICAgICAgLy8gZG8gbm90aGluZyBpZiB0aGUgZGVsdGEgaXMgbGVzcyB0aGFuIHRoZSBwdWxsIHRocmVzaG9sZFxuICAgICAgICBpZiAoZGVsdGFZIDwgcHVsbE1pbikge1xuICAgICAgICAgICAgLy8gZW5zdXJlIGl0IHN0YXlzIGluIHRoZSBwdWxsaW5nIHN0YXRlLCBjdXogaXRzIG5vdCByZWFkeSB5ZXRcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAyIC8qIFJlZnJlc2hlclN0YXRlLlB1bGxpbmcgKi87XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbHRhWSA+IHRoaXMucHVsbE1heCkge1xuICAgICAgICAgICAgLy8gdGhleSBwdWxsZWQgZmFydGhlciB0aGFuIHRoZSBtYXgsIHNvIGtpY2sgb2ZmIHRoZSByZWZyZXNoXG4gICAgICAgICAgICB0aGlzLmJlZ2luUmVmcmVzaCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHB1bGxlZCBmYXJ0aGVyIHRoYW4gdGhlIHB1bGwgbWluISFcbiAgICAgICAgLy8gaXQgaXMgbm93IGluIHRoZSBgcmVhZHlgIHN0YXRlISFcbiAgICAgICAgLy8gaWYgdGhleSBsZXQgZ28gdGhlbiBpdCdsbCByZWZyZXNoLCBrZXJwb3chIVxuICAgICAgICB0aGlzLnN0YXRlID0gNCAvKiBSZWZyZXNoZXJTdGF0ZS5SZWFkeSAqLztcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBvbkVuZCgpIHtcbiAgICAgICAgLy8gb25seSBydW4gaW4gYSB6b25lIHdoZW4gYWJzb2x1dGVseSBuZWNlc3NhcnlcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IDQgLyogUmVmcmVzaGVyU3RhdGUuUmVhZHkgKi8pIHtcbiAgICAgICAgICAgIC8vIHRoZXkgcHVsbGVkIGRvd24gZmFyIGVub3VnaCwgc28gaXQncyByZWFkeSB0byByZWZyZXNoXG4gICAgICAgICAgICB0aGlzLmJlZ2luUmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3RhdGUgPT09IDIgLyogUmVmcmVzaGVyU3RhdGUuUHVsbGluZyAqLykge1xuICAgICAgICAgICAgLy8gdGhleSB3ZXJlIHB1bGxpbmcgZG93biwgYnV0IGRpZG4ndCBwdWxsIGRvd24gZmFyIGVub3VnaFxuICAgICAgICAgICAgLy8gc2V0IHRoZSBjb250ZW50IGJhY2sgdG8gaXQncyBvcmlnaW5hbCBsb2NhdGlvblxuICAgICAgICAgICAgLy8gYW5kIGNsb3NlIHRoZSByZWZyZXNoZXJcbiAgICAgICAgICAgIC8vIHNldCB0aGF0IHRoZSByZWZyZXNoIGlzIGFjdGl2ZWx5IGNhbmNlbGxpbmdcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gMSAvKiBSZWZyZXNoZXJTdGF0ZS5JbmFjdGl2ZSAqLykge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGUgcHVsbCB0byByZWZyZXNoIGdlc3R1cmUgd2FzIGFib3J0ZWRcbiAgICAgICAgICAgICAqIHNvIHdlIHNob3VsZCBpbW1lZGlhdGVseSByZXN0b3JlIGFueSBvdmVyZmxvdyBzdHlsZXNcbiAgICAgICAgICAgICAqIHRoYXQgaGF2ZSBiZWVuIG1vZGlmaWVkLiBEbyBub3QgY2FsbCB0aGlzLmNhbmNlbFxuICAgICAgICAgICAgICogYmVjYXVzZSB0aGUgc3R5bGVzIHdpbGwgb25seSBiZSByZXNldCBhZnRlciBhIHRpbWVvdXQuXG4gICAgICAgICAgICAgKiBJZiB0aGUgZ2VzdHVyZSBpcyBhYm9ydGVkIHRoZW4gc2Nyb2xsaW5nIHNob3VsZCBiZVxuICAgICAgICAgICAgICogYXZhaWxhYmxlIHJpZ2h0IGF3YXkuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMucmVzdG9yZU92ZXJmbG93U3R5bGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBiZWdpblJlZnJlc2goKSB7XG4gICAgICAgIC8vIGFzc3VtZXMgd2UncmUgYWxyZWFkeSBiYWNrIGluIGEgem9uZVxuICAgICAgICAvLyB0aGV5IHB1bGxlZCBkb3duIGZhciBlbm91Z2gsIHNvIGl0J3MgcmVhZHkgdG8gcmVmcmVzaFxuICAgICAgICB0aGlzLnN0YXRlID0gOCAvKiBSZWZyZXNoZXJTdGF0ZS5SZWZyZXNoaW5nICovO1xuICAgICAgICAvLyBwbGFjZSB0aGUgY29udGVudCBpbiBhIGhhbmdvdXQgcG9zaXRpb24gd2hpbGUgaXQgdGhpbmtzXG4gICAgICAgIHRoaXMuc2V0Q3NzKHRoaXMucHVsbE1pbiwgdGhpcy5zbmFwYmFja0R1cmF0aW9uLCB0cnVlLCAnJyk7XG4gICAgICAgIC8vIGVtaXQgXCJyZWZyZXNoXCIgYmVjYXVzZSBpdCB3YXMgcHVsbGVkIGRvd24gZmFyIGVub3VnaFxuICAgICAgICAvLyBhbmQgdGhleSBsZXQgZ28gdG8gYmVnaW4gcmVmcmVzaGluZ1xuICAgICAgICB0aGlzLmlvblJlZnJlc2guZW1pdCh7XG4gICAgICAgICAgICBjb21wbGV0ZTogdGhpcy5jb21wbGV0ZS5iaW5kKHRoaXMpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2xvc2Uoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIC8vIGNyZWF0ZSBmYWxsYmFjayB0aW1lciBpbmNhc2Ugc29tZXRoaW5nIGdvZXMgd3Jvbmcgd2l0aCB0cmFuc2l0aW9uRW5kIGV2ZW50XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDEgLyogUmVmcmVzaGVyU3RhdGUuSW5hY3RpdmUgKi87XG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgICAgIHRoaXMuZGlkU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVzZXQgYW55IG92ZXJmbG93IHN0eWxlcyBzbyB0aGVcbiAgICAgICAgICAgICAqIHVzZXIgY2FuIHNjcm9sbCBhZ2Fpbi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5zZXRDc3MoMCwgJzBtcycsIGZhbHNlLCAnJywgdHJ1ZSk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlc2V0IHRoZSBvZmZzZXQtdG9wIHN0eWxlIG9uIHRoZSBiYWNrZ3JvdW5kIGNvbnRlbnRcbiAgICAgICAgICAgICAqIHdoZW4gdGhlIHJlZnJlc2hlciBpcyBubyBsb25nZXIgcmVmcmVzaGluZyBhbmQgdGhlXG4gICAgICAgICAgICAgKiBjb250ZW50IGlzIGZ1bGxzY3JlZW4uXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVGhpcyBlbnN1cmVzIHRoYXQgdGhlIGJlaGF2aW9yIG9mIGJhY2tncm91bmQgY29udGVudFxuICAgICAgICAgICAgICogZG9lcyBub3QgY2hhbmdlIHdoZW4gcmVmcmVzaGluZyBpcyBjb21wbGV0ZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudEZ1bGxzY3JlZW4gJiYgdGhpcy5iYWNrZ3JvdW5kQ29udGVudEVsKSB7XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5iYWNrZ3JvdW5kQ29udGVudEVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3R5bGUucmVtb3ZlUHJvcGVydHkoJy0tb2Zmc2V0LXRvcCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCA2MDApO1xuICAgICAgICAvLyByZXNldCB0aGUgc3R5bGVzIG9uIHRoZSBzY3JvbGwgZWxlbWVudFxuICAgICAgICAvLyBzZXQgdGhhdCB0aGUgcmVmcmVzaCBpcyBhY3RpdmVseSBjYW5jZWxsaW5nL2NvbXBsZXRpbmdcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLnNldENzcygwLCB0aGlzLmNsb3NlRHVyYXRpb24sIHRydWUsIGRlbGF5KTtcbiAgICB9XG4gICAgc2V0Q3NzKHksIGR1cmF0aW9uLCBvdmVyZmxvd1Zpc2libGUsIGRlbGF5LCBzaG91bGRSZXN0b3JlT3ZlcmZsb3dTdHlsZSA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0aGlzLm5hdGl2ZVJlZnJlc2hlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXBwbGllZFN0eWxlcyA9IHkgPiAwO1xuICAgICAgICB3cml0ZVRhc2soKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsRWwgJiYgdGhpcy5iYWNrZ3JvdW5kQ29udGVudEVsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2Nyb2xsU3R5bGUgPSB0aGlzLnNjcm9sbEVsLnN0eWxlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmRTdHlsZSA9IHRoaXMuYmFja2dyb3VuZENvbnRlbnRFbC5zdHlsZTtcbiAgICAgICAgICAgICAgICBzY3JvbGxTdHlsZS50cmFuc2Zvcm0gPSBiYWNrZ3JvdW5kU3R5bGUudHJhbnNmb3JtID0geSA+IDAgPyBgdHJhbnNsYXRlWSgke3l9cHgpIHRyYW5zbGF0ZVooMHB4KWAgOiAnJztcbiAgICAgICAgICAgICAgICBzY3JvbGxTdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBiYWNrZ3JvdW5kU3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgICAgICAgICAgc2Nyb2xsU3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gYmFja2dyb3VuZFN0eWxlLnRyYW5zaXRpb25EZWxheSA9IGRlbGF5O1xuICAgICAgICAgICAgICAgIHNjcm9sbFN0eWxlLm92ZXJmbG93ID0gb3ZlcmZsb3dWaXNpYmxlID8gJ2hpZGRlbicgOiAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVzZXQgdGhlIG92ZXJmbG93IHN0eWxlcyBvbmx5IG9uY2VcbiAgICAgICAgICAgICAqIHRoZSBwdWxsIHRvIHJlZnJlc2ggZWZmZWN0IGhhcyBiZWVuIGNsb3NlZC5cbiAgICAgICAgICAgICAqIFRoaXMgZW5zdXJlcyB0aGF0IHRoZSBnZXN0dXJlIGlzIGRvbmVcbiAgICAgICAgICAgICAqIGFuZCB0aGUgcmVmcmVzaCBvcGVyYXRpb24gaGFzIGVpdGhlclxuICAgICAgICAgICAgICogYmVlbiBhYm9ydGVkIG9yIGhhcyBjb21wbGV0ZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChzaG91bGRSZXN0b3JlT3ZlcmZsb3dTdHlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdG9yZU92ZXJmbG93U3R5bGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1lbW9pemVPdmVyZmxvd1N0eWxlKCkge1xuICAgICAgICBpZiAodGhpcy5zY3JvbGxFbCkge1xuICAgICAgICAgICAgY29uc3QgeyBvdmVyZmxvdywgb3ZlcmZsb3dYLCBvdmVyZmxvd1kgfSA9IHRoaXMuc2Nyb2xsRWwuc3R5bGU7XG4gICAgICAgICAgICB0aGlzLm92ZXJmbG93U3R5bGVzID0ge1xuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBvdmVyZmxvdyAhPT0gbnVsbCAmJiBvdmVyZmxvdyAhPT0gdm9pZCAwID8gb3ZlcmZsb3cgOiAnJyxcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1g6IG92ZXJmbG93WCAhPT0gbnVsbCAmJiBvdmVyZmxvd1ggIT09IHZvaWQgMCA/IG92ZXJmbG93WCA6ICcnLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93WTogb3ZlcmZsb3dZICE9PSBudWxsICYmIG92ZXJmbG93WSAhPT0gdm9pZCAwID8gb3ZlcmZsb3dZIDogJycsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc3RvcmVPdmVyZmxvd1N0eWxlKCkge1xuICAgICAgICBpZiAodGhpcy5vdmVyZmxvd1N0eWxlcyAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2Nyb2xsRWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgeyBvdmVyZmxvdywgb3ZlcmZsb3dYLCBvdmVyZmxvd1kgfSA9IHRoaXMub3ZlcmZsb3dTdHlsZXM7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEVsLnN0eWxlLm92ZXJmbG93ID0gb3ZlcmZsb3c7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEVsLnN0eWxlLm92ZXJmbG93WCA9IG92ZXJmbG93WDtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsRWwuc3R5bGUub3ZlcmZsb3dZID0gb3ZlcmZsb3dZO1xuICAgICAgICAgICAgdGhpcy5vdmVyZmxvd1N0eWxlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgICAgICByZXR1cm4gKGgoSG9zdCwgeyBrZXk6ICc0YzM2YmZmYmZhMzJlZjFiZDI4YTYwZjQ0NTVjMTI1ODQyODgwNjU5Jywgc2xvdDogXCJmaXhlZFwiLCBjbGFzczoge1xuICAgICAgICAgICAgICAgIFttb2RlXTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAvLyBVc2VkIGludGVybmFsbHkgZm9yIHN0eWxpbmdcbiAgICAgICAgICAgICAgICBbYHJlZnJlc2hlci0ke21vZGV9YF06IHRydWUsXG4gICAgICAgICAgICAgICAgJ3JlZnJlc2hlci1uYXRpdmUnOiB0aGlzLm5hdGl2ZVJlZnJlc2hlcixcbiAgICAgICAgICAgICAgICAncmVmcmVzaGVyLWFjdGl2ZSc6IHRoaXMuc3RhdGUgIT09IDEgLyogUmVmcmVzaGVyU3RhdGUuSW5hY3RpdmUgKi8sXG4gICAgICAgICAgICAgICAgJ3JlZnJlc2hlci1wdWxsaW5nJzogdGhpcy5zdGF0ZSA9PT0gMiAvKiBSZWZyZXNoZXJTdGF0ZS5QdWxsaW5nICovLFxuICAgICAgICAgICAgICAgICdyZWZyZXNoZXItcmVhZHknOiB0aGlzLnN0YXRlID09PSA0IC8qIFJlZnJlc2hlclN0YXRlLlJlYWR5ICovLFxuICAgICAgICAgICAgICAgICdyZWZyZXNoZXItcmVmcmVzaGluZyc6IHRoaXMuc3RhdGUgPT09IDggLyogUmVmcmVzaGVyU3RhdGUuUmVmcmVzaGluZyAqLyxcbiAgICAgICAgICAgICAgICAncmVmcmVzaGVyLWNhbmNlbGxpbmcnOiB0aGlzLnN0YXRlID09PSAxNiAvKiBSZWZyZXNoZXJTdGF0ZS5DYW5jZWxsaW5nICovLFxuICAgICAgICAgICAgICAgICdyZWZyZXNoZXItY29tcGxldGluZyc6IHRoaXMuc3RhdGUgPT09IDMyIC8qIFJlZnJlc2hlclN0YXRlLkNvbXBsZXRpbmcgKi8sXG4gICAgICAgICAgICB9IH0pKTtcbiAgICB9XG4gICAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxuICAgIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgICAgIFwiZGlzYWJsZWRcIjogW1wiZGlzYWJsZWRDaGFuZ2VkXCJdXG4gICAgfTsgfVxufTtcblJlZnJlc2hlci5zdHlsZSA9IHtcbiAgICBpb3M6IElvblJlZnJlc2hlcklvc1N0eWxlMCxcbiAgICBtZDogSW9uUmVmcmVzaGVyTWRTdHlsZTBcbn07XG5cbmNvbnN0IFJlZnJlc2hlckNvbnRlbnQgPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgICAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgICAgICB0aGlzLmN1c3RvbUhUTUxFbmFibGVkID0gY29uZmlnLmdldCgnaW5uZXJIVE1MVGVtcGxhdGVzRW5hYmxlZCcsIEVOQUJMRV9IVE1MX0NPTlRFTlRfREVGQVVMVCk7XG4gICAgICAgIHRoaXMucHVsbGluZ0ljb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucHVsbGluZ1RleHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucmVmcmVzaGluZ1NwaW5uZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucmVmcmVzaGluZ1RleHQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgICAgICBpZiAodGhpcy5wdWxsaW5nSWNvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoZSBuYXRpdmUgaU9TIHJlZnJlc2hlciB1c2VzIGEgc3Bpbm5lciBpbnN0ZWFkIG9mXG4gICAgICAgICAgICAgKiBhbiBpY29uLCBzbyB3ZSBuZWVkIHRvIHNlZSBpZiB0aGlzIGRldmljZSBzdXBwb3J0c1xuICAgICAgICAgICAgICogdGhlIG5hdGl2ZSBpT1MgcmVmcmVzaGVyLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBoYXNSdWJiZXJCYW5kU2Nyb2xsaW5nID0gc3VwcG9ydHNSdWJiZXJCYW5kU2Nyb2xsaW5nKCk7XG4gICAgICAgICAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZSh0aGlzKTtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJmbG93UmVmcmVzaGVyID0gaGFzUnViYmVyQmFuZFNjcm9sbGluZyA/ICdsaW5lcycgOiBhcnJvd0Rvd247XG4gICAgICAgICAgICB0aGlzLnB1bGxpbmdJY29uID0gY29uZmlnLmdldCgncmVmcmVzaGluZ0ljb24nLCBtb2RlID09PSAnaW9zJyAmJiBoYXNSdWJiZXJCYW5kU2Nyb2xsaW5nID8gY29uZmlnLmdldCgnc3Bpbm5lcicsIG92ZXJmbG93UmVmcmVzaGVyKSA6ICdjaXJjdWxhcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlZnJlc2hpbmdTcGlubmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoaW5nU3Bpbm5lciA9IGNvbmZpZy5nZXQoJ3JlZnJlc2hpbmdTcGlubmVyJywgY29uZmlnLmdldCgnc3Bpbm5lcicsIG1vZGUgPT09ICdpb3MnID8gJ2xpbmVzJyA6ICdjaXJjdWxhcicpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXJQdWxsaW5nVGV4dCgpIHtcbiAgICAgICAgY29uc3QgeyBjdXN0b21IVE1MRW5hYmxlZCwgcHVsbGluZ1RleHQgfSA9IHRoaXM7XG4gICAgICAgIGlmIChjdXN0b21IVE1MRW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGgoXCJkaXZcIiwgeyBjbGFzczogXCJyZWZyZXNoZXItcHVsbGluZy10ZXh0XCIsIGlubmVySFRNTDogc2FuaXRpemVET01TdHJpbmcocHVsbGluZ1RleHQpIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicmVmcmVzaGVyLXB1bGxpbmctdGV4dFwiIH0sIHB1bGxpbmdUZXh0KTtcbiAgICB9XG4gICAgcmVuZGVyUmVmcmVzaGluZ1RleHQoKSB7XG4gICAgICAgIGNvbnN0IHsgY3VzdG9tSFRNTEVuYWJsZWQsIHJlZnJlc2hpbmdUZXh0IH0gPSB0aGlzO1xuICAgICAgICBpZiAoY3VzdG9tSFRNTEVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicmVmcmVzaGVyLXJlZnJlc2hpbmctdGV4dFwiLCBpbm5lckhUTUw6IHNhbml0aXplRE9NU3RyaW5nKHJlZnJlc2hpbmdUZXh0KSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaChcImRpdlwiLCB7IGNsYXNzOiBcInJlZnJlc2hlci1yZWZyZXNoaW5nLXRleHRcIiB9LCByZWZyZXNoaW5nVGV4dCk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgcHVsbGluZ0ljb24gPSB0aGlzLnB1bGxpbmdJY29uO1xuICAgICAgICBjb25zdCBoYXNTcGlubmVyID0gcHVsbGluZ0ljb24gIT0gbnVsbCAmJiBTUElOTkVSU1twdWxsaW5nSWNvbl0gIT09IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgbW9kZSA9IGdldElvbk1vZGUodGhpcyk7XG4gICAgICAgIHJldHVybiAoaChIb3N0LCB7IGtleTogJ2ZiNzhkN2UzMWY4ZmViMzEwMjVlNTg5MDNlYjlkZTg1Y2I5MjhkYmQnLCBjbGFzczogbW9kZSB9LCBoKFwiZGl2XCIsIHsga2V5OiAnMjNmNjc4MDBmMDk3NjVlZjhmZGU4Y2Y4NWE4NDNlMTllNjY3ZjMzNycsIGNsYXNzOiBcInJlZnJlc2hlci1wdWxsaW5nXCIgfSwgdGhpcy5wdWxsaW5nSWNvbiAmJiBoYXNTcGlubmVyICYmIChoKFwiZGl2XCIsIHsga2V5OiAnNWEwOGQzYjY5NzYyZjhiNTFkY2QzZGNmYmFmM2ZkZGI3MDcyNTdmYScsIGNsYXNzOiBcInJlZnJlc2hlci1wdWxsaW5nLWljb25cIiB9LCBoKFwiZGl2XCIsIHsga2V5OiAnNDJhNjEzYjAyOWUwOTJhY2RmZjdmZTYxM2E0MjkzNzVkODlmMTU3ZScsIGNsYXNzOiBcInNwaW5uZXItYXJyb3ctY29udGFpbmVyXCIgfSwgaChcImlvbi1zcGlubmVyXCIsIHsga2V5OiAnMmY5Y2RjNzU5MzhjNGQzMDZkZTdhNzE3ZWQ2NzkwMWRhZWY3MWMyYycsIG5hbWU6IHRoaXMucHVsbGluZ0ljb24sIHBhdXNlZDogdHJ1ZSB9KSwgbW9kZSA9PT0gJ21kJyAmJiB0aGlzLnB1bGxpbmdJY29uID09PSAnY2lyY3VsYXInICYmIChoKFwiZGl2XCIsIHsga2V5OiAnMWY4YTYzNDdiNGE0NjQxN2JhNTUyODZhNzlmMWE0MWYwNGJmOWM5MScsIGNsYXNzOiBcImFycm93LWNvbnRhaW5lclwiIH0sIGgoXCJpb24taWNvblwiLCB7IGtleTogJzMyNjcxM2QxMWQ0ODJkNDIwYmE1YTczOWZmNDUyODQwMGEzN2U5Y2EnLCBpY29uOiBjYXJldEJhY2tTaGFycCwgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIiB9KSkpKSkpLCB0aGlzLnB1bGxpbmdJY29uICYmICFoYXNTcGlubmVyICYmIChoKFwiZGl2XCIsIHsga2V5OiAnYWIxOGM3Y2JlYTdiY2JmYTAzNGY5MGYzMTc2NTJhZjRkOTM2NjBlZCcsIGNsYXNzOiBcInJlZnJlc2hlci1wdWxsaW5nLWljb25cIiB9LCBoKFwiaW9uLWljb25cIiwgeyBrZXk6ICdmNDg4YWNkNTRhY2M4YTYxYjZjNWEyNzlmMGQ3ZjlhNDM3YzM3MGMwJywgaWNvbjogdGhpcy5wdWxsaW5nSWNvbiwgbGF6eTogZmFsc2UsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIgfSkpKSwgdGhpcy5wdWxsaW5nVGV4dCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucmVuZGVyUHVsbGluZ1RleHQoKSksIGgoXCJkaXZcIiwgeyBrZXk6ICc5MTRhZDYxMzk0NDJkYWM1M2FmNDcxMjBlYTgyMWZhMTFjMzA5YTM4JywgY2xhc3M6IFwicmVmcmVzaGVyLXJlZnJlc2hpbmdcIiB9LCB0aGlzLnJlZnJlc2hpbmdTcGlubmVyICYmIChoKFwiZGl2XCIsIHsga2V5OiAnN2ViYTczMmY1ZTJkNzJiOTAzOTlkNjhhM2U4OTYxN2Q4OTc5YjNkMScsIGNsYXNzOiBcInJlZnJlc2hlci1yZWZyZXNoaW5nLWljb25cIiB9LCBoKFwiaW9uLXNwaW5uZXJcIiwgeyBrZXk6ICc4MzhkNjZkOGJlZjZmNTY2MjJjNjJiMTA2OGU3ZmVkMjllMDk0MzAyJywgbmFtZTogdGhpcy5yZWZyZXNoaW5nU3Bpbm5lciB9KSkpLCB0aGlzLnJlZnJlc2hpbmdUZXh0ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5yZW5kZXJSZWZyZXNoaW5nVGV4dCgpKSkpO1xuICAgIH1cbiAgICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuXG5leHBvcnQgeyBSZWZyZXNoZXIgYXMgaW9uX3JlZnJlc2hlciwgUmVmcmVzaGVyQ29udGVudCBhcyBpb25fcmVmcmVzaGVyX2NvbnRlbnQgfTtcbiJdLCJuYW1lcyI6WyJ3Iiwid3JpdGVUYXNrIiwiciIsInJlZ2lzdGVySW5zdGFuY2UiLCJjIiwiY3JlYXRlRXZlbnQiLCJkIiwicmVhZFRhc2siLCJoIiwiZiIsImdldEVsZW1lbnQiLCJlIiwiSG9zdCIsImciLCJnZXRUaW1lR2l2ZW5Qcm9ncmVzc2lvbiIsIkkiLCJJT05fQ09OVEVOVF9DTEFTU19TRUxFQ1RPUiIsImIiLCJJT05fQ09OVEVOVF9FTEVNRU5UX1NFTEVDVE9SIiwicCIsInByaW50SW9uQ29udGVudEVycm9yTXNnIiwiZ2V0U2Nyb2xsRWxlbWVudCIsInQiLCJ0cmFuc2l0aW9uRW5kQXN5bmMiLCJjb21wb25lbnRPblJlYWR5IiwiaiIsImNsYW1wIiwiZ2V0RWxlbWVudFJvb3QiLCJyYWYiLCJoYXB0aWNJbXBhY3QiLCJJbXBhY3RTdHlsZSIsImdldElvbk1vZGUiLCJjb25maWciLCJjcmVhdGVBbmltYXRpb24iLCJFIiwiRU5BQkxFX0hUTUxfQ09OVEVOVF9ERUZBVUxUIiwiYSIsInNhbml0aXplRE9NU3RyaW5nIiwiY2FyZXRCYWNrU2hhcnAiLCJpIiwiYXJyb3dEb3duIiwiUyIsIlNQSU5ORVJTIiwiZ2V0UmVmcmVzaGVyQW5pbWF0aW9uVHlwZSIsImNvbnRlbnRFbCIsInByZXZpb3VzU2libGluZyIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJoYXNIZWFkZXIiLCJ0YWdOYW1lIiwiY3JlYXRlUHVsbGluZ0FuaW1hdGlvbiIsInR5cGUiLCJwdWxsaW5nU3Bpbm5lciIsInJlZnJlc2hlckVsIiwiY3JlYXRlU2NhbGVBbmltYXRpb24iLCJjcmVhdGVUcmFuc2xhdGVBbmltYXRpb24iLCJjcmVhdGVCYXNlQW5pbWF0aW9uIiwicHVsbGluZ1JlZnJlc2hlckljb24iLCJzcGlubmVyIiwicXVlcnlTZWxlY3RvciIsImNpcmNsZSIsInNoYWRvd1Jvb3QiLCJzcGlubmVyQXJyb3dDb250YWluZXIiLCJhcnJvd0NvbnRhaW5lciIsImFycm93IiwiYmFzZUFuaW1hdGlvbiIsImR1cmF0aW9uIiwiZWFzaW5nIiwic3Bpbm5lckFycm93Q29udGFpbmVyQW5pbWF0aW9uIiwiYWRkRWxlbWVudCIsImtleWZyYW1lcyIsIm9mZnNldCIsIm9wYWNpdHkiLCJjaXJjbGVJbm5lckFuaW1hdGlvbiIsInN0cm9rZURhc2hhcnJheSIsImNpcmNsZU91dGVyQW5pbWF0aW9uIiwidHJhbnNmb3JtIiwiYXJyb3dDb250YWluZXJBbmltYXRpb24iLCJhcnJvd0FuaW1hdGlvbiIsImFkZEFuaW1hdGlvbiIsImhlaWdodCIsImNsaWVudEhlaWdodCIsInNwaW5uZXJBbmltYXRpb24iLCJjcmVhdGVTbmFwQmFja0FuaW1hdGlvbiIsImZyb21UbyIsInNldFNwaW5uZXJPcGFjaXR5Iiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsInRvU3RyaW5nIiwiaGFuZGxlU2Nyb2xsV2hpbGVQdWxsaW5nIiwidGlja3MiLCJudW1UaWNrcyIsInB1bGxBbW91bnQiLCJtYXgiLCJmb3JFYWNoIiwiZWwiLCJtaW4iLCJyYW5nZSIsInN0YXJ0IiwicHJvZ3Jlc3Npb24iLCJoYW5kbGVTY3JvbGxXaGlsZVJlZnJlc2hpbmciLCJsYXN0VmVsb2NpdHlZIiwidHJhbnNsYXRlRWxlbWVudCIsInZhbHVlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0cmFucyIsInVuZGVmaW5lZCIsInJlbW92ZVByb3BlcnR5Iiwic3VwcG9ydHNSdWJiZXJCYW5kU2Nyb2xsaW5nIiwibmF2aWdhdG9yIiwibWF4VG91Y2hQb2ludHMiLCJDU1MiLCJzdXBwb3J0cyIsInNob3VsZFVzZU5hdGl2ZVJlZnJlc2hlciIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvciIsInJlZmVyZW5jZUVsIiwibW9kZSIsInJlZnJlc2hlckNvbnRlbnQiLCJyZWZyZXNoaW5nU3Bpbm5lciIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJyZWZyZXNoZXJJb3NDc3MiLCJJb25SZWZyZXNoZXJJb3NTdHlsZTAiLCJyZWZyZXNoZXJNZENzcyIsIklvblJlZnJlc2hlck1kU3R5bGUwIiwiUmVmcmVzaGVyIiwiY29uc3RydWN0b3IiLCJob3N0UmVmIiwiaW9uUmVmcmVzaCIsImlvblB1bGwiLCJpb25TdGFydCIsImFwcGxpZWRTdHlsZXMiLCJkaWRTdGFydCIsInByb2dyZXNzIiwicG9pbnRlckRvd24iLCJuZWVkc0NvbXBsZXRpb24iLCJkaWRSZWZyZXNoIiwiY29udGVudEZ1bGxzY3JlZW4iLCJhbmltYXRpb25zIiwibmF0aXZlUmVmcmVzaGVyIiwic3RhdGUiLCJwdWxsTWluIiwicHVsbE1heCIsImNsb3NlRHVyYXRpb24iLCJzbmFwYmFja0R1cmF0aW9uIiwicHVsbEZhY3RvciIsImRpc2FibGVkIiwiZGlzYWJsZWRDaGFuZ2VkIiwiZ2VzdHVyZSIsImVuYWJsZSIsImNoZWNrTmF0aXZlUmVmcmVzaGVyIiwiX3RoaXMiLCJ1c2VOYXRpdmVSZWZyZXNoZXIiLCJjbG9zZXN0Iiwic2V0dXBOYXRpdmVSZWZyZXNoZXIiLCJkZXN0cm95TmF0aXZlUmVmcmVzaGVyIiwic2Nyb2xsRWwiLCJzY3JvbGxMaXN0ZW5lckNhbGxiYWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlc2V0TmF0aXZlUmVmcmVzaGVyIiwiX3RoaXMyIiwiYW5pIiwiZGVzdHJveSIsInNldHVwaU9TTmF0aXZlUmVmcmVzaGVyIiwiX3RoaXMzIiwiZWxlbWVudFRvVHJhbnNmb3JtIiwicXVlcnlTZWxlY3RvckFsbCIsIk1BWF9QVUxMIiwiTlVNX1RJQ0tTIiwibGVuZ3RoIiwic2Nyb2xsVG9wIiwicmVmcmVzaGVySGVpZ2h0IiwicmF0aW8iLCJlbWl0IiwiTWF0aCIsImFicyIsInNob3VsZFNob3dSZWZyZXNoaW5nU3Bpbm5lciIsImJlZ2luUmVmcmVzaCIsIkxpZ2h0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNyZWF0ZUdlc3R1cmUiLCJnZXN0dXJlTmFtZSIsImdlc3R1cmVQcmlvcml0eSIsImRpcmVjdGlvbiIsInRocmVzaG9sZCIsIm9uU3RhcnQiLCJvbk1vdmUiLCJldiIsInZlbG9jaXR5WSIsIm9uRW5kIiwic2V0dXBNRE5hdGl2ZVJlZnJlc2hlciIsIl90aGlzNCIsInJlZnJlc2hpbmdDaXJjbGUiLCJjYW5TdGFydCIsImRhdGEiLCJhbmltYXRpb24iLCJjYW5jZWxsZWQiLCJvdmVyZmxvd1Byb3BlcnR5IiwibWF0Y2hlcyIsImFuaW1hdGlvblR5cGUiLCJwcm9ncmVzc1N0YXJ0IiwicHVzaCIsImRlbHRhWSIsInByb2dyZXNzU3RlcCIsInByb2dyZXNzRW5kIiwib25GaW5pc2giLCJzbmFwQmFja0FuaW1hdGlvbiIsInBsYXkiLCJfdGhpczUiLCJzZXRDc3MiLCJjb21wb25lbnREaWRVcGRhdGUiLCJjb25uZWN0ZWRDYWxsYmFjayIsIl90aGlzNiIsImdldEF0dHJpYnV0ZSIsImNvbnNvbGUiLCJlcnJvciIsImN1c3RvbVNjcm9sbFRhcmdldCIsImJhY2tncm91bmRDb250ZW50RWwiLCJnZXRCYWNrZ3JvdW5kRWxlbWVudCIsImZ1bGxzY3JlZW4iLCJwYXNzaXZlIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJjb21wbGV0ZSIsIl90aGlzNyIsImNsb3NlIiwiY2FuY2VsIiwiX3RoaXM4IiwiZ2V0UHJvZ3Jlc3MiLCJtZW1vaXplT3ZlcmZsb3dTdHlsZSIsImRldGFpbCIsImV2ZW50IiwidG91Y2hlcyIsIk51bWJlciIsImlzTmFOIiwic2Nyb2xsSG9zdFNjcm9sbFRvcCIsImNhbmNlbGFibGUiLCJwcmV2ZW50RGVmYXVsdCIsInJlc3RvcmVPdmVyZmxvd1N0eWxlIiwiYmluZCIsImRlbGF5Iiwic2V0VGltZW91dCIsIl9hIiwieSIsIm92ZXJmbG93VmlzaWJsZSIsInNob3VsZFJlc3RvcmVPdmVyZmxvd1N0eWxlIiwic2Nyb2xsU3R5bGUiLCJiYWNrZ3JvdW5kU3R5bGUiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJ0cmFuc2l0aW9uRGVsYXkiLCJvdmVyZmxvdyIsIm92ZXJmbG93WCIsIm92ZXJmbG93WSIsIm92ZXJmbG93U3R5bGVzIiwicmVuZGVyIiwia2V5Iiwic2xvdCIsImNsYXNzIiwid2F0Y2hlcnMiLCJpb3MiLCJtZCIsIlJlZnJlc2hlckNvbnRlbnQiLCJjdXN0b21IVE1MRW5hYmxlZCIsImdldCIsInB1bGxpbmdJY29uIiwicHVsbGluZ1RleHQiLCJyZWZyZXNoaW5nVGV4dCIsImNvbXBvbmVudFdpbGxMb2FkIiwiaGFzUnViYmVyQmFuZFNjcm9sbGluZyIsIm92ZXJmbG93UmVmcmVzaGVyIiwicmVuZGVyUHVsbGluZ1RleHQiLCJpbm5lckhUTUwiLCJyZW5kZXJSZWZyZXNoaW5nVGV4dCIsImhhc1NwaW5uZXIiLCJuYW1lIiwicGF1c2VkIiwiaWNvbiIsImxhenkiLCJpb25fcmVmcmVzaGVyIiwiaW9uX3JlZnJlc2hlcl9jb250ZW50Il0sInNvdXJjZVJvb3QiOiJ3ZWJwYWNrOi8vLyIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswXX0=