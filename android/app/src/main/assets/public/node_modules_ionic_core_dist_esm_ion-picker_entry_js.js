"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-picker_entry_js"],{

/***/ 5575:
/*!***************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-picker.entry.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ion_picker: () => (/* binding */ Picker)
/* harmony export */ });
/* harmony import */ var C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 9204);
/* harmony import */ var _index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-527b9e34.js */ 4514);
/* harmony import */ var _helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helpers-78efeec3.js */ 9522);

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */


const pickerIosCss = ":host{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:200px;direction:ltr;z-index:0}:host .picker-before,:host .picker-after{position:absolute;width:100%;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:1;pointer-events:none}:host .picker-before{top:0;height:83px}:host .picker-before{inset-inline-start:0}:host .picker-after{top:116px;height:84px}:host .picker-after{inset-inline-start:0}:host .picker-highlight{border-radius:var(--highlight-border-radius, 8px);left:0;right:0;top:50%;bottom:0;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;position:absolute;width:calc(100% - 16px);height:34px;-webkit-transform:translateY(-50%);transform:translateY(-50%);background:var(--highlight-background);z-index:-1}:host input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host ::slotted(ion-picker-column:first-of-type){text-align:start}:host ::slotted(ion-picker-column:last-of-type){text-align:end}:host ::slotted(ion-picker-column:only-child){text-align:center}:host .picker-before{background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1)), to(rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0.8)));background:linear-gradient(to bottom, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1) 20%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0.8) 100%)}:host .picker-after{background:-webkit-gradient(linear, left bottom, left top, color-stop(20%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1)), to(rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0.8)));background:linear-gradient(to top, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1) 20%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0.8) 100%)}:host .picker-highlight{background:var(--highlight-background, var(--ion-color-step-150, var(--ion-background-color-step-150, #eeeeef)))}";
const IonPickerIosStyle0 = pickerIosCss;
const pickerMdCss = ":host{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:200px;direction:ltr;z-index:0}:host .picker-before,:host .picker-after{position:absolute;width:100%;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:1;pointer-events:none}:host .picker-before{top:0;height:83px}:host .picker-before{inset-inline-start:0}:host .picker-after{top:116px;height:84px}:host .picker-after{inset-inline-start:0}:host .picker-highlight{border-radius:var(--highlight-border-radius, 8px);left:0;right:0;top:50%;bottom:0;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;position:absolute;width:calc(100% - 16px);height:34px;-webkit-transform:translateY(-50%);transform:translateY(-50%);background:var(--highlight-background);z-index:-1}:host input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host ::slotted(ion-picker-column:first-of-type){text-align:start}:host ::slotted(ion-picker-column:last-of-type){text-align:end}:host ::slotted(ion-picker-column:only-child){text-align:center}:host .picker-before{background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1)), color-stop(90%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0)));background:linear-gradient(to bottom, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1) 20%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0) 90%)}:host .picker-after{background:-webkit-gradient(linear, left bottom, left top, color-stop(30%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1)), color-stop(90%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0)));background:linear-gradient(to top, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1) 30%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0) 90%)}";
const IonPickerMdStyle0 = pickerMdCss;
const Picker = class {
  constructor(hostRef) {
    (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionInputModeChange = (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "ionInputModeChange", 7);
    this.useInputMode = false;
    this.isInHighlightBounds = ev => {
      const {
        highlightEl
      } = this;
      if (!highlightEl) {
        return false;
      }
      const bbox = highlightEl.getBoundingClientRect();
      /**
       * Check to see if the user clicked
       * outside the bounds of the highlight.
       */
      const outsideX = ev.clientX < bbox.left || ev.clientX > bbox.right;
      const outsideY = ev.clientY < bbox.top || ev.clientY > bbox.bottom;
      if (outsideX || outsideY) {
        return false;
      }
      return true;
    };
    /**
     * If we are no longer focused
     * on a picker column, then we should
     * exit input mode. An exception is made
     * for the input in the picker since having
     * that focused means we are still in input mode.
     */
    this.onFocusOut = ev => {
      // TODO(FW-2832): type
      const {
        relatedTarget
      } = ev;
      if (!relatedTarget || relatedTarget.tagName !== 'ION-PICKER-COLUMN' && relatedTarget !== this.inputEl) {
        this.exitInputMode();
      }
    };
    /**
     * When picker columns receive focus
     * the parent picker needs to determine
     * whether to enter/exit input mode.
     */
    this.onFocusIn = ev => {
      // TODO(FW-2832): type
      const {
        target
      } = ev;
      /**
       * Due to browser differences in how/when focus
       * is dispatched on certain elements, we need to
       * make sure that this function only ever runs when
       * focusing a picker column.
       */
      if (target.tagName !== 'ION-PICKER-COLUMN') {
        return;
      }
      /**
       * If we have actionOnClick
       * then this means the user focused
       * a picker column via mouse or
       * touch (i.e. a PointerEvent). As a result,
       * we should not enter/exit input mode
       * until the click event has fired, which happens
       * after the `focusin` event.
       *
       * Otherwise, the user likely focused
       * the column using their keyboard and
       * we should enter/exit input mode automatically.
       */
      if (!this.actionOnClick) {
        const columnEl = target;
        const allowInput = columnEl.numericInput;
        if (allowInput) {
          this.enterInputMode(columnEl, false);
        } else {
          this.exitInputMode();
        }
      }
    };
    /**
     * On click we need to run an actionOnClick
     * function that has been set in onPointerDown
     * so that we enter/exit input mode correctly.
     */
    this.onClick = () => {
      const {
        actionOnClick
      } = this;
      if (actionOnClick) {
        actionOnClick();
        this.actionOnClick = undefined;
      }
    };
    /**
     * Clicking a column also focuses the column on
     * certain browsers, so we use onPointerDown
     * to tell the onFocusIn function that users
     * are trying to click the column rather than
     * focus the column using the keyboard. When the
     * user completes the click, the onClick function
     * runs and runs the actionOnClick callback.
     */
    this.onPointerDown = ev => {
      const {
        useInputMode,
        inputModeColumn,
        el
      } = this;
      if (this.isInHighlightBounds(ev)) {
        /**
         * If we were already in
         * input mode, then we should determine
         * if we tapped a particular column and
         * should switch to input mode for
         * that specific column.
         */
        if (useInputMode) {
          /**
           * If we tapped a picker column
           * then we should either switch to input
           * mode for that column or all columns.
           * Otherwise we should exit input mode
           * since we just tapped the highlight and
           * not a column.
           */
          if (ev.target.tagName === 'ION-PICKER-COLUMN') {
            /**
             * If user taps 2 different columns
             * then we should just switch to input mode
             * for the new column rather than switching to
             * input mode for all columns.
             */
            if (inputModeColumn && inputModeColumn === ev.target) {
              this.actionOnClick = () => {
                this.enterInputMode();
              };
            } else {
              this.actionOnClick = () => {
                this.enterInputMode(ev.target);
              };
            }
          } else {
            this.actionOnClick = () => {
              this.exitInputMode();
            };
          }
          /**
           * If we were not already in
           * input mode, then we should
           * enter input mode for all columns.
           */
        } else {
          /**
           * If there is only 1 numeric input column
           * then we should skip multi column input.
           */
          const columns = el.querySelectorAll('ion-picker-column.picker-column-numeric-input');
          const columnEl = columns.length === 1 ? ev.target : undefined;
          this.actionOnClick = () => {
            this.enterInputMode(columnEl);
          };
        }
        return;
      }
      this.actionOnClick = () => {
        this.exitInputMode();
      };
    };
    /**
     * Enters input mode to allow
     * for text entry of numeric values.
     * If on mobile, we focus a hidden input
     * field so that the on screen keyboard
     * is brought up. When tabbing using a
     * keyboard, picker columns receive an outline
     * to indicate they are focused. As a result,
     * we should not focus the hidden input as it
     * would cause the outline to go away, preventing
     * users from having any visual indication of which
     * column is focused.
     */
    this.enterInputMode = (columnEl, focusInput = true) => {
      const {
        inputEl,
        el
      } = this;
      if (!inputEl) {
        return;
      }
      /**
       * Only active input mode if there is at
       * least one column that accepts numeric input.
       */
      const hasInputColumn = el.querySelector('ion-picker-column.picker-column-numeric-input');
      if (!hasInputColumn) {
        return;
      }
      /**
       * If columnEl is undefined then
       * it is assumed that all numeric pickers
       * are eligible for text entry.
       * (i.e. hour and minute columns)
       */
      this.useInputMode = true;
      this.inputModeColumn = columnEl;
      /**
       * Users with a keyboard and mouse can
       * activate input mode where the input is
       * focused as well as when it is not focused,
       * so we need to make sure we clean up any
       * old listeners.
       */
      if (focusInput) {
        if (this.destroyKeypressListener) {
          this.destroyKeypressListener();
          this.destroyKeypressListener = undefined;
        }
        inputEl.focus();
      } else {
        // TODO FW-5900 Use keydown instead
        el.addEventListener('keypress', this.onKeyPress);
        this.destroyKeypressListener = () => {
          el.removeEventListener('keypress', this.onKeyPress);
        };
      }
      this.emitInputModeChange();
    };
    this.onKeyPress = ev => {
      const {
        inputEl
      } = this;
      if (!inputEl) {
        return;
      }
      const parsedValue = parseInt(ev.key, 10);
      /**
       * Only numbers should be allowed
       */
      if (!Number.isNaN(parsedValue)) {
        inputEl.value += ev.key;
        this.onInputChange();
      }
    };
    this.selectSingleColumn = () => {
      const {
        inputEl,
        inputModeColumn,
        singleColumnSearchTimeout
      } = this;
      if (!inputEl || !inputModeColumn) {
        return;
      }
      const options = Array.from(inputModeColumn.querySelectorAll('ion-picker-column-option')).filter(el => el.disabled !== true);
      /**
       * If users pause for a bit, the search
       * value should be reset similar to how a
       * <select> behaves. So typing "34", waiting,
       * then typing "5" should select "05".
       */
      if (singleColumnSearchTimeout) {
        clearTimeout(singleColumnSearchTimeout);
      }
      this.singleColumnSearchTimeout = setTimeout(() => {
        inputEl.value = '';
        this.singleColumnSearchTimeout = undefined;
      }, 1000);
      /**
       * For values that are longer than 2 digits long
       * we should shift the value over 1 character
       * to the left. So typing "456" would result in "56".
       * TODO: If we want to support more than just
       * time entry, we should update this value to be
       * the max length of all of the picker items.
       */
      if (inputEl.value.length >= 3) {
        const startIndex = inputEl.value.length - 2;
        const newString = inputEl.value.substring(startIndex);
        inputEl.value = newString;
        this.selectSingleColumn();
        return;
      }
      /**
       * Checking the value of the input gets priority
       * first. For example, if the value of the input
       * is "1" and we entered "2", then the complete value
       * is "12" and we should select hour 12.
       *
       * Regex removes any leading zeros from values like "02",
       * but it keeps a single zero if there are only zeros in the string.
       * 0+(?=[1-9]) --> Match 1 or more zeros that are followed by 1-9
       * 0+(?=0$) --> Match 1 or more zeros that must be followed by one 0 and end.
       */
      const findItemFromCompleteValue = options.find(({
        textContent
      }) => {
        /**
         * Keyboard entry is currently only used inside of Datetime
         * where we guarantee textContent is set.
         * If we end up exposing this feature publicly we should revisit this assumption.
         */
        const parsedText = textContent.replace(/^0+(?=[1-9])|0+(?=0$)/, '');
        return parsedText === inputEl.value;
      });
      if (findItemFromCompleteValue) {
        inputModeColumn.setValue(findItemFromCompleteValue.value);
        return;
      }
      /**
       * If we typed "56" to get minute 56, then typed "7",
       * we should select "07" as "567" is not a valid minute.
       */
      if (inputEl.value.length === 2) {
        const changedCharacter = inputEl.value.substring(inputEl.value.length - 1);
        inputEl.value = changedCharacter;
        this.selectSingleColumn();
      }
    };
    /**
     * Searches a list of column items for a particular
     * value. This is currently used for numeric values.
     * The zeroBehavior can be set to account for leading
     * or trailing zeros when looking at the item text.
     */
    this.searchColumn = (colEl, value, zeroBehavior = 'start') => {
      if (!value) {
        return false;
      }
      const behavior = zeroBehavior === 'start' ? /^0+/ : /0$/;
      value = value.replace(behavior, '');
      const option = Array.from(colEl.querySelectorAll('ion-picker-column-option')).find(el => {
        return el.disabled !== true && el.textContent.replace(behavior, '') === value;
      });
      if (option) {
        colEl.setValue(option.value);
      }
      return !!option;
    };
    /**
     * Attempts to intelligently search the first and second
     * column as if they're number columns for the provided numbers
     * where the first two numbers are the first column
     * and the last 2 are the last column. Tries to allow for the first
     * number to be ignored for situations where typos occurred.
     */
    this.multiColumnSearch = (firstColumn, secondColumn, input) => {
      if (input.length === 0) {
        return;
      }
      const inputArray = input.split('');
      const hourValue = inputArray.slice(0, 2).join('');
      // Try to find a match for the first two digits in the first column
      const foundHour = this.searchColumn(firstColumn, hourValue);
      // If we have more than 2 digits and found a match for hours,
      // use the remaining digits for the second column (minutes)
      if (inputArray.length > 2 && foundHour) {
        const minuteValue = inputArray.slice(2, 4).join('');
        this.searchColumn(secondColumn, minuteValue);
      }
      // If we couldn't find a match for the two-digit hour, try single digit approaches
      else if (!foundHour && inputArray.length >= 1) {
        // First try the first digit as a single-digit hour
        let singleDigitHour = inputArray[0];
        let singleDigitFound = this.searchColumn(firstColumn, singleDigitHour);
        // If that didn't work, try the second digit as a single-digit hour
        // (handles case where user made a typo in the first digit, or they typed over themselves)
        if (!singleDigitFound) {
          inputArray.shift();
          singleDigitHour = inputArray[0];
          singleDigitFound = this.searchColumn(firstColumn, singleDigitHour);
        }
        // If we found a single-digit hour and have remaining digits,
        // use up to 2 of the remaining digits for the second column
        if (singleDigitFound && inputArray.length > 1) {
          const remainingDigits = inputArray.slice(1, 3).join('');
          this.searchColumn(secondColumn, remainingDigits);
        }
      }
    };
    this.selectMultiColumn = () => {
      const {
        inputEl,
        el
      } = this;
      if (!inputEl) {
        return;
      }
      const numericPickers = Array.from(el.querySelectorAll('ion-picker-column')).filter(col => col.numericInput);
      const firstColumn = numericPickers[0];
      const lastColumn = numericPickers[1];
      let value = inputEl.value;
      if (value.length > 4) {
        const startIndex = inputEl.value.length - 4;
        const newString = inputEl.value.substring(startIndex);
        inputEl.value = newString;
        value = newString;
      }
      this.multiColumnSearch(firstColumn, lastColumn, value);
    };
    /**
     * Searches the value of the active column
     * to determine which value users are trying
     * to select
     */
    this.onInputChange = () => {
      const {
        useInputMode,
        inputEl,
        inputModeColumn
      } = this;
      if (!useInputMode || !inputEl) {
        return;
      }
      if (inputModeColumn) {
        this.selectSingleColumn();
      } else {
        this.selectMultiColumn();
      }
    };
    /**
     * Emit ionInputModeChange. Picker columns
     * listen for this event to determine whether
     * or not their column is "active" for text input.
     */
    this.emitInputModeChange = () => {
      const {
        useInputMode,
        inputModeColumn
      } = this;
      this.ionInputModeChange.emit({
        useInputMode,
        inputModeColumn
      });
    };
  }
  /**
   * When the picker is interacted with
   * we need to prevent touchstart so other
   * gestures do not fire. For example,
   * scrolling on the wheel picker
   * in ion-datetime should not cause
   * a card modal to swipe to close.
   */
  preventTouchStartPropagation(ev) {
    ev.stopPropagation();
  }
  componentWillLoad() {
    (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(this.el).addEventListener('focusin', this.onFocusIn);
    (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(this.el).addEventListener('focusout', this.onFocusOut);
  }
  /**
   * @internal
   * Exits text entry mode for the picker
   * This method blurs the hidden input
   * and cause the keyboard to dismiss.
   */
  exitInputMode() {
    var _this = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        inputEl,
        useInputMode
      } = _this;
      if (!useInputMode || !inputEl) {
        return;
      }
      _this.useInputMode = false;
      _this.inputModeColumn = undefined;
      inputEl.blur();
      inputEl.value = '';
      if (_this.destroyKeypressListener) {
        _this.destroyKeypressListener();
        _this.destroyKeypressListener = undefined;
      }
      _this.emitInputModeChange();
    })();
  }
  render() {
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.e, {
      key: '28f81e4ed44a633178561757c5199c2c98f94b74',
      onPointerDown: ev => this.onPointerDown(ev),
      onClick: () => this.onClick()
    }, (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("input", {
      key: 'abb3d1ad25ef63856af7804111175a4d50008bc0',
      "aria-hidden": "true",
      tabindex: -1,
      inputmode: "numeric",
      type: "number",
      onKeyDown: ev => {
        var _a;
        /**
         * The "Enter" key represents
         * the user submitting their time
         * selection, so we should blur the
         * input (and therefore close the keyboard)
         *
         * Updating the picker's state to no longer
         * be in input mode is handled in the onBlur
         * callback below.
         */
        if (ev.key === 'Enter') {
          (_a = this.inputEl) === null || _a === void 0 ? void 0 : _a.blur();
        }
      },
      ref: el => this.inputEl = el,
      onInput: () => this.onInputChange(),
      onBlur: () => this.exitInputMode()
    }), (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: '334a5abdc02e6b127c57177f626d7e4ff5526183',
      class: "picker-before"
    }), (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: 'ffd6271931129e88fc7c820e919d684899e420c5',
      class: "picker-after"
    }), (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: '78d1d95fd09e04f154ea59f24a1cece72c47ed7b',
      class: "picker-highlight",
      ref: el => this.highlightEl = el
    }), (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      key: '0bd5b9f875d3c71f6cbbde2054baeb1b0a2e8cd5'
    }));
  }
  get el() {
    return (0,_index_527b9e34_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
};
Picker.style = {
  ios: IonPickerIosStyle0,
  md: IonPickerMdStyle0
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXBpY2tlcl9lbnRyeV9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUM2RztBQUNqRDtBQUU1RCxNQUFNVyxZQUFZLEdBQUcsd2pGQUF3akY7QUFDN2tGLE1BQU1DLGtCQUFrQixHQUFHRCxZQUFZO0FBRXZDLE1BQU1FLFdBQVcsR0FBRywrN0VBQSs3RTtBQUNuOUUsTUFBTUMsaUJBQWlCLEdBQUdELFdBQVc7QUFFckMsTUFBTUUsTUFBTSxHQUFHLE1BQU07RUFDakJDLFdBQVdBLENBQUNDLE9BQU8sRUFBRTtJQUNqQmhCLHFEQUFnQixDQUFDLElBQUksRUFBRWdCLE9BQU8sQ0FBQztJQUMvQixJQUFJLENBQUNDLGtCQUFrQixHQUFHZixxREFBVyxDQUFDLElBQUksRUFBRSxvQkFBb0IsRUFBRSxDQUFDLENBQUM7SUFDcEUsSUFBSSxDQUFDZ0IsWUFBWSxHQUFHLEtBQUs7SUFDekIsSUFBSSxDQUFDQyxtQkFBbUIsR0FBSUMsRUFBRSxJQUFLO01BQy9CLE1BQU07UUFBRUM7TUFBWSxDQUFDLEdBQUcsSUFBSTtNQUM1QixJQUFJLENBQUNBLFdBQVcsRUFBRTtRQUNkLE9BQU8sS0FBSztNQUNoQjtNQUNBLE1BQU1DLElBQUksR0FBR0QsV0FBVyxDQUFDRSxxQkFBcUIsQ0FBQyxDQUFDO01BQ2hEO0FBQ1o7QUFDQTtBQUNBO01BQ1ksTUFBTUMsUUFBUSxHQUFHSixFQUFFLENBQUNLLE9BQU8sR0FBR0gsSUFBSSxDQUFDSSxJQUFJLElBQUlOLEVBQUUsQ0FBQ0ssT0FBTyxHQUFHSCxJQUFJLENBQUNLLEtBQUs7TUFDbEUsTUFBTUMsUUFBUSxHQUFHUixFQUFFLENBQUNTLE9BQU8sR0FBR1AsSUFBSSxDQUFDUSxHQUFHLElBQUlWLEVBQUUsQ0FBQ1MsT0FBTyxHQUFHUCxJQUFJLENBQUNTLE1BQU07TUFDbEUsSUFBSVAsUUFBUSxJQUFJSSxRQUFRLEVBQUU7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RUFBRXRILGtCQUFrQjtFQUN2QnVILEVBQUUsRUFBRXJIO0FBQ1IsQ0FBQyIsInNvdXJjZXMiOlsiLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLXBpY2tlci5lbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBjIGFzIGNyZWF0ZUV2ZW50LCBoLCBlIGFzIEhvc3QsIGYgYXMgZ2V0RWxlbWVudCB9IGZyb20gJy4vaW5kZXgtNTI3YjllMzQuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRFbGVtZW50Um9vdCB9IGZyb20gJy4vaGVscGVycy03OGVmZWVjMy5qcyc7XG5cbmNvbnN0IHBpY2tlcklvc0NzcyA9IFwiOmhvc3R7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cG9zaXRpb246cmVsYXRpdmU7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjEwMCU7aGVpZ2h0OjIwMHB4O2RpcmVjdGlvbjpsdHI7ei1pbmRleDowfTpob3N0IC5waWNrZXItYmVmb3JlLDpob3N0IC5waWNrZXItYWZ0ZXJ7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApO3otaW5kZXg6MTtwb2ludGVyLWV2ZW50czpub25lfTpob3N0IC5waWNrZXItYmVmb3Jle3RvcDowO2hlaWdodDo4M3B4fTpob3N0IC5waWNrZXItYmVmb3Jle2luc2V0LWlubGluZS1zdGFydDowfTpob3N0IC5waWNrZXItYWZ0ZXJ7dG9wOjExNnB4O2hlaWdodDo4NHB4fTpob3N0IC5waWNrZXItYWZ0ZXJ7aW5zZXQtaW5saW5lLXN0YXJ0OjB9Omhvc3QgLnBpY2tlci1oaWdobGlnaHR7Ym9yZGVyLXJhZGl1czp2YXIoLS1oaWdobGlnaHQtYm9yZGVyLXJhZGl1cywgOHB4KTtsZWZ0OjA7cmlnaHQ6MDt0b3A6NTAlO2JvdHRvbTowOy13ZWJraXQtbWFyZ2luLXN0YXJ0OmF1dG87bWFyZ2luLWlubGluZS1zdGFydDphdXRvOy13ZWJraXQtbWFyZ2luLWVuZDphdXRvO21hcmdpbi1pbmxpbmUtZW5kOmF1dG87bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MDtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDpjYWxjKDEwMCUgLSAxNnB4KTtoZWlnaHQ6MzRweDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpO2JhY2tncm91bmQ6dmFyKC0taGlnaGxpZ2h0LWJhY2tncm91bmQpO3otaW5kZXg6LTF9Omhvc3QgaW5wdXR7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTttYXJnaW46MDtwYWRkaW5nOjA7Ym9yZGVyOjA7b3V0bGluZTowO2NsaXA6cmVjdCgwIDAgMCAwKTtvcGFjaXR5OjA7b3ZlcmZsb3c6aGlkZGVuOy13ZWJraXQtYXBwZWFyYW5jZTpub25lOy1tb3otYXBwZWFyYW5jZTpub25lfTpob3N0IDo6c2xvdHRlZChpb24tcGlja2VyLWNvbHVtbjpmaXJzdC1vZi10eXBlKXt0ZXh0LWFsaWduOnN0YXJ0fTpob3N0IDo6c2xvdHRlZChpb24tcGlja2VyLWNvbHVtbjpsYXN0LW9mLXR5cGUpe3RleHQtYWxpZ246ZW5kfTpob3N0IDo6c2xvdHRlZChpb24tcGlja2VyLWNvbHVtbjpvbmx5LWNoaWxkKXt0ZXh0LWFsaWduOmNlbnRlcn06aG9zdCAucGlja2VyLWJlZm9yZXtiYWNrZ3JvdW5kOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGNvbG9yLXN0b3AoMjAlLCByZ2JhKHZhcigtLWZhZGUtYmFja2dyb3VuZC1yZ2IsIHZhcigtLWJhY2tncm91bmQtcmdiLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpKSksIDEpKSwgdG8ocmdiYSh2YXIoLS1mYWRlLWJhY2tncm91bmQtcmdiLCB2YXIoLS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSkpLCAwLjgpKSk7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCByZ2JhKHZhcigtLWZhZGUtYmFja2dyb3VuZC1yZ2IsIHZhcigtLWJhY2tncm91bmQtcmdiLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpKSksIDEpIDIwJSwgcmdiYSh2YXIoLS1mYWRlLWJhY2tncm91bmQtcmdiLCB2YXIoLS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSkpLCAwLjgpIDEwMCUpfTpob3N0IC5waWNrZXItYWZ0ZXJ7YmFja2dyb3VuZDotd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCBib3R0b20sIGxlZnQgdG9wLCBjb2xvci1zdG9wKDIwJSwgcmdiYSh2YXIoLS1mYWRlLWJhY2tncm91bmQtcmdiLCB2YXIoLS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSkpLCAxKSksIHRvKHJnYmEodmFyKC0tZmFkZS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0tYmFja2dyb3VuZC1yZ2IsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSkpKSwgMC44KSkpO2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KHRvIHRvcCwgcmdiYSh2YXIoLS1mYWRlLWJhY2tncm91bmQtcmdiLCB2YXIoLS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSkpLCAxKSAyMCUsIHJnYmEodmFyKC0tZmFkZS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0tYmFja2dyb3VuZC1yZ2IsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSkpKSwgMC44KSAxMDAlKX06aG9zdCAucGlja2VyLWhpZ2hsaWdodHtiYWNrZ3JvdW5kOnZhcigtLWhpZ2hsaWdodC1iYWNrZ3JvdW5kLCB2YXIoLS1pb24tY29sb3Itc3RlcC0xNTAsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXN0ZXAtMTUwLCAjZWVlZWVmKSkpfVwiO1xuY29uc3QgSW9uUGlja2VySW9zU3R5bGUwID0gcGlja2VySW9zQ3NzO1xuXG5jb25zdCBwaWNrZXJNZENzcyA9IFwiOmhvc3R7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cG9zaXRpb246cmVsYXRpdmU7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjEwMCU7aGVpZ2h0OjIwMHB4O2RpcmVjdGlvbjpsdHI7ei1pbmRleDowfTpob3N0IC5waWNrZXItYmVmb3JlLDpob3N0IC5waWNrZXItYWZ0ZXJ7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApO3otaW5kZXg6MTtwb2ludGVyLWV2ZW50czpub25lfTpob3N0IC5waWNrZXItYmVmb3Jle3RvcDowO2hlaWdodDo4M3B4fTpob3N0IC5waWNrZXItYmVmb3Jle2luc2V0LWlubGluZS1zdGFydDowfTpob3N0IC5waWNrZXItYWZ0ZXJ7dG9wOjExNnB4O2hlaWdodDo4NHB4fTpob3N0IC5waWNrZXItYWZ0ZXJ7aW5zZXQtaW5saW5lLXN0YXJ0OjB9Omhvc3QgLnBpY2tlci1oaWdobGlnaHR7Ym9yZGVyLXJhZGl1czp2YXIoLS1oaWdobGlnaHQtYm9yZGVyLXJhZGl1cywgOHB4KTtsZWZ0OjA7cmlnaHQ6MDt0b3A6NTAlO2JvdHRvbTowOy13ZWJraXQtbWFyZ2luLXN0YXJ0OmF1dG87bWFyZ2luLWlubGluZS1zdGFydDphdXRvOy13ZWJraXQtbWFyZ2luLWVuZDphdXRvO21hcmdpbi1pbmxpbmUtZW5kOmF1dG87bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MDtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDpjYWxjKDEwMCUgLSAxNnB4KTtoZWlnaHQ6MzRweDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpO2JhY2tncm91bmQ6dmFyKC0taGlnaGxpZ2h0LWJhY2tncm91bmQpO3otaW5kZXg6LTF9Omhvc3QgaW5wdXR7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTttYXJnaW46MDtwYWRkaW5nOjA7Ym9yZGVyOjA7b3V0bGluZTowO2NsaXA6cmVjdCgwIDAgMCAwKTtvcGFjaXR5OjA7b3ZlcmZsb3c6aGlkZGVuOy13ZWJraXQtYXBwZWFyYW5jZTpub25lOy1tb3otYXBwZWFyYW5jZTpub25lfTpob3N0IDo6c2xvdHRlZChpb24tcGlja2VyLWNvbHVtbjpmaXJzdC1vZi10eXBlKXt0ZXh0LWFsaWduOnN0YXJ0fTpob3N0IDo6c2xvdHRlZChpb24tcGlja2VyLWNvbHVtbjpsYXN0LW9mLXR5cGUpe3RleHQtYWxpZ246ZW5kfTpob3N0IDo6c2xvdHRlZChpb24tcGlja2VyLWNvbHVtbjpvbmx5LWNoaWxkKXt0ZXh0LWFsaWduOmNlbnRlcn06aG9zdCAucGlja2VyLWJlZm9yZXtiYWNrZ3JvdW5kOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGNvbG9yLXN0b3AoMjAlLCByZ2JhKHZhcigtLWZhZGUtYmFja2dyb3VuZC1yZ2IsIHZhcigtLWJhY2tncm91bmQtcmdiLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpKSksIDEpKSwgY29sb3Itc3RvcCg5MCUsIHJnYmEodmFyKC0tZmFkZS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0tYmFja2dyb3VuZC1yZ2IsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSkpKSwgMCkpKTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHJnYmEodmFyKC0tZmFkZS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0tYmFja2dyb3VuZC1yZ2IsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSkpKSwgMSkgMjAlLCByZ2JhKHZhcigtLWZhZGUtYmFja2dyb3VuZC1yZ2IsIHZhcigtLWJhY2tncm91bmQtcmdiLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpKSksIDApIDkwJSl9Omhvc3QgLnBpY2tlci1hZnRlcntiYWNrZ3JvdW5kOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IGJvdHRvbSwgbGVmdCB0b3AsIGNvbG9yLXN0b3AoMzAlLCByZ2JhKHZhcigtLWZhZGUtYmFja2dyb3VuZC1yZ2IsIHZhcigtLWJhY2tncm91bmQtcmdiLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpKSksIDEpKSwgY29sb3Itc3RvcCg5MCUsIHJnYmEodmFyKC0tZmFkZS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0tYmFja2dyb3VuZC1yZ2IsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSkpKSwgMCkpKTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byB0b3AsIHJnYmEodmFyKC0tZmFkZS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0tYmFja2dyb3VuZC1yZ2IsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSkpKSwgMSkgMzAlLCByZ2JhKHZhcigtLWZhZGUtYmFja2dyb3VuZC1yZ2IsIHZhcigtLWJhY2tncm91bmQtcmdiLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpKSksIDApIDkwJSl9XCI7XG5jb25zdCBJb25QaWNrZXJNZFN0eWxlMCA9IHBpY2tlck1kQ3NzO1xuXG5jb25zdCBQaWNrZXIgPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgICAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgICAgICB0aGlzLmlvbklucHV0TW9kZUNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uSW5wdXRNb2RlQ2hhbmdlXCIsIDcpO1xuICAgICAgICB0aGlzLnVzZUlucHV0TW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzSW5IaWdobGlnaHRCb3VuZHMgPSAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaGlnaGxpZ2h0RWwgfSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoIWhpZ2hsaWdodEVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYmJveCA9IGhpZ2hsaWdodEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDaGVjayB0byBzZWUgaWYgdGhlIHVzZXIgY2xpY2tlZFxuICAgICAgICAgICAgICogb3V0c2lkZSB0aGUgYm91bmRzIG9mIHRoZSBoaWdobGlnaHQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IG91dHNpZGVYID0gZXYuY2xpZW50WCA8IGJib3gubGVmdCB8fCBldi5jbGllbnRYID4gYmJveC5yaWdodDtcbiAgICAgICAgICAgIGNvbnN0IG91dHNpZGVZID0gZXYuY2xpZW50WSA8IGJib3gudG9wIHx8IGV2LmNsaWVudFkgPiBiYm94LmJvdHRvbTtcbiAgICAgICAgICAgIGlmIChvdXRzaWRlWCB8fCBvdXRzaWRlWSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgd2UgYXJlIG5vIGxvbmdlciBmb2N1c2VkXG4gICAgICAgICAqIG9uIGEgcGlja2VyIGNvbHVtbiwgdGhlbiB3ZSBzaG91bGRcbiAgICAgICAgICogZXhpdCBpbnB1dCBtb2RlLiBBbiBleGNlcHRpb24gaXMgbWFkZVxuICAgICAgICAgKiBmb3IgdGhlIGlucHV0IGluIHRoZSBwaWNrZXIgc2luY2UgaGF2aW5nXG4gICAgICAgICAqIHRoYXQgZm9jdXNlZCBtZWFucyB3ZSBhcmUgc3RpbGwgaW4gaW5wdXQgbW9kZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Gb2N1c091dCA9IChldikgPT4ge1xuICAgICAgICAgICAgLy8gVE9ETyhGVy0yODMyKTogdHlwZVxuICAgICAgICAgICAgY29uc3QgeyByZWxhdGVkVGFyZ2V0IH0gPSBldjtcbiAgICAgICAgICAgIGlmICghcmVsYXRlZFRhcmdldCB8fCAocmVsYXRlZFRhcmdldC50YWdOYW1lICE9PSAnSU9OLVBJQ0tFUi1DT0xVTU4nICYmIHJlbGF0ZWRUYXJnZXQgIT09IHRoaXMuaW5wdXRFbCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV4aXRJbnB1dE1vZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gcGlja2VyIGNvbHVtbnMgcmVjZWl2ZSBmb2N1c1xuICAgICAgICAgKiB0aGUgcGFyZW50IHBpY2tlciBuZWVkcyB0byBkZXRlcm1pbmVcbiAgICAgICAgICogd2hldGhlciB0byBlbnRlci9leGl0IGlucHV0IG1vZGUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRm9jdXNJbiA9IChldikgPT4ge1xuICAgICAgICAgICAgLy8gVE9ETyhGVy0yODMyKTogdHlwZVxuICAgICAgICAgICAgY29uc3QgeyB0YXJnZXQgfSA9IGV2O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEdWUgdG8gYnJvd3NlciBkaWZmZXJlbmNlcyBpbiBob3cvd2hlbiBmb2N1c1xuICAgICAgICAgICAgICogaXMgZGlzcGF0Y2hlZCBvbiBjZXJ0YWluIGVsZW1lbnRzLCB3ZSBuZWVkIHRvXG4gICAgICAgICAgICAgKiBtYWtlIHN1cmUgdGhhdCB0aGlzIGZ1bmN0aW9uIG9ubHkgZXZlciBydW5zIHdoZW5cbiAgICAgICAgICAgICAqIGZvY3VzaW5nIGEgcGlja2VyIGNvbHVtbi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRhcmdldC50YWdOYW1lICE9PSAnSU9OLVBJQ0tFUi1DT0xVTU4nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSBoYXZlIGFjdGlvbk9uQ2xpY2tcbiAgICAgICAgICAgICAqIHRoZW4gdGhpcyBtZWFucyB0aGUgdXNlciBmb2N1c2VkXG4gICAgICAgICAgICAgKiBhIHBpY2tlciBjb2x1bW4gdmlhIG1vdXNlIG9yXG4gICAgICAgICAgICAgKiB0b3VjaCAoaS5lLiBhIFBvaW50ZXJFdmVudCkuIEFzIGEgcmVzdWx0LFxuICAgICAgICAgICAgICogd2Ugc2hvdWxkIG5vdCBlbnRlci9leGl0IGlucHV0IG1vZGVcbiAgICAgICAgICAgICAqIHVudGlsIHRoZSBjbGljayBldmVudCBoYXMgZmlyZWQsIHdoaWNoIGhhcHBlbnNcbiAgICAgICAgICAgICAqIGFmdGVyIHRoZSBgZm9jdXNpbmAgZXZlbnQuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogT3RoZXJ3aXNlLCB0aGUgdXNlciBsaWtlbHkgZm9jdXNlZFxuICAgICAgICAgICAgICogdGhlIGNvbHVtbiB1c2luZyB0aGVpciBrZXlib2FyZCBhbmRcbiAgICAgICAgICAgICAqIHdlIHNob3VsZCBlbnRlci9leGl0IGlucHV0IG1vZGUgYXV0b21hdGljYWxseS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFjdGlvbk9uQ2xpY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2x1bW5FbCA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICBjb25zdCBhbGxvd0lucHV0ID0gY29sdW1uRWwubnVtZXJpY0lucHV0O1xuICAgICAgICAgICAgICAgIGlmIChhbGxvd0lucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW50ZXJJbnB1dE1vZGUoY29sdW1uRWwsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhpdElucHV0TW9kZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9uIGNsaWNrIHdlIG5lZWQgdG8gcnVuIGFuIGFjdGlvbk9uQ2xpY2tcbiAgICAgICAgICogZnVuY3Rpb24gdGhhdCBoYXMgYmVlbiBzZXQgaW4gb25Qb2ludGVyRG93blxuICAgICAgICAgKiBzbyB0aGF0IHdlIGVudGVyL2V4aXQgaW5wdXQgbW9kZSBjb3JyZWN0bHkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGFjdGlvbk9uQ2xpY2sgfSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoYWN0aW9uT25DbGljaykge1xuICAgICAgICAgICAgICAgIGFjdGlvbk9uQ2xpY2soKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbk9uQ2xpY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDbGlja2luZyBhIGNvbHVtbiBhbHNvIGZvY3VzZXMgdGhlIGNvbHVtbiBvblxuICAgICAgICAgKiBjZXJ0YWluIGJyb3dzZXJzLCBzbyB3ZSB1c2Ugb25Qb2ludGVyRG93blxuICAgICAgICAgKiB0byB0ZWxsIHRoZSBvbkZvY3VzSW4gZnVuY3Rpb24gdGhhdCB1c2Vyc1xuICAgICAgICAgKiBhcmUgdHJ5aW5nIHRvIGNsaWNrIHRoZSBjb2x1bW4gcmF0aGVyIHRoYW5cbiAgICAgICAgICogZm9jdXMgdGhlIGNvbHVtbiB1c2luZyB0aGUga2V5Ym9hcmQuIFdoZW4gdGhlXG4gICAgICAgICAqIHVzZXIgY29tcGxldGVzIHRoZSBjbGljaywgdGhlIG9uQ2xpY2sgZnVuY3Rpb25cbiAgICAgICAgICogcnVucyBhbmQgcnVucyB0aGUgYWN0aW9uT25DbGljayBjYWxsYmFjay5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyRG93biA9IChldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB1c2VJbnB1dE1vZGUsIGlucHV0TW9kZUNvbHVtbiwgZWwgfSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0luSGlnaGxpZ2h0Qm91bmRzKGV2KSkge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIElmIHdlIHdlcmUgYWxyZWFkeSBpblxuICAgICAgICAgICAgICAgICAqIGlucHV0IG1vZGUsIHRoZW4gd2Ugc2hvdWxkIGRldGVybWluZVxuICAgICAgICAgICAgICAgICAqIGlmIHdlIHRhcHBlZCBhIHBhcnRpY3VsYXIgY29sdW1uIGFuZFxuICAgICAgICAgICAgICAgICAqIHNob3VsZCBzd2l0Y2ggdG8gaW5wdXQgbW9kZSBmb3JcbiAgICAgICAgICAgICAgICAgKiB0aGF0IHNwZWNpZmljIGNvbHVtbi5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAodXNlSW5wdXRNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBJZiB3ZSB0YXBwZWQgYSBwaWNrZXIgY29sdW1uXG4gICAgICAgICAgICAgICAgICAgICAqIHRoZW4gd2Ugc2hvdWxkIGVpdGhlciBzd2l0Y2ggdG8gaW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICogbW9kZSBmb3IgdGhhdCBjb2x1bW4gb3IgYWxsIGNvbHVtbnMuXG4gICAgICAgICAgICAgICAgICAgICAqIE90aGVyd2lzZSB3ZSBzaG91bGQgZXhpdCBpbnB1dCBtb2RlXG4gICAgICAgICAgICAgICAgICAgICAqIHNpbmNlIHdlIGp1c3QgdGFwcGVkIHRoZSBoaWdobGlnaHQgYW5kXG4gICAgICAgICAgICAgICAgICAgICAqIG5vdCBhIGNvbHVtbi5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGlmIChldi50YXJnZXQudGFnTmFtZSA9PT0gJ0lPTi1QSUNLRVItQ09MVU1OJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBJZiB1c2VyIHRhcHMgMiBkaWZmZXJlbnQgY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICogdGhlbiB3ZSBzaG91bGQganVzdCBzd2l0Y2ggdG8gaW5wdXQgbW9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogZm9yIHRoZSBuZXcgY29sdW1uIHJhdGhlciB0aGFuIHN3aXRjaGluZyB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICogaW5wdXQgbW9kZSBmb3IgYWxsIGNvbHVtbnMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dE1vZGVDb2x1bW4gJiYgaW5wdXRNb2RlQ29sdW1uID09PSBldi50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbk9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50ZXJJbnB1dE1vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25PbkNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGVySW5wdXRNb2RlKGV2LnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9uT25DbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4aXRJbnB1dE1vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIElmIHdlIHdlcmUgbm90IGFscmVhZHkgaW5cbiAgICAgICAgICAgICAgICAgICAgICogaW5wdXQgbW9kZSwgdGhlbiB3ZSBzaG91bGRcbiAgICAgICAgICAgICAgICAgICAgICogZW50ZXIgaW5wdXQgbW9kZSBmb3IgYWxsIGNvbHVtbnMuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIElmIHRoZXJlIGlzIG9ubHkgMSBudW1lcmljIGlucHV0IGNvbHVtblxuICAgICAgICAgICAgICAgICAgICAgKiB0aGVuIHdlIHNob3VsZCBza2lwIG11bHRpIGNvbHVtbiBpbnB1dC5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbHVtbnMgPSBlbC5xdWVyeVNlbGVjdG9yQWxsKCdpb24tcGlja2VyLWNvbHVtbi5waWNrZXItY29sdW1uLW51bWVyaWMtaW5wdXQnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sdW1uRWwgPSBjb2x1bW5zLmxlbmd0aCA9PT0gMSA/IGV2LnRhcmdldCA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25PbkNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRlcklucHV0TW9kZShjb2x1bW5FbCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWN0aW9uT25DbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmV4aXRJbnB1dE1vZGUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbnRlcnMgaW5wdXQgbW9kZSB0byBhbGxvd1xuICAgICAgICAgKiBmb3IgdGV4dCBlbnRyeSBvZiBudW1lcmljIHZhbHVlcy5cbiAgICAgICAgICogSWYgb24gbW9iaWxlLCB3ZSBmb2N1cyBhIGhpZGRlbiBpbnB1dFxuICAgICAgICAgKiBmaWVsZCBzbyB0aGF0IHRoZSBvbiBzY3JlZW4ga2V5Ym9hcmRcbiAgICAgICAgICogaXMgYnJvdWdodCB1cC4gV2hlbiB0YWJiaW5nIHVzaW5nIGFcbiAgICAgICAgICoga2V5Ym9hcmQsIHBpY2tlciBjb2x1bW5zIHJlY2VpdmUgYW4gb3V0bGluZVxuICAgICAgICAgKiB0byBpbmRpY2F0ZSB0aGV5IGFyZSBmb2N1c2VkLiBBcyBhIHJlc3VsdCxcbiAgICAgICAgICogd2Ugc2hvdWxkIG5vdCBmb2N1cyB0aGUgaGlkZGVuIGlucHV0IGFzIGl0XG4gICAgICAgICAqIHdvdWxkIGNhdXNlIHRoZSBvdXRsaW5lIHRvIGdvIGF3YXksIHByZXZlbnRpbmdcbiAgICAgICAgICogdXNlcnMgZnJvbSBoYXZpbmcgYW55IHZpc3VhbCBpbmRpY2F0aW9uIG9mIHdoaWNoXG4gICAgICAgICAqIGNvbHVtbiBpcyBmb2N1c2VkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbnRlcklucHV0TW9kZSA9IChjb2x1bW5FbCwgZm9jdXNJbnB1dCA9IHRydWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaW5wdXRFbCwgZWwgfSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoIWlucHV0RWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE9ubHkgYWN0aXZlIGlucHV0IG1vZGUgaWYgdGhlcmUgaXMgYXRcbiAgICAgICAgICAgICAqIGxlYXN0IG9uZSBjb2x1bW4gdGhhdCBhY2NlcHRzIG51bWVyaWMgaW5wdXQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGhhc0lucHV0Q29sdW1uID0gZWwucXVlcnlTZWxlY3RvcignaW9uLXBpY2tlci1jb2x1bW4ucGlja2VyLWNvbHVtbi1udW1lcmljLWlucHV0Jyk7XG4gICAgICAgICAgICBpZiAoIWhhc0lucHV0Q29sdW1uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiBjb2x1bW5FbCBpcyB1bmRlZmluZWQgdGhlblxuICAgICAgICAgICAgICogaXQgaXMgYXNzdW1lZCB0aGF0IGFsbCBudW1lcmljIHBpY2tlcnNcbiAgICAgICAgICAgICAqIGFyZSBlbGlnaWJsZSBmb3IgdGV4dCBlbnRyeS5cbiAgICAgICAgICAgICAqIChpLmUuIGhvdXIgYW5kIG1pbnV0ZSBjb2x1bW5zKVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnVzZUlucHV0TW9kZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmlucHV0TW9kZUNvbHVtbiA9IGNvbHVtbkVsO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVc2VycyB3aXRoIGEga2V5Ym9hcmQgYW5kIG1vdXNlIGNhblxuICAgICAgICAgICAgICogYWN0aXZhdGUgaW5wdXQgbW9kZSB3aGVyZSB0aGUgaW5wdXQgaXNcbiAgICAgICAgICAgICAqIGZvY3VzZWQgYXMgd2VsbCBhcyB3aGVuIGl0IGlzIG5vdCBmb2N1c2VkLFxuICAgICAgICAgICAgICogc28gd2UgbmVlZCB0byBtYWtlIHN1cmUgd2UgY2xlYW4gdXAgYW55XG4gICAgICAgICAgICAgKiBvbGQgbGlzdGVuZXJzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoZm9jdXNJbnB1dCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlc3Ryb3lLZXlwcmVzc0xpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveUtleXByZXNzTGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95S2V5cHJlc3NMaXN0ZW5lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5wdXRFbC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBGVy01OTAwIFVzZSBrZXlkb3duIGluc3RlYWRcbiAgICAgICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHRoaXMub25LZXlQcmVzcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95S2V5cHJlc3NMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLm9uS2V5UHJlc3MpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVtaXRJbnB1dE1vZGVDaGFuZ2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbktleVByZXNzID0gKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGlucHV0RWwgfSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoIWlucHV0RWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IHBhcnNlSW50KGV2LmtleSwgMTApO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPbmx5IG51bWJlcnMgc2hvdWxkIGJlIGFsbG93ZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4ocGFyc2VkVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRFbC52YWx1ZSArPSBldi5rZXk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbklucHV0Q2hhbmdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2VsZWN0U2luZ2xlQ29sdW1uID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBpbnB1dEVsLCBpbnB1dE1vZGVDb2x1bW4sIHNpbmdsZUNvbHVtblNlYXJjaFRpbWVvdXQgfSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoIWlucHV0RWwgfHwgIWlucHV0TW9kZUNvbHVtbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBBcnJheS5mcm9tKGlucHV0TW9kZUNvbHVtbi5xdWVyeVNlbGVjdG9yQWxsKCdpb24tcGlja2VyLWNvbHVtbi1vcHRpb24nKSkuZmlsdGVyKChlbCkgPT4gZWwuZGlzYWJsZWQgIT09IHRydWUpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB1c2VycyBwYXVzZSBmb3IgYSBiaXQsIHRoZSBzZWFyY2hcbiAgICAgICAgICAgICAqIHZhbHVlIHNob3VsZCBiZSByZXNldCBzaW1pbGFyIHRvIGhvdyBhXG4gICAgICAgICAgICAgKiA8c2VsZWN0PiBiZWhhdmVzLiBTbyB0eXBpbmcgXCIzNFwiLCB3YWl0aW5nLFxuICAgICAgICAgICAgICogdGhlbiB0eXBpbmcgXCI1XCIgc2hvdWxkIHNlbGVjdCBcIjA1XCIuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChzaW5nbGVDb2x1bW5TZWFyY2hUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNpbmdsZUNvbHVtblNlYXJjaFRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zaW5nbGVDb2x1bW5TZWFyY2hUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaW5wdXRFbC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgICAgIHRoaXMuc2luZ2xlQ29sdW1uU2VhcmNoVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGb3IgdmFsdWVzIHRoYXQgYXJlIGxvbmdlciB0aGFuIDIgZGlnaXRzIGxvbmdcbiAgICAgICAgICAgICAqIHdlIHNob3VsZCBzaGlmdCB0aGUgdmFsdWUgb3ZlciAxIGNoYXJhY3RlclxuICAgICAgICAgICAgICogdG8gdGhlIGxlZnQuIFNvIHR5cGluZyBcIjQ1NlwiIHdvdWxkIHJlc3VsdCBpbiBcIjU2XCIuXG4gICAgICAgICAgICAgKiBUT0RPOiBJZiB3ZSB3YW50IHRvIHN1cHBvcnQgbW9yZSB0aGFuIGp1c3RcbiAgICAgICAgICAgICAqIHRpbWUgZW50cnksIHdlIHNob3VsZCB1cGRhdGUgdGhpcyB2YWx1ZSB0byBiZVxuICAgICAgICAgICAgICogdGhlIG1heCBsZW5ndGggb2YgYWxsIG9mIHRoZSBwaWNrZXIgaXRlbXMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChpbnB1dEVsLnZhbHVlLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IGlucHV0RWwudmFsdWUubGVuZ3RoIC0gMjtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTdHJpbmcgPSBpbnB1dEVsLnZhbHVlLnN1YnN0cmluZyhzdGFydEluZGV4KTtcbiAgICAgICAgICAgICAgICBpbnB1dEVsLnZhbHVlID0gbmV3U3RyaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0U2luZ2xlQ29sdW1uKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDaGVja2luZyB0aGUgdmFsdWUgb2YgdGhlIGlucHV0IGdldHMgcHJpb3JpdHlcbiAgICAgICAgICAgICAqIGZpcnN0LiBGb3IgZXhhbXBsZSwgaWYgdGhlIHZhbHVlIG9mIHRoZSBpbnB1dFxuICAgICAgICAgICAgICogaXMgXCIxXCIgYW5kIHdlIGVudGVyZWQgXCIyXCIsIHRoZW4gdGhlIGNvbXBsZXRlIHZhbHVlXG4gICAgICAgICAgICAgKiBpcyBcIjEyXCIgYW5kIHdlIHNob3VsZCBzZWxlY3QgaG91ciAxMi5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBSZWdleCByZW1vdmVzIGFueSBsZWFkaW5nIHplcm9zIGZyb20gdmFsdWVzIGxpa2UgXCIwMlwiLFxuICAgICAgICAgICAgICogYnV0IGl0IGtlZXBzIGEgc2luZ2xlIHplcm8gaWYgdGhlcmUgYXJlIG9ubHkgemVyb3MgaW4gdGhlIHN0cmluZy5cbiAgICAgICAgICAgICAqIDArKD89WzEtOV0pIC0tPiBNYXRjaCAxIG9yIG1vcmUgemVyb3MgdGhhdCBhcmUgZm9sbG93ZWQgYnkgMS05XG4gICAgICAgICAgICAgKiAwKyg/PTAkKSAtLT4gTWF0Y2ggMSBvciBtb3JlIHplcm9zIHRoYXQgbXVzdCBiZSBmb2xsb3dlZCBieSBvbmUgMCBhbmQgZW5kLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBmaW5kSXRlbUZyb21Db21wbGV0ZVZhbHVlID0gb3B0aW9ucy5maW5kKCh7IHRleHRDb250ZW50IH0pID0+IHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBLZXlib2FyZCBlbnRyeSBpcyBjdXJyZW50bHkgb25seSB1c2VkIGluc2lkZSBvZiBEYXRldGltZVxuICAgICAgICAgICAgICAgICAqIHdoZXJlIHdlIGd1YXJhbnRlZSB0ZXh0Q29udGVudCBpcyBzZXQuXG4gICAgICAgICAgICAgICAgICogSWYgd2UgZW5kIHVwIGV4cG9zaW5nIHRoaXMgZmVhdHVyZSBwdWJsaWNseSB3ZSBzaG91bGQgcmV2aXNpdCB0aGlzIGFzc3VtcHRpb24uXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkVGV4dCA9IHRleHRDb250ZW50LnJlcGxhY2UoL14wKyg/PVsxLTldKXwwKyg/PTAkKS8sICcnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkVGV4dCA9PT0gaW5wdXRFbC52YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGZpbmRJdGVtRnJvbUNvbXBsZXRlVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpbnB1dE1vZGVDb2x1bW4uc2V0VmFsdWUoZmluZEl0ZW1Gcm9tQ29tcGxldGVWYWx1ZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSB0eXBlZCBcIjU2XCIgdG8gZ2V0IG1pbnV0ZSA1NiwgdGhlbiB0eXBlZCBcIjdcIixcbiAgICAgICAgICAgICAqIHdlIHNob3VsZCBzZWxlY3QgXCIwN1wiIGFzIFwiNTY3XCIgaXMgbm90IGEgdmFsaWQgbWludXRlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoaW5wdXRFbC52YWx1ZS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFuZ2VkQ2hhcmFjdGVyID0gaW5wdXRFbC52YWx1ZS5zdWJzdHJpbmcoaW5wdXRFbC52YWx1ZS5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICBpbnB1dEVsLnZhbHVlID0gY2hhbmdlZENoYXJhY3RlcjtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdFNpbmdsZUNvbHVtbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VhcmNoZXMgYSBsaXN0IG9mIGNvbHVtbiBpdGVtcyBmb3IgYSBwYXJ0aWN1bGFyXG4gICAgICAgICAqIHZhbHVlLiBUaGlzIGlzIGN1cnJlbnRseSB1c2VkIGZvciBudW1lcmljIHZhbHVlcy5cbiAgICAgICAgICogVGhlIHplcm9CZWhhdmlvciBjYW4gYmUgc2V0IHRvIGFjY291bnQgZm9yIGxlYWRpbmdcbiAgICAgICAgICogb3IgdHJhaWxpbmcgemVyb3Mgd2hlbiBsb29raW5nIGF0IHRoZSBpdGVtIHRleHQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlYXJjaENvbHVtbiA9IChjb2xFbCwgdmFsdWUsIHplcm9CZWhhdmlvciA9ICdzdGFydCcpID0+IHtcbiAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBiZWhhdmlvciA9IHplcm9CZWhhdmlvciA9PT0gJ3N0YXJ0JyA/IC9eMCsvIDogLzAkLztcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShiZWhhdmlvciwgJycpO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gQXJyYXkuZnJvbShjb2xFbC5xdWVyeVNlbGVjdG9yQWxsKCdpb24tcGlja2VyLWNvbHVtbi1vcHRpb24nKSkuZmluZCgoZWwpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwuZGlzYWJsZWQgIT09IHRydWUgJiYgZWwudGV4dENvbnRlbnQucmVwbGFjZShiZWhhdmlvciwgJycpID09PSB2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKG9wdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbEVsLnNldFZhbHVlKG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gISFvcHRpb247XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBdHRlbXB0cyB0byBpbnRlbGxpZ2VudGx5IHNlYXJjaCB0aGUgZmlyc3QgYW5kIHNlY29uZFxuICAgICAgICAgKiBjb2x1bW4gYXMgaWYgdGhleSdyZSBudW1iZXIgY29sdW1ucyBmb3IgdGhlIHByb3ZpZGVkIG51bWJlcnNcbiAgICAgICAgICogd2hlcmUgdGhlIGZpcnN0IHR3byBudW1iZXJzIGFyZSB0aGUgZmlyc3QgY29sdW1uXG4gICAgICAgICAqIGFuZCB0aGUgbGFzdCAyIGFyZSB0aGUgbGFzdCBjb2x1bW4uIFRyaWVzIHRvIGFsbG93IGZvciB0aGUgZmlyc3RcbiAgICAgICAgICogbnVtYmVyIHRvIGJlIGlnbm9yZWQgZm9yIHNpdHVhdGlvbnMgd2hlcmUgdHlwb3Mgb2NjdXJyZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm11bHRpQ29sdW1uU2VhcmNoID0gKGZpcnN0Q29sdW1uLCBzZWNvbmRDb2x1bW4sIGlucHV0KSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5wdXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5wdXRBcnJheSA9IGlucHV0LnNwbGl0KCcnKTtcbiAgICAgICAgICAgIGNvbnN0IGhvdXJWYWx1ZSA9IGlucHV0QXJyYXkuc2xpY2UoMCwgMikuam9pbignJyk7XG4gICAgICAgICAgICAvLyBUcnkgdG8gZmluZCBhIG1hdGNoIGZvciB0aGUgZmlyc3QgdHdvIGRpZ2l0cyBpbiB0aGUgZmlyc3QgY29sdW1uXG4gICAgICAgICAgICBjb25zdCBmb3VuZEhvdXIgPSB0aGlzLnNlYXJjaENvbHVtbihmaXJzdENvbHVtbiwgaG91clZhbHVlKTtcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgbW9yZSB0aGFuIDIgZGlnaXRzIGFuZCBmb3VuZCBhIG1hdGNoIGZvciBob3VycyxcbiAgICAgICAgICAgIC8vIHVzZSB0aGUgcmVtYWluaW5nIGRpZ2l0cyBmb3IgdGhlIHNlY29uZCBjb2x1bW4gKG1pbnV0ZXMpXG4gICAgICAgICAgICBpZiAoaW5wdXRBcnJheS5sZW5ndGggPiAyICYmIGZvdW5kSG91cikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbnV0ZVZhbHVlID0gaW5wdXRBcnJheS5zbGljZSgyLCA0KS5qb2luKCcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaENvbHVtbihzZWNvbmRDb2x1bW4sIG1pbnV0ZVZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHdlIGNvdWxkbid0IGZpbmQgYSBtYXRjaCBmb3IgdGhlIHR3by1kaWdpdCBob3VyLCB0cnkgc2luZ2xlIGRpZ2l0IGFwcHJvYWNoZXNcbiAgICAgICAgICAgIGVsc2UgaWYgKCFmb3VuZEhvdXIgJiYgaW5wdXRBcnJheS5sZW5ndGggPj0gMSkge1xuICAgICAgICAgICAgICAgIC8vIEZpcnN0IHRyeSB0aGUgZmlyc3QgZGlnaXQgYXMgYSBzaW5nbGUtZGlnaXQgaG91clxuICAgICAgICAgICAgICAgIGxldCBzaW5nbGVEaWdpdEhvdXIgPSBpbnB1dEFycmF5WzBdO1xuICAgICAgICAgICAgICAgIGxldCBzaW5nbGVEaWdpdEZvdW5kID0gdGhpcy5zZWFyY2hDb2x1bW4oZmlyc3RDb2x1bW4sIHNpbmdsZURpZ2l0SG91cik7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhhdCBkaWRuJ3Qgd29yaywgdHJ5IHRoZSBzZWNvbmQgZGlnaXQgYXMgYSBzaW5nbGUtZGlnaXQgaG91clxuICAgICAgICAgICAgICAgIC8vIChoYW5kbGVzIGNhc2Ugd2hlcmUgdXNlciBtYWRlIGEgdHlwbyBpbiB0aGUgZmlyc3QgZGlnaXQsIG9yIHRoZXkgdHlwZWQgb3ZlciB0aGVtc2VsdmVzKVxuICAgICAgICAgICAgICAgIGlmICghc2luZ2xlRGlnaXRGb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dEFycmF5LnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZURpZ2l0SG91ciA9IGlucHV0QXJyYXlbMF07XG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZURpZ2l0Rm91bmQgPSB0aGlzLnNlYXJjaENvbHVtbihmaXJzdENvbHVtbiwgc2luZ2xlRGlnaXRIb3VyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBzaW5nbGUtZGlnaXQgaG91ciBhbmQgaGF2ZSByZW1haW5pbmcgZGlnaXRzLFxuICAgICAgICAgICAgICAgIC8vIHVzZSB1cCB0byAyIG9mIHRoZSByZW1haW5pbmcgZGlnaXRzIGZvciB0aGUgc2Vjb25kIGNvbHVtblxuICAgICAgICAgICAgICAgIGlmIChzaW5nbGVEaWdpdEZvdW5kICYmIGlucHV0QXJyYXkubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdEaWdpdHMgPSBpbnB1dEFycmF5LnNsaWNlKDEsIDMpLmpvaW4oJycpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaENvbHVtbihzZWNvbmRDb2x1bW4sIHJlbWFpbmluZ0RpZ2l0cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlbGVjdE11bHRpQ29sdW1uID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBpbnB1dEVsLCBlbCB9ID0gdGhpcztcbiAgICAgICAgICAgIGlmICghaW5wdXRFbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG51bWVyaWNQaWNrZXJzID0gQXJyYXkuZnJvbShlbC5xdWVyeVNlbGVjdG9yQWxsKCdpb24tcGlja2VyLWNvbHVtbicpKS5maWx0ZXIoKGNvbCkgPT4gY29sLm51bWVyaWNJbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBmaXJzdENvbHVtbiA9IG51bWVyaWNQaWNrZXJzWzBdO1xuICAgICAgICAgICAgY29uc3QgbGFzdENvbHVtbiA9IG51bWVyaWNQaWNrZXJzWzFdO1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gaW5wdXRFbC52YWx1ZTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiA0KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IGlucHV0RWwudmFsdWUubGVuZ3RoIC0gNDtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTdHJpbmcgPSBpbnB1dEVsLnZhbHVlLnN1YnN0cmluZyhzdGFydEluZGV4KTtcbiAgICAgICAgICAgICAgICBpbnB1dEVsLnZhbHVlID0gbmV3U3RyaW5nO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3U3RyaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tdWx0aUNvbHVtblNlYXJjaChmaXJzdENvbHVtbiwgbGFzdENvbHVtbiwgdmFsdWUpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VhcmNoZXMgdGhlIHZhbHVlIG9mIHRoZSBhY3RpdmUgY29sdW1uXG4gICAgICAgICAqIHRvIGRldGVybWluZSB3aGljaCB2YWx1ZSB1c2VycyBhcmUgdHJ5aW5nXG4gICAgICAgICAqIHRvIHNlbGVjdFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbklucHV0Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB1c2VJbnB1dE1vZGUsIGlucHV0RWwsIGlucHV0TW9kZUNvbHVtbiB9ID0gdGhpcztcbiAgICAgICAgICAgIGlmICghdXNlSW5wdXRNb2RlIHx8ICFpbnB1dEVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlucHV0TW9kZUNvbHVtbikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0U2luZ2xlQ29sdW1uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdE11bHRpQ29sdW1uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbWl0IGlvbklucHV0TW9kZUNoYW5nZS4gUGlja2VyIGNvbHVtbnNcbiAgICAgICAgICogbGlzdGVuIGZvciB0aGlzIGV2ZW50IHRvIGRldGVybWluZSB3aGV0aGVyXG4gICAgICAgICAqIG9yIG5vdCB0aGVpciBjb2x1bW4gaXMgXCJhY3RpdmVcIiBmb3IgdGV4dCBpbnB1dC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW1pdElucHV0TW9kZUNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdXNlSW5wdXRNb2RlLCBpbnB1dE1vZGVDb2x1bW4gfSA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLmlvbklucHV0TW9kZUNoYW5nZS5lbWl0KHtcbiAgICAgICAgICAgICAgICB1c2VJbnB1dE1vZGUsXG4gICAgICAgICAgICAgICAgaW5wdXRNb2RlQ29sdW1uLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHBpY2tlciBpcyBpbnRlcmFjdGVkIHdpdGhcbiAgICAgKiB3ZSBuZWVkIHRvIHByZXZlbnQgdG91Y2hzdGFydCBzbyBvdGhlclxuICAgICAqIGdlc3R1cmVzIGRvIG5vdCBmaXJlLiBGb3IgZXhhbXBsZSxcbiAgICAgKiBzY3JvbGxpbmcgb24gdGhlIHdoZWVsIHBpY2tlclxuICAgICAqIGluIGlvbi1kYXRldGltZSBzaG91bGQgbm90IGNhdXNlXG4gICAgICogYSBjYXJkIG1vZGFsIHRvIHN3aXBlIHRvIGNsb3NlLlxuICAgICAqL1xuICAgIHByZXZlbnRUb3VjaFN0YXJ0UHJvcGFnYXRpb24oZXYpIHtcbiAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgICAgICBnZXRFbGVtZW50Um9vdCh0aGlzLmVsKS5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgdGhpcy5vbkZvY3VzSW4pO1xuICAgICAgICBnZXRFbGVtZW50Um9vdCh0aGlzLmVsKS5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMub25Gb2N1c091dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIEV4aXRzIHRleHQgZW50cnkgbW9kZSBmb3IgdGhlIHBpY2tlclxuICAgICAqIFRoaXMgbWV0aG9kIGJsdXJzIHRoZSBoaWRkZW4gaW5wdXRcbiAgICAgKiBhbmQgY2F1c2UgdGhlIGtleWJvYXJkIHRvIGRpc21pc3MuXG4gICAgICovXG4gICAgYXN5bmMgZXhpdElucHV0TW9kZSgpIHtcbiAgICAgICAgY29uc3QgeyBpbnB1dEVsLCB1c2VJbnB1dE1vZGUgfSA9IHRoaXM7XG4gICAgICAgIGlmICghdXNlSW5wdXRNb2RlIHx8ICFpbnB1dEVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51c2VJbnB1dE1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnB1dE1vZGVDb2x1bW4gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlucHV0RWwuYmx1cigpO1xuICAgICAgICBpbnB1dEVsLnZhbHVlID0gJyc7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3lLZXlwcmVzc0xpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lLZXlwcmVzc0xpc3RlbmVyKCk7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lLZXlwcmVzc0xpc3RlbmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdElucHV0TW9kZUNoYW5nZSgpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoaChIb3N0LCB7IGtleTogJzI4ZjgxZTRlZDQ0YTYzMzE3ODU2MTc1N2M1MTk5YzJjOThmOTRiNzQnLCBvblBvaW50ZXJEb3duOiAoZXYpID0+IHRoaXMub25Qb2ludGVyRG93bihldiksIG9uQ2xpY2s6ICgpID0+IHRoaXMub25DbGljaygpIH0sIGgoXCJpbnB1dFwiLCB7IGtleTogJ2FiYjNkMWFkMjVlZjYzODU2YWY3ODA0MTExMTc1YTRkNTAwMDhiYzAnLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLCB0YWJpbmRleDogLTEsIGlucHV0bW9kZTogXCJudW1lcmljXCIsIHR5cGU6IFwibnVtYmVyXCIsIG9uS2V5RG93bjogKGV2KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoZSBcIkVudGVyXCIga2V5IHJlcHJlc2VudHNcbiAgICAgICAgICAgICAgICAgKiB0aGUgdXNlciBzdWJtaXR0aW5nIHRoZWlyIHRpbWVcbiAgICAgICAgICAgICAgICAgKiBzZWxlY3Rpb24sIHNvIHdlIHNob3VsZCBibHVyIHRoZVxuICAgICAgICAgICAgICAgICAqIGlucHV0IChhbmQgdGhlcmVmb3JlIGNsb3NlIHRoZSBrZXlib2FyZClcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIFVwZGF0aW5nIHRoZSBwaWNrZXIncyBzdGF0ZSB0byBubyBsb25nZXJcbiAgICAgICAgICAgICAgICAgKiBiZSBpbiBpbnB1dCBtb2RlIGlzIGhhbmRsZWQgaW4gdGhlIG9uQmx1clxuICAgICAgICAgICAgICAgICAqIGNhbGxiYWNrIGJlbG93LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChldi5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gdGhpcy5pbnB1dEVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmx1cigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlZjogKGVsKSA9PiAodGhpcy5pbnB1dEVsID0gZWwpLCBvbklucHV0OiAoKSA9PiB0aGlzLm9uSW5wdXRDaGFuZ2UoKSwgb25CbHVyOiAoKSA9PiB0aGlzLmV4aXRJbnB1dE1vZGUoKSB9KSwgaChcImRpdlwiLCB7IGtleTogJzMzNGE1YWJkYzAyZTZiMTI3YzU3MTc3ZjYyNmQ3ZTRmZjU1MjYxODMnLCBjbGFzczogXCJwaWNrZXItYmVmb3JlXCIgfSksIGgoXCJkaXZcIiwgeyBrZXk6ICdmZmQ2MjcxOTMxMTI5ZTg4ZmM3YzgyMGU5MTlkNjg0ODk5ZTQyMGM1JywgY2xhc3M6IFwicGlja2VyLWFmdGVyXCIgfSksIGgoXCJkaXZcIiwgeyBrZXk6ICc3OGQxZDk1ZmQwOWUwNGYxNTRlYTU5ZjI0YTFjZWNlNzJjNDdlZDdiJywgY2xhc3M6IFwicGlja2VyLWhpZ2hsaWdodFwiLCByZWY6IChlbCkgPT4gKHRoaXMuaGlnaGxpZ2h0RWwgPSBlbCkgfSksIGgoXCJzbG90XCIsIHsga2V5OiAnMGJkNWI5Zjg3NWQzYzcxZjZjYmJkZTIwNTRiYWViMWIwYTJlOGNkNScgfSkpKTtcbiAgICB9XG4gICAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxufTtcblBpY2tlci5zdHlsZSA9IHtcbiAgICBpb3M6IElvblBpY2tlcklvc1N0eWxlMCxcbiAgICBtZDogSW9uUGlja2VyTWRTdHlsZTBcbn07XG5cbmV4cG9ydCB7IFBpY2tlciBhcyBpb25fcGlja2VyIH07XG4iXSwibmFtZXMiOlsiciIsInJlZ2lzdGVySW5zdGFuY2UiLCJjIiwiY3JlYXRlRXZlbnQiLCJoIiwiZSIsIkhvc3QiLCJmIiwiZ2V0RWxlbWVudCIsImciLCJnZXRFbGVtZW50Um9vdCIsInBpY2tlcklvc0NzcyIsIklvblBpY2tlcklvc1N0eWxlMCIsInBpY2tlck1kQ3NzIiwiSW9uUGlja2VyTWRTdHlsZTAiLCJQaWNrZXIiLCJjb25zdHJ1Y3RvciIsImhvc3RSZWYiLCJpb25JbnB1dE1vZGVDaGFuZ2UiLCJ1c2VJbnB1dE1vZGUiLCJpc0luSGlnaGxpZ2h0Qm91bmRzIiwiZXYiLCJoaWdobGlnaHRFbCIsImJib3giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJvdXRzaWRlWCIsImNsaWVudFgiLCJsZWZ0IiwicmlnaHQiLCJvdXRzaWRlWSIsImNsaWVudFkiLCJ0b3AiLCJib3R0b20iLCJvbkZvY3VzT3V0IiwicmVsYXRlZFRhcmdldCIsInRhZ05hbWUiLCJpbnB1dEVsIiwiZXhpdElucHV0TW9kZSIsIm9uRm9jdXNJbiIsInRhcmdldCIsImFjdGlvbk9uQ2xpY2siLCJjb2x1bW5FbCIsImFsbG93SW5wdXQiLCJudW1lcmljSW5wdXQiLCJlbnRlcklucHV0TW9kZSIsIm9uQ2xpY2siLCJ1bmRlZmluZWQiLCJvblBvaW50ZXJEb3duIiwiaW5wdXRNb2RlQ29sdW1uIiwiZWwiLCJjb2x1bW5zIiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsImZvY3VzSW5wdXQiLCJoYXNJbnB1dENvbHVtbiIsInF1ZXJ5U2VsZWN0b3IiLCJkZXN0cm95S2V5cHJlc3NMaXN0ZW5lciIsImZvY3VzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uS2V5UHJlc3MiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZW1pdElucHV0TW9kZUNoYW5nZSIsInBhcnNlZFZhbHVlIiwicGFyc2VJbnQiLCJrZXkiLCJOdW1iZXIiLCJpc05hTiIsInZhbHVlIiwib25JbnB1dENoYW5nZSIsInNlbGVjdFNpbmdsZUNvbHVtbiIsInNpbmdsZUNvbHVtblNlYXJjaFRpbWVvdXQiLCJvcHRpb25zIiwiQXJyYXkiLCJmcm9tIiwiZmlsdGVyIiwiZGlzYWJsZWQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwic3RhcnRJbmRleCIsIm5ld1N0cmluZyIsInN1YnN0cmluZyIsImZpbmRJdGVtRnJvbUNvbXBsZXRlVmFsdWUiLCJmaW5kIiwidGV4dENvbnRlbnQiLCJwYXJzZWRUZXh0IiwicmVwbGFjZSIsInNldFZhbHVlIiwiY2hhbmdlZENoYXJhY3RlciIsInNlYXJjaENvbHVtbiIsImNvbEVsIiwiemVyb0JlaGF2aW9yIiwiYmVoYXZpb3IiLCJvcHRpb24iLCJtdWx0aUNvbHVtblNlYXJjaCIsImZpcnN0Q29sdW1uIiwic2Vjb25kQ29sdW1uIiwiaW5wdXQiLCJpbnB1dEFycmF5Iiwic3BsaXQiLCJob3VyVmFsdWUiLCJzbGljZSIsImpvaW4iLCJmb3VuZEhvdXIiLCJtaW51dGVWYWx1ZSIsInNpbmdsZURpZ2l0SG91ciIsInNpbmdsZURpZ2l0Rm91bmQiLCJzaGlmdCIsInJlbWFpbmluZ0RpZ2l0cyIsInNlbGVjdE11bHRpQ29sdW1uIiwibnVtZXJpY1BpY2tlcnMiLCJjb2wiLCJsYXN0Q29sdW1uIiwiZW1pdCIsInByZXZlbnRUb3VjaFN0YXJ0UHJvcGFnYXRpb24iLCJzdG9wUHJvcGFnYXRpb24iLCJjb21wb25lbnRXaWxsTG9hZCIsIl90aGlzIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJibHVyIiwicmVuZGVyIiwidGFiaW5kZXgiLCJpbnB1dG1vZGUiLCJ0eXBlIiwib25LZXlEb3duIiwiX2EiLCJyZWYiLCJvbklucHV0Iiwib25CbHVyIiwiY2xhc3MiLCJzdHlsZSIsImlvcyIsIm1kIiwiaW9uX3BpY2tlciJdLCJzb3VyY2VSb290Ijoid2VicGFjazovLy8iLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMF19