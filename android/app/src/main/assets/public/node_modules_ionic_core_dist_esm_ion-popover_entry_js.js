"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-popover_entry_js"],{

/***/ 6772:
/*!****************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-popover.entry.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ion_popover: () => (/* binding */ Popover)
/* harmony export */ });
/* harmony import */ var C_Users_Faizan_Desktop_Desktop_Projects_tactical_trap_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 9204);
/* harmony import */ var _index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-B_U9CtaY.js */ 4917);
/* harmony import */ var _overlays_8Y2rA_ps_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./overlays-8Y2rA-ps.js */ 548);
/* harmony import */ var _framework_delegate_DxcnWic_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./framework-delegate-DxcnWic_.js */ 8104);
/* harmony import */ var _helpers_1O4D2b7y_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helpers-1O4D2b7y.js */ 450);
/* harmony import */ var _lock_controller_B_hirT0v_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lock-controller-B-hirT0v.js */ 2377);
/* harmony import */ var _theme_DiVJyqlX_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./theme-DiVJyqlX.js */ 247);
/* harmony import */ var _index_DfBA5ztX_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./index-DfBA5ztX.js */ 6153);
/* harmony import */ var _animation_BWcUKtbn_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./animation-BWcUKtbn.js */ 879);
/* harmony import */ var _index_ZjP4CjeZ_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./index-ZjP4CjeZ.js */ 575);
/* harmony import */ var _hardware_back_button_DcH0BbDp_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./hardware-back-button-DcH0BbDp.js */ 3819);
/* harmony import */ var _gesture_controller_BTEOs1at_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./gesture-controller-BTEOs1at.js */ 566);

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */












/**
 * Returns the dimensions of the popover
 * arrow on `ios` mode. If arrow is disabled
 * returns (0, 0).
 */
const getArrowDimensions = arrowEl => {
  if (!arrowEl) {
    return {
      arrowWidth: 0,
      arrowHeight: 0
    };
  }
  const {
    width,
    height
  } = arrowEl.getBoundingClientRect();
  return {
    arrowWidth: width,
    arrowHeight: height
  };
};
/**
 * Returns the recommended dimensions of the popover
 * that takes into account whether or not the width
 * should match the trigger width.
 */
const getPopoverDimensions = (size, contentEl, triggerEl) => {
  const contentDimentions = contentEl.getBoundingClientRect();
  const contentHeight = contentDimentions.height;
  let contentWidth = contentDimentions.width;
  if (size === 'cover' && triggerEl) {
    const triggerDimensions = triggerEl.getBoundingClientRect();
    contentWidth = triggerDimensions.width;
  }
  return {
    contentWidth,
    contentHeight
  };
};
const configureDismissInteraction = (triggerEl, triggerAction, popoverEl, parentPopoverEl) => {
  let dismissCallbacks = [];
  const root = (0,_helpers_1O4D2b7y_js__WEBPACK_IMPORTED_MODULE_4__.g)(parentPopoverEl);
  const parentContentEl = root.querySelector('.popover-content');
  switch (triggerAction) {
    case 'hover':
      dismissCallbacks = [{
        /**
         * Do not use mouseover here
         * as this will causes the event to
         * be dispatched on each underlying
         * element rather than on the popover
         * content as a whole.
         */
        eventName: 'mouseenter',
        callback: ev => {
          /**
           * Do not dismiss the popover is we
           * are hovering over its trigger.
           * This would be easier if we used mouseover
           * but this would cause the event to be dispatched
           * more often than we would like, potentially
           * causing performance issues.
           */
          const element = document.elementFromPoint(ev.clientX, ev.clientY);
          if (element === triggerEl) {
            return;
          }
          popoverEl.dismiss(undefined, undefined, false);
        }
      }];
      break;
    case 'context-menu':
    case 'click':
    default:
      dismissCallbacks = [{
        eventName: 'click',
        callback: ev => {
          /**
           * Do not dismiss the popover is we
           * are hovering over its trigger.
           */
          const target = ev.target;
          const closestTrigger = target.closest('[data-ion-popover-trigger]');
          if (closestTrigger === triggerEl) {
            /**
             * stopPropagation here so if the
             * popover has dismissOnSelect="true"
             * the popover does not dismiss since
             * we just clicked a trigger element.
             */
            ev.stopPropagation();
            return;
          }
          popoverEl.dismiss(undefined, undefined, false);
        }
      }];
      break;
  }
  dismissCallbacks.forEach(({
    eventName,
    callback
  }) => parentContentEl.addEventListener(eventName, callback));
  return () => {
    dismissCallbacks.forEach(({
      eventName,
      callback
    }) => parentContentEl.removeEventListener(eventName, callback));
  };
};
/**
 * Configures the triggerEl to respond
 * to user interaction based upon the triggerAction
 * prop that devs have defined.
 */
const configureTriggerInteraction = (triggerEl, triggerAction, popoverEl) => {
  let triggerCallbacks = [];
  /**
   * Based upon the kind of trigger interaction
   * the user wants, we setup the correct event
   * listeners.
   */
  switch (triggerAction) {
    case 'hover':
      let hoverTimeout;
      triggerCallbacks = [{
        eventName: 'mouseenter',
        callback: function () {
          var _ref = (0,C_Users_Faizan_Desktop_Desktop_Projects_tactical_trap_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (ev) {
            ev.stopPropagation();
            if (hoverTimeout) {
              clearTimeout(hoverTimeout);
            }
            /**
             * Hovering over a trigger should not
             * immediately open the next popover.
             */
            hoverTimeout = setTimeout(() => {
              (0,_helpers_1O4D2b7y_js__WEBPACK_IMPORTED_MODULE_4__.r)(() => {
                popoverEl.presentFromTrigger(ev);
                hoverTimeout = undefined;
              });
            }, 100);
          });
          return function callback(_x) {
            return _ref.apply(this, arguments);
          };
        }()
      }, {
        eventName: 'mouseleave',
        callback: ev => {
          if (hoverTimeout) {
            clearTimeout(hoverTimeout);
          }
          /**
           * If mouse is over another popover
           * that is not this popover then we should
           * close this popover.
           */
          const target = ev.relatedTarget;
          if (!target) {
            return;
          }
          if (target.closest('ion-popover') !== popoverEl) {
            popoverEl.dismiss(undefined, undefined, false);
          }
        }
      }, {
        /**
         * stopPropagation here prevents the popover
         * from dismissing when dismiss-on-select="true".
         */
        eventName: 'click',
        callback: ev => ev.stopPropagation()
      }, {
        eventName: 'ionPopoverActivateTrigger',
        callback: ev => popoverEl.presentFromTrigger(ev, true)
      }];
      break;
    case 'context-menu':
      triggerCallbacks = [{
        eventName: 'contextmenu',
        callback: ev => {
          /**
           * Prevents the platform context
           * menu from appearing.
           */
          ev.preventDefault();
          popoverEl.presentFromTrigger(ev);
        }
      }, {
        eventName: 'click',
        callback: ev => ev.stopPropagation()
      }, {
        eventName: 'ionPopoverActivateTrigger',
        callback: ev => popoverEl.presentFromTrigger(ev, true)
      }];
      break;
    case 'click':
    default:
      triggerCallbacks = [{
        /**
         * Do not do a stopPropagation() here
         * because if you had two click triggers
         * then clicking the first trigger and then
         * clicking the second trigger would not cause
         * the first popover to dismiss.
         */
        eventName: 'click',
        callback: ev => popoverEl.presentFromTrigger(ev)
      }, {
        eventName: 'ionPopoverActivateTrigger',
        callback: ev => popoverEl.presentFromTrigger(ev, true)
      }];
      break;
  }
  triggerCallbacks.forEach(({
    eventName,
    callback
  }) => triggerEl.addEventListener(eventName, callback));
  triggerEl.setAttribute('data-ion-popover-trigger', 'true');
  return () => {
    triggerCallbacks.forEach(({
      eventName,
      callback
    }) => triggerEl.removeEventListener(eventName, callback));
    triggerEl.removeAttribute('data-ion-popover-trigger');
  };
};
/**
 * Returns the index of an ion-item in an array of ion-items.
 */
const getIndexOfItem = (items, item) => {
  if (!item || item.tagName !== 'ION-ITEM') {
    return -1;
  }
  return items.findIndex(el => el === item);
};
/**
 * Given an array of elements and a currently focused ion-item
 * returns the next ion-item relative to the focused one or
 * undefined.
 */
const getNextItem = (items, currentItem) => {
  const currentItemIndex = getIndexOfItem(items, currentItem);
  return items[currentItemIndex + 1];
};
/**
 * Given an array of elements and a currently focused ion-item
 * returns the previous ion-item relative to the focused one or
 * undefined.
 */
const getPrevItem = (items, currentItem) => {
  const currentItemIndex = getIndexOfItem(items, currentItem);
  return items[currentItemIndex - 1];
};
/** Focus the internal button of the ion-item */
const focusItem = item => {
  const root = (0,_helpers_1O4D2b7y_js__WEBPACK_IMPORTED_MODULE_4__.g)(item);
  const button = root.querySelector('button');
  if (button) {
    (0,_helpers_1O4D2b7y_js__WEBPACK_IMPORTED_MODULE_4__.r)(() => button.focus());
  }
};
/**
 * Returns `true` if `el` has been designated
 * as a trigger element for an ion-popover.
 */
const isTriggerElement = el => el.hasAttribute('data-ion-popover-trigger');
const configureKeyboardInteraction = popoverEl => {
  const callback = /*#__PURE__*/function () {
    var _ref2 = (0,C_Users_Faizan_Desktop_Desktop_Projects_tactical_trap_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (ev) {
      var _a;
      const activeElement = document.activeElement;
      let items = [];
      const targetTagName = (_a = ev.target) === null || _a === void 0 ? void 0 : _a.tagName;
      /**
       * Only handle custom keyboard interactions for the host popover element
       * and children ion-item elements.
       */
      if (targetTagName !== 'ION-POPOVER' && targetTagName !== 'ION-ITEM') {
        return;
      }
      /**
       * Complex selectors with :not() are :not supported
       * in older versions of Chromium so we need to do a
       * try/catch here so errors are not thrown.
       */
      try {
        /**
         * Select all ion-items that are not children of child popovers.
         * i.e. only select ion-item elements that are part of this popover
         */
        items = Array.from(popoverEl.querySelectorAll('ion-item:not(ion-popover ion-popover *):not([disabled])'));
        /* eslint-disable-next-line */
      } catch (_b) {}
      switch (ev.key) {
        /**
         * If we are in a child popover
         * then pressing the left arrow key
         * should close this popover and move
         * focus to the popover that presented
         * this one.
         */
        case 'ArrowLeft':
          const parentPopover = yield popoverEl.getParentPopover();
          if (parentPopover) {
            popoverEl.dismiss(undefined, undefined, false);
          }
          break;
        /**
         * ArrowDown should move focus to the next focusable ion-item.
         */
        case 'ArrowDown':
          // Disable movement/scroll with keyboard
          ev.preventDefault();
          const nextItem = getNextItem(items, activeElement);
          if (nextItem !== undefined) {
            focusItem(nextItem);
          }
          break;
        /**
         * ArrowUp should move focus to the previous focusable ion-item.
         */
        case 'ArrowUp':
          // Disable movement/scroll with keyboard
          ev.preventDefault();
          const prevItem = getPrevItem(items, activeElement);
          if (prevItem !== undefined) {
            focusItem(prevItem);
          }
          break;
        /**
         * Home should move focus to the first focusable ion-item.
         */
        case 'Home':
          ev.preventDefault();
          const firstItem = items[0];
          if (firstItem !== undefined) {
            focusItem(firstItem);
          }
          break;
        /**
         * End should move focus to the last focusable ion-item.
         */
        case 'End':
          ev.preventDefault();
          const lastItem = items[items.length - 1];
          if (lastItem !== undefined) {
            focusItem(lastItem);
          }
          break;
        /**
         * ArrowRight, Spacebar, or Enter should activate
         * the currently focused trigger item to open a
         * popover if the element is a trigger item.
         */
        case 'ArrowRight':
        case ' ':
        case 'Enter':
          if (activeElement && isTriggerElement(activeElement)) {
            const rightEvent = new CustomEvent('ionPopoverActivateTrigger');
            activeElement.dispatchEvent(rightEvent);
          }
          break;
      }
    });
    return function callback(_x2) {
      return _ref2.apply(this, arguments);
    };
  }();
  popoverEl.addEventListener('keydown', callback);
  return () => popoverEl.removeEventListener('keydown', callback);
};
/**
 * Positions a popover by taking into account
 * the reference point, preferred side, alignment
 * and viewport dimensions.
 */
const getPopoverPosition = (isRTL, contentWidth, contentHeight, arrowWidth, arrowHeight, reference, side, align, defaultPosition, triggerEl, event) => {
  var _a;
  let referenceCoordinates = {
    top: 0,
    left: 0,
    width: 0,
    height: 0
  };
  /**
   * Calculate position relative to the
   * x-y coordinates in the event that
   * was passed in
   */
  switch (reference) {
    case 'event':
      if (!event) {
        return defaultPosition;
      }
      const mouseEv = event;
      referenceCoordinates = {
        top: mouseEv.clientY,
        left: mouseEv.clientX,
        width: 1,
        height: 1
      };
      break;
    /**
     * Calculate position relative to the bounding
     * box on either the trigger element
     * specified via the `trigger` prop or
     * the target specified on the event
     * that was passed in.
     */
    case 'trigger':
    default:
      const customEv = event;
      /**
       * ionShadowTarget is used when we need to align the
       * popover with an element inside of the shadow root
       * of an Ionic component. Ex: Presenting a popover
       * by clicking on the collapsed indicator inside
       * of `ion-breadcrumb` and centering it relative
       * to the indicator rather than `ion-breadcrumb`
       * as a whole.
       */
      const actualTriggerEl = triggerEl || ((_a = customEv === null || customEv === void 0 ? void 0 : customEv.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (customEv === null || customEv === void 0 ? void 0 : customEv.target);
      if (!actualTriggerEl) {
        return defaultPosition;
      }
      const triggerBoundingBox = actualTriggerEl.getBoundingClientRect();
      referenceCoordinates = {
        top: triggerBoundingBox.top,
        left: triggerBoundingBox.left,
        width: triggerBoundingBox.width,
        height: triggerBoundingBox.height
      };
      break;
  }
  /**
   * Get top/left offset that would allow
   * popover to be positioned on the
   * preferred side of the reference.
   */
  const coordinates = calculatePopoverSide(side, referenceCoordinates, contentWidth, contentHeight, arrowWidth, arrowHeight, isRTL);
  /**
   * Get the top/left adjustments that
   * would allow the popover content
   * to have the correct alignment.
   */
  const alignedCoordinates = calculatePopoverAlign(align, side, referenceCoordinates, contentWidth, contentHeight);
  const top = coordinates.top + alignedCoordinates.top;
  const left = coordinates.left + alignedCoordinates.left;
  const {
    arrowTop,
    arrowLeft
  } = calculateArrowPosition(side, arrowWidth, arrowHeight, top, left, contentWidth, contentHeight, isRTL);
  const {
    originX,
    originY
  } = calculatePopoverOrigin(side, align, isRTL);
  return {
    top,
    left,
    referenceCoordinates,
    arrowTop,
    arrowLeft,
    originX,
    originY
  };
};
/**
 * Determines the transform-origin
 * of the popover animation so that it
 * is in line with what the side and alignment
 * prop values are. Currently only used
 * with the MD animation.
 */
const calculatePopoverOrigin = (side, align, isRTL) => {
  switch (side) {
    case 'top':
      return {
        originX: getOriginXAlignment(align),
        originY: 'bottom'
      };
    case 'bottom':
      return {
        originX: getOriginXAlignment(align),
        originY: 'top'
      };
    case 'left':
      return {
        originX: 'right',
        originY: getOriginYAlignment(align)
      };
    case 'right':
      return {
        originX: 'left',
        originY: getOriginYAlignment(align)
      };
    case 'start':
      return {
        originX: isRTL ? 'left' : 'right',
        originY: getOriginYAlignment(align)
      };
    case 'end':
      return {
        originX: isRTL ? 'right' : 'left',
        originY: getOriginYAlignment(align)
      };
  }
};
const getOriginXAlignment = align => {
  switch (align) {
    case 'start':
      return 'left';
    case 'center':
      return 'center';
    case 'end':
      return 'right';
  }
};
const getOriginYAlignment = align => {
  switch (align) {
    case 'start':
      return 'top';
    case 'center':
      return 'center';
    case 'end':
      return 'bottom';
  }
};
/**
 * Calculates where the arrow positioning
 * should be relative to the popover content.
 */
const calculateArrowPosition = (side, arrowWidth, arrowHeight, top, left, contentWidth, contentHeight, isRTL) => {
  /**
   * Note: When side is left, right, start, or end, the arrow is
   * been rotated using a `transform`, so to move the arrow up or down
   * by its dimension, you need to use `arrowWidth`.
   */
  const leftPosition = {
    arrowTop: top + contentHeight / 2 - arrowWidth / 2,
    arrowLeft: left + contentWidth - arrowWidth / 2
  };
  /**
   * Move the arrow to the left by arrowWidth and then
   * again by half of its width because we have rotated
   * the arrow using a transform.
   */
  const rightPosition = {
    arrowTop: top + contentHeight / 2 - arrowWidth / 2,
    arrowLeft: left - arrowWidth * 1.5
  };
  switch (side) {
    case 'top':
      return {
        arrowTop: top + contentHeight,
        arrowLeft: left + contentWidth / 2 - arrowWidth / 2
      };
    case 'bottom':
      return {
        arrowTop: top - arrowHeight,
        arrowLeft: left + contentWidth / 2 - arrowWidth / 2
      };
    case 'left':
      return leftPosition;
    case 'right':
      return rightPosition;
    case 'start':
      return isRTL ? rightPosition : leftPosition;
    case 'end':
      return isRTL ? leftPosition : rightPosition;
    default:
      return {
        arrowTop: 0,
        arrowLeft: 0
      };
  }
};
/**
 * Calculates the required top/left
 * values needed to position the popover
 * content on the side specified in the
 * `side` prop.
 */
const calculatePopoverSide = (side, triggerBoundingBox, contentWidth, contentHeight, arrowWidth, arrowHeight, isRTL) => {
  const sideLeft = {
    top: triggerBoundingBox.top,
    left: triggerBoundingBox.left - contentWidth - arrowWidth
  };
  const sideRight = {
    top: triggerBoundingBox.top,
    left: triggerBoundingBox.left + triggerBoundingBox.width + arrowWidth
  };
  switch (side) {
    case 'top':
      return {
        top: triggerBoundingBox.top - contentHeight - arrowHeight,
        left: triggerBoundingBox.left
      };
    case 'right':
      return sideRight;
    case 'bottom':
      return {
        top: triggerBoundingBox.top + triggerBoundingBox.height + arrowHeight,
        left: triggerBoundingBox.left
      };
    case 'left':
      return sideLeft;
    case 'start':
      return isRTL ? sideRight : sideLeft;
    case 'end':
      return isRTL ? sideLeft : sideRight;
  }
};
/**
 * Calculates the required top/left
 * offset values needed to provide the
 * correct alignment regardless while taking
 * into account the side the popover is on.
 */
const calculatePopoverAlign = (align, side, triggerBoundingBox, contentWidth, contentHeight) => {
  switch (align) {
    case 'center':
      return calculatePopoverCenterAlign(side, triggerBoundingBox, contentWidth, contentHeight);
    case 'end':
      return calculatePopoverEndAlign(side, triggerBoundingBox, contentWidth, contentHeight);
    case 'start':
    default:
      return {
        top: 0,
        left: 0
      };
  }
};
/**
 * Calculate the end alignment for
 * the popover. If side is on the x-axis
 * then the align values refer to the top
 * and bottom margins of the content.
 * If side is on the y-axis then the
 * align values refer to the left and right
 * margins of the content.
 */
const calculatePopoverEndAlign = (side, triggerBoundingBox, contentWidth, contentHeight) => {
  switch (side) {
    case 'start':
    case 'end':
    case 'left':
    case 'right':
      return {
        top: -(contentHeight - triggerBoundingBox.height),
        left: 0
      };
    case 'top':
    case 'bottom':
    default:
      return {
        top: 0,
        left: -(contentWidth - triggerBoundingBox.width)
      };
  }
};
/**
 * Calculate the center alignment for
 * the popover. If side is on the x-axis
 * then the align values refer to the top
 * and bottom margins of the content.
 * If side is on the y-axis then the
 * align values refer to the left and right
 * margins of the content.
 */
const calculatePopoverCenterAlign = (side, triggerBoundingBox, contentWidth, contentHeight) => {
  switch (side) {
    case 'start':
    case 'end':
    case 'left':
    case 'right':
      return {
        top: -(contentHeight / 2 - triggerBoundingBox.height / 2),
        left: 0
      };
    case 'top':
    case 'bottom':
    default:
      return {
        top: 0,
        left: -(contentWidth / 2 - triggerBoundingBox.width / 2)
      };
  }
};
/**
 * Adjusts popover positioning coordinates
 * such that popover does not appear offscreen
 * or overlapping safe area bounds.
 */
const calculateWindowAdjustment = (side, coordTop, coordLeft, bodyPadding, bodyWidth, bodyHeight, contentWidth, contentHeight, safeAreaMargin, contentOriginX, contentOriginY, triggerCoordinates, coordArrowTop = 0, coordArrowLeft = 0, arrowHeight = 0) => {
  let arrowTop = coordArrowTop;
  const arrowLeft = coordArrowLeft;
  let left = coordLeft;
  let top = coordTop;
  let bottom;
  let originX = contentOriginX;
  let originY = contentOriginY;
  let checkSafeAreaLeft = false;
  let checkSafeAreaRight = false;
  const triggerTop = triggerCoordinates ? triggerCoordinates.top + triggerCoordinates.height : bodyHeight / 2 - contentHeight / 2;
  const triggerHeight = triggerCoordinates ? triggerCoordinates.height : 0;
  let addPopoverBottomClass = false;
  /**
   * Adjust popover so it does not
   * go off the left of the screen.
   */
  if (left < bodyPadding + safeAreaMargin) {
    left = bodyPadding;
    checkSafeAreaLeft = true;
    originX = 'left';
    /**
     * Adjust popover so it does not
     * go off the right of the screen.
     */
  } else if (contentWidth + bodyPadding + left + safeAreaMargin > bodyWidth) {
    checkSafeAreaRight = true;
    left = bodyWidth - contentWidth - bodyPadding;
    originX = 'right';
  }
  /**
   * Adjust popover so it does not
   * go off the top of the screen.
   * If popover is on the left or the right of
   * the trigger, then we should not adjust top
   * margins.
   */
  if (triggerTop + triggerHeight + contentHeight > bodyHeight && (side === 'top' || side === 'bottom')) {
    if (triggerTop - contentHeight > 0) {
      /**
       * While we strive to align the popover with the trigger
       * on smaller screens this is not always possible. As a result,
       * we adjust the popover up so that it does not hang
       * off the bottom of the screen. However, we do not want to move
       * the popover up so much that it goes off the top of the screen.
       *
       * We chose 12 here so that the popover position looks a bit nicer as
       * it is not right up against the edge of the screen.
       */
      top = Math.max(12, triggerTop - contentHeight - triggerHeight - (arrowHeight - 1));
      arrowTop = top + contentHeight;
      originY = 'bottom';
      addPopoverBottomClass = true;
      /**
       * If not enough room for popover to appear
       * above trigger, then cut it off.
       */
    } else {
      bottom = bodyPadding;
    }
  }
  return {
    top,
    left,
    bottom,
    originX,
    originY,
    checkSafeAreaLeft,
    checkSafeAreaRight,
    arrowTop,
    arrowLeft,
    addPopoverBottomClass
  };
};
const shouldShowArrow = (side, didAdjustBounds = false, ev, trigger) => {
  /**
   * If no event provided and
   * we do not have a trigger,
   * then this popover was likely
   * presented via the popoverController
   * or users called `present` manually.
   * In this case, the arrow should not be
   * shown as we do not have a reference.
   */
  if (!ev && !trigger) {
    return false;
  }
  /**
   * If popover is on the left or the right
   * of a trigger, but we needed to adjust the
   * popover due to screen bounds, then we should
   * hide the arrow as it will never be pointing
   * at the trigger.
   */
  if (side !== 'top' && side !== 'bottom' && didAdjustBounds) {
    return false;
  }
  return true;
};
const POPOVER_IOS_BODY_PADDING = 5;
/**
 * iOS Popover Enter Animation
 */
// TODO(FW-2832): types
const iosEnterAnimation = (baseEl, opts) => {
  var _a;
  const {
    event: ev,
    size,
    trigger,
    reference,
    side,
    align
  } = opts;
  const doc = baseEl.ownerDocument;
  const isRTL = doc.dir === 'rtl';
  const bodyWidth = doc.defaultView.innerWidth;
  const bodyHeight = doc.defaultView.innerHeight;
  const root = (0,_helpers_1O4D2b7y_js__WEBPACK_IMPORTED_MODULE_4__.g)(baseEl);
  const contentEl = root.querySelector('.popover-content');
  const arrowEl = root.querySelector('.popover-arrow');
  const referenceSizeEl = trigger || ((_a = ev === null || ev === void 0 ? void 0 : ev.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (ev === null || ev === void 0 ? void 0 : ev.target);
  const {
    contentWidth,
    contentHeight
  } = getPopoverDimensions(size, contentEl, referenceSizeEl);
  const {
    arrowWidth,
    arrowHeight
  } = getArrowDimensions(arrowEl);
  const defaultPosition = {
    top: bodyHeight / 2 - contentHeight / 2,
    left: bodyWidth / 2 - contentWidth / 2,
    originX: isRTL ? 'right' : 'left',
    originY: 'top'
  };
  const results = getPopoverPosition(isRTL, contentWidth, contentHeight, arrowWidth, arrowHeight, reference, side, align, defaultPosition, trigger, ev);
  const padding = size === 'cover' ? 0 : POPOVER_IOS_BODY_PADDING;
  const margin = size === 'cover' ? 0 : 25;
  const {
    originX,
    originY,
    top,
    left,
    bottom,
    checkSafeAreaLeft,
    checkSafeAreaRight,
    arrowTop,
    arrowLeft,
    addPopoverBottomClass
  } = calculateWindowAdjustment(side, results.top, results.left, padding, bodyWidth, bodyHeight, contentWidth, contentHeight, margin, results.originX, results.originY, results.referenceCoordinates, results.arrowTop, results.arrowLeft, arrowHeight);
  const baseAnimation = (0,_animation_BWcUKtbn_js__WEBPACK_IMPORTED_MODULE_8__.c)();
  const backdropAnimation = (0,_animation_BWcUKtbn_js__WEBPACK_IMPORTED_MODULE_8__.c)();
  const contentAnimation = (0,_animation_BWcUKtbn_js__WEBPACK_IMPORTED_MODULE_8__.c)();
  backdropAnimation.addElement(root.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({
    'pointer-events': 'none'
  }).afterClearStyles(['pointer-events']);
  // In Chromium, if the wrapper animates, the backdrop filter doesn't work.
  // The Chromium team stated that this behavior is expected and not a bug. The element animating opacity creates a backdrop root for the backdrop-filter.
  // To get around this, instead of animating the wrapper, animate both the arrow and content.
  // https://bugs.chromium.org/p/chromium/issues/detail?id=1148826
  contentAnimation.addElement(root.querySelector('.popover-arrow')).addElement(root.querySelector('.popover-content')).fromTo('opacity', 0.01, 1);
  // TODO(FW-4376) Ensure that arrow also blurs when translucent
  return baseAnimation.easing('ease').duration(100).beforeAddWrite(() => {
    if (size === 'cover') {
      baseEl.style.setProperty('--width', `${contentWidth}px`);
    }
    if (addPopoverBottomClass) {
      baseEl.classList.add('popover-bottom');
    }
    if (bottom !== undefined) {
      contentEl.style.setProperty('bottom', `${bottom}px`);
    }
    const safeAreaLeft = ' + var(--ion-safe-area-left, 0)';
    const safeAreaRight = ' - var(--ion-safe-area-right, 0)';
    let leftValue = `${left}px`;
    if (checkSafeAreaLeft) {
      leftValue = `${left}px${safeAreaLeft}`;
    }
    if (checkSafeAreaRight) {
      leftValue = `${left}px${safeAreaRight}`;
    }
    contentEl.style.setProperty('top', `calc(${top}px + var(--offset-y, 0))`);
    contentEl.style.setProperty('left', `calc(${leftValue} + var(--offset-x, 0))`);
    contentEl.style.setProperty('transform-origin', `${originY} ${originX}`);
    if (arrowEl !== null) {
      const didAdjustBounds = results.top !== top || results.left !== left;
      const showArrow = shouldShowArrow(side, didAdjustBounds, ev, trigger);
      if (showArrow) {
        arrowEl.style.setProperty('top', `calc(${arrowTop}px + var(--offset-y, 0))`);
        arrowEl.style.setProperty('left', `calc(${arrowLeft}px + var(--offset-x, 0))`);
      } else {
        arrowEl.style.setProperty('display', 'none');
      }
    }
  }).addAnimation([backdropAnimation, contentAnimation]);
};

/**
 * iOS Popover Leave Animation
 */
const iosLeaveAnimation = baseEl => {
  const root = (0,_helpers_1O4D2b7y_js__WEBPACK_IMPORTED_MODULE_4__.g)(baseEl);
  const contentEl = root.querySelector('.popover-content');
  const arrowEl = root.querySelector('.popover-arrow');
  const baseAnimation = (0,_animation_BWcUKtbn_js__WEBPACK_IMPORTED_MODULE_8__.c)();
  const backdropAnimation = (0,_animation_BWcUKtbn_js__WEBPACK_IMPORTED_MODULE_8__.c)();
  const contentAnimation = (0,_animation_BWcUKtbn_js__WEBPACK_IMPORTED_MODULE_8__.c)();
  backdropAnimation.addElement(root.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0);
  contentAnimation.addElement(root.querySelector('.popover-arrow')).addElement(root.querySelector('.popover-content')).fromTo('opacity', 0.99, 0);
  return baseAnimation.easing('ease').afterAddWrite(() => {
    baseEl.style.removeProperty('--width');
    baseEl.classList.remove('popover-bottom');
    contentEl.style.removeProperty('top');
    contentEl.style.removeProperty('left');
    contentEl.style.removeProperty('bottom');
    contentEl.style.removeProperty('transform-origin');
    if (arrowEl) {
      arrowEl.style.removeProperty('top');
      arrowEl.style.removeProperty('left');
      arrowEl.style.removeProperty('display');
    }
  }).duration(300).addAnimation([backdropAnimation, contentAnimation]);
};
const POPOVER_MD_BODY_PADDING = 12;
/**
 * Md Popover Enter Animation
 */
// TODO(FW-2832): types
const mdEnterAnimation = (baseEl, opts) => {
  var _a;
  const {
    event: ev,
    size,
    trigger,
    reference,
    side,
    align
  } = opts;
  const doc = baseEl.ownerDocument;
  const isRTL = doc.dir === 'rtl';
  const bodyWidth = doc.defaultView.innerWidth;
  const bodyHeight = doc.defaultView.innerHeight;
  const root = (0,_helpers_1O4D2b7y_js__WEBPACK_IMPORTED_MODULE_4__.g)(baseEl);
  const contentEl = root.querySelector('.popover-content');
  const referenceSizeEl = trigger || ((_a = ev === null || ev === void 0 ? void 0 : ev.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (ev === null || ev === void 0 ? void 0 : ev.target);
  const {
    contentWidth,
    contentHeight
  } = getPopoverDimensions(size, contentEl, referenceSizeEl);
  const defaultPosition = {
    top: bodyHeight / 2 - contentHeight / 2,
    left: bodyWidth / 2 - contentWidth / 2,
    originX: isRTL ? 'right' : 'left',
    originY: 'top'
  };
  const results = getPopoverPosition(isRTL, contentWidth, contentHeight, 0, 0, reference, side, align, defaultPosition, trigger, ev);
  const padding = size === 'cover' ? 0 : POPOVER_MD_BODY_PADDING;
  const {
    originX,
    originY,
    top,
    left,
    bottom
  } = calculateWindowAdjustment(side, results.top, results.left, padding, bodyWidth, bodyHeight, contentWidth, contentHeight, 0, results.originX, results.originY, results.referenceCoordinates);
  const baseAnimation = (0,_animation_BWcUKtbn_js__WEBPACK_IMPORTED_MODULE_8__.c)();
  const backdropAnimation = (0,_animation_BWcUKtbn_js__WEBPACK_IMPORTED_MODULE_8__.c)();
  const wrapperAnimation = (0,_animation_BWcUKtbn_js__WEBPACK_IMPORTED_MODULE_8__.c)();
  const contentAnimation = (0,_animation_BWcUKtbn_js__WEBPACK_IMPORTED_MODULE_8__.c)();
  const viewportAnimation = (0,_animation_BWcUKtbn_js__WEBPACK_IMPORTED_MODULE_8__.c)();
  backdropAnimation.addElement(root.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({
    'pointer-events': 'none'
  }).afterClearStyles(['pointer-events']);
  wrapperAnimation.addElement(root.querySelector('.popover-wrapper')).duration(150).fromTo('opacity', 0.01, 1);
  contentAnimation.addElement(contentEl).beforeStyles({
    top: `calc(${top}px + var(--offset-y, 0px))`,
    left: `calc(${left}px + var(--offset-x, 0px))`,
    'transform-origin': `${originY} ${originX}`
  }).beforeAddWrite(() => {
    if (bottom !== undefined) {
      contentEl.style.setProperty('bottom', `${bottom}px`);
    }
  }).fromTo('transform', 'scale(0.8)', 'scale(1)');
  viewportAnimation.addElement(root.querySelector('.popover-viewport')).fromTo('opacity', 0.01, 1);
  return baseAnimation.easing('cubic-bezier(0.36,0.66,0.04,1)').duration(300).beforeAddWrite(() => {
    if (size === 'cover') {
      baseEl.style.setProperty('--width', `${contentWidth}px`);
    }
    if (originY === 'bottom') {
      baseEl.classList.add('popover-bottom');
    }
  }).addAnimation([backdropAnimation, wrapperAnimation, contentAnimation, viewportAnimation]);
};

/**
 * Md Popover Leave Animation
 */
const mdLeaveAnimation = baseEl => {
  const root = (0,_helpers_1O4D2b7y_js__WEBPACK_IMPORTED_MODULE_4__.g)(baseEl);
  const contentEl = root.querySelector('.popover-content');
  const baseAnimation = (0,_animation_BWcUKtbn_js__WEBPACK_IMPORTED_MODULE_8__.c)();
  const backdropAnimation = (0,_animation_BWcUKtbn_js__WEBPACK_IMPORTED_MODULE_8__.c)();
  const wrapperAnimation = (0,_animation_BWcUKtbn_js__WEBPACK_IMPORTED_MODULE_8__.c)();
  backdropAnimation.addElement(root.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0);
  wrapperAnimation.addElement(root.querySelector('.popover-wrapper')).fromTo('opacity', 0.99, 0);
  return baseAnimation.easing('ease').afterAddWrite(() => {
    baseEl.style.removeProperty('--width');
    baseEl.classList.remove('popover-bottom');
    contentEl.style.removeProperty('top');
    contentEl.style.removeProperty('left');
    contentEl.style.removeProperty('bottom');
    contentEl.style.removeProperty('transform-origin');
  }).duration(150).addAnimation([backdropAnimation, wrapperAnimation]);
};
const popoverIosCss = ":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:\"\";z-index:10}.popover-arrow::after{inset-inline-start:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@supports selector(:dir(rtl)){:host(.popover-side-start:dir(rtl)) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports selector(:dir(rtl)){:host(.popover-side-end:dir(rtl)) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}}.popover-arrow,.popover-content{opacity:0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}";
const popoverMdCss = ":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}[dir=rtl] .popover-content{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.popover-content:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}.popover-wrapper{opacity:0}";
const Popover = class {
  constructor(hostRef) {
    (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.didPresent = (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "ionPopoverDidPresent", 7);
    this.willPresent = (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "ionPopoverWillPresent", 7);
    this.willDismiss = (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "ionPopoverWillDismiss", 7);
    this.didDismiss = (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "ionPopoverDidDismiss", 7);
    this.didPresentShorthand = (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "didPresent", 7);
    this.willPresentShorthand = (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "willPresent", 7);
    this.willDismissShorthand = (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "willDismiss", 7);
    this.didDismissShorthand = (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "didDismiss", 7);
    this.ionMount = (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "ionMount", 7);
    this.parentPopover = null;
    this.coreDelegate = (0,_framework_delegate_DxcnWic_js__WEBPACK_IMPORTED_MODULE_3__.C)();
    this.lockController = (0,_lock_controller_B_hirT0v_js__WEBPACK_IMPORTED_MODULE_5__.c)();
    this.inline = false;
    this.focusDescendantOnPresent = false;
    this.presented = false;
    /** @internal */
    this.hasController = false;
    /**
     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.
     */
    this.keyboardClose = true;
    /**
     * If `true`, the popover will be dismissed when the backdrop is clicked.
     */
    this.backdropDismiss = true;
    /**
     * If `true`, a backdrop will be displayed behind the popover.
     * This property controls whether or not the backdrop
     * darkens the screen when the popover is presented.
     * It does not control whether or not the backdrop
     * is active or present in the DOM.
     */
    this.showBackdrop = true;
    /**
     * If `true`, the popover will be translucent.
     * Only applies when the mode is `"ios"` and the device supports
     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).
     */
    this.translucent = false;
    /**
     * If `true`, the popover will animate.
     */
    this.animated = true;
    /**
     * Describes what kind of interaction with the trigger that
     * should cause the popover to open. Does not apply when the `trigger`
     * property is `undefined`.
     * If `"click"`, the popover will be presented when the trigger is left clicked.
     * If `"hover"`, the popover will be presented when a pointer hovers over the trigger.
     * If `"context-menu"`, the popover will be presented when the trigger is right
     * clicked on desktop and long pressed on mobile. This will also prevent your
     * device's normal context menu from appearing.
     */
    this.triggerAction = 'click';
    /**
     * Describes how to calculate the popover width.
     * If `"cover"`, the popover width will match the width of the trigger.
     * If `"auto"`, the popover width will be set to a static default value.
     */
    this.size = 'auto';
    /**
     * If `true`, the popover will be automatically
     * dismissed when the content has been clicked.
     */
    this.dismissOnSelect = false;
    /**
     * Describes what to position the popover relative to.
     * If `"trigger"`, the popover will be positioned relative
     * to the trigger button. If passing in an event, this is
     * determined via event.target.
     * If `"event"`, the popover will be positioned relative
     * to the x/y coordinates of the trigger action. If passing
     * in an event, this is determined via event.clientX and event.clientY.
     */
    this.reference = 'trigger';
    /**
     * Describes which side of the `reference` point to position
     * the popover on. The `"start"` and `"end"` values are RTL-aware,
     * and the `"left"` and `"right"` values are not.
     */
    this.side = 'bottom';
    /**
     * If `true`, the popover will display an arrow that points at the
     * `reference` when running in `ios` mode. Does not apply in `md` mode.
     */
    this.arrow = true;
    /**
     * If `true`, the popover will open. If `false`, the popover will close.
     * Use this if you need finer grained control over presentation, otherwise
     * just use the popoverController or the `trigger` property.
     * Note: `isOpen` will not automatically be set back to `false` when
     * the popover dismisses. You will need to do that in your code.
     */
    this.isOpen = false;
    /**
     * @internal
     *
     * If `true` the popover will not register its own keyboard event handlers.
     * This allows the contents of the popover to handle their own keyboard interactions.
     *
     * If `false`, the popover will register its own keyboard event handlers for
     * navigating `ion-list` items within a popover (up/down/home/end/etc.).
     * This will also cancel browser keyboard event bindings to prevent scroll
     * behavior in a popover using a list of items.
     */
    this.keyboardEvents = false;
    /**
     * If `true`, focus will not be allowed to move outside of this overlay.
     * If `false`, focus will be allowed to move outside of the overlay.
     *
     * In most scenarios this property should remain set to `true`. Setting
     * this property to `false` can cause severe accessibility issues as users
     * relying on assistive technologies may be able to move focus into
     * a confusing state. We recommend only setting this to `false` when
     * absolutely necessary.
     *
     * Developers may want to consider disabling focus trapping if this
     * overlay presents a non-Ionic overlay from a 3rd party library.
     * Developers would disable focus trapping on the Ionic overlay
     * when presenting the 3rd party overlay and then re-enable
     * focus trapping when dismissing the 3rd party overlay and moving
     * focus back to the Ionic overlay.
     */
    this.focusTrap = true;
    /**
     * If `true`, the component passed into `ion-popover` will
     * automatically be mounted when the popover is created. The
     * component will remain mounted even when the popover is dismissed.
     * However, the component will be destroyed when the popover is
     * destroyed. This property is not reactive and should only be
     * used when initially creating a popover.
     *
     * Note: This feature only applies to inline popovers in JavaScript
     * frameworks such as Angular, React, and Vue.
     */
    this.keepContentsMounted = false;
    this.onBackdropTap = () => {
      this.dismiss(undefined, _overlays_8Y2rA_ps_js__WEBPACK_IMPORTED_MODULE_2__.B);
    };
    this.onLifecycle = modalEvent => {
      const el = this.usersElement;
      const name = LIFECYCLE_MAP[modalEvent.type];
      if (el && name) {
        const event = new CustomEvent(name, {
          bubbles: false,
          cancelable: false,
          detail: modalEvent.detail
        });
        el.dispatchEvent(event);
      }
    };
    this.configureTriggerInteraction = () => {
      const {
        trigger,
        triggerAction,
        el,
        destroyTriggerInteraction
      } = this;
      if (destroyTriggerInteraction) {
        destroyTriggerInteraction();
      }
      if (trigger === undefined) {
        return;
      }
      const triggerEl = this.triggerEl = trigger !== undefined ? document.getElementById(trigger) : null;
      if (!triggerEl) {
        (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.m)(`[ion-popover] - A trigger element with the ID "${trigger}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.`, this.el);
        return;
      }
      this.destroyTriggerInteraction = configureTriggerInteraction(triggerEl, triggerAction, el);
    };
    this.configureKeyboardInteraction = () => {
      const {
        destroyKeyboardInteraction,
        el
      } = this;
      if (destroyKeyboardInteraction) {
        destroyKeyboardInteraction();
      }
      this.destroyKeyboardInteraction = configureKeyboardInteraction(el);
    };
    this.configureDismissInteraction = () => {
      const {
        destroyDismissInteraction,
        parentPopover,
        triggerAction,
        triggerEl,
        el
      } = this;
      if (!parentPopover || !triggerEl) {
        return;
      }
      if (destroyDismissInteraction) {
        destroyDismissInteraction();
      }
      this.destroyDismissInteraction = configureDismissInteraction(triggerEl, triggerAction, el, parentPopover);
    };
  }
  onTriggerChange() {
    this.configureTriggerInteraction();
  }
  onIsOpenChange(newValue, oldValue) {
    if (newValue === true && oldValue === false) {
      this.present();
    } else if (newValue === false && oldValue === true) {
      this.dismiss();
    }
  }
  connectedCallback() {
    const {
      configureTriggerInteraction,
      el
    } = this;
    (0,_overlays_8Y2rA_ps_js__WEBPACK_IMPORTED_MODULE_2__.j)(el);
    configureTriggerInteraction();
  }
  disconnectedCallback() {
    const {
      destroyTriggerInteraction
    } = this;
    if (destroyTriggerInteraction) {
      destroyTriggerInteraction();
    }
  }
  componentWillLoad() {
    var _a, _b;
    const {
      el
    } = this;
    const popoverId = (_b = (_a = this.htmlAttributes) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : (0,_overlays_8Y2rA_ps_js__WEBPACK_IMPORTED_MODULE_2__.k)(el);
    this.parentPopover = el.closest(`ion-popover:not(#${popoverId})`);
    if (this.alignment === undefined) {
      this.alignment = (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.e)(this) === 'ios' ? 'center' : 'start';
    }
  }
  componentDidLoad() {
    const {
      parentPopover,
      isOpen
    } = this;
    /**
     * If popover was rendered with isOpen="true"
     * then we should open popover immediately.
     */
    if (isOpen === true) {
      (0,_helpers_1O4D2b7y_js__WEBPACK_IMPORTED_MODULE_4__.r)(() => this.present());
    }
    if (parentPopover) {
      (0,_helpers_1O4D2b7y_js__WEBPACK_IMPORTED_MODULE_4__.f)(parentPopover, 'ionPopoverWillDismiss', () => {
        this.dismiss(undefined, undefined, false);
      });
    }
    /**
     * When binding values in frameworks such as Angular
     * it is possible for the value to be set after the Web Component
     * initializes but before the value watcher is set up in Stencil.
     * As a result, the watcher callback may not be fired.
     * We work around this by manually calling the watcher
     * callback when the component has loaded and the watcher
     * is configured.
     */
    this.configureTriggerInteraction();
  }
  /**
   * When opening a popover from a trigger, we should not be
   * modifying the `event` prop from inside the component.
   * Additionally, when pressing the "Right" arrow key, we need
   * to shift focus to the first descendant in the newly presented
   * popover.
   *
   * @internal
   */
  presentFromTrigger(_x3) {
    var _this = this;
    return (0,C_Users_Faizan_Desktop_Desktop_Projects_tactical_trap_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (event, focusDescendant = false) {
      _this.focusDescendantOnPresent = focusDescendant;
      yield _this.present(event);
      _this.focusDescendantOnPresent = false;
    }).apply(this, arguments);
  }
  /**
   * Determines whether or not an overlay
   * is being used inline or via a controller/JS
   * and returns the correct delegate.
   * By default, subsequent calls to getDelegate
   * will use a cached version of the delegate.
   * This is useful for calling dismiss after
   * present so that the correct delegate is given.
   */
  getDelegate(force = false) {
    if (this.workingDelegate && !force) {
      return {
        delegate: this.workingDelegate,
        inline: this.inline
      };
    }
    /**
     * If using overlay inline
     * we potentially need to use the coreDelegate
     * so that this works in vanilla JS apps.
     * If a developer has presented this component
     * via a controller, then we can assume
     * the component is already in the
     * correct place.
     */
    const parentEl = this.el.parentNode;
    const inline = this.inline = parentEl !== null && !this.hasController;
    const delegate = this.workingDelegate = inline ? this.delegate || this.coreDelegate : this.delegate;
    return {
      inline,
      delegate
    };
  }
  /**
   * Present the popover overlay after it has been created.
   * Developers can pass a mouse, touch, or pointer event
   * to position the popover relative to where that event
   * was dispatched.
   */
  present(event) {
    var _this2 = this;
    return (0,C_Users_Faizan_Desktop_Desktop_Projects_tactical_trap_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const unlock = yield _this2.lockController.lock();
      if (_this2.presented) {
        unlock();
        return;
      }
      const {
        el
      } = _this2;
      const {
        inline,
        delegate
      } = _this2.getDelegate(true);
      /**
       * Emit ionMount so JS Frameworks have an opportunity
       * to add the child component to the DOM. The child
       * component will be assigned to this.usersElement below.
       */
      _this2.ionMount.emit();
      _this2.usersElement = yield (0,_framework_delegate_DxcnWic_js__WEBPACK_IMPORTED_MODULE_3__.a)(delegate, el, _this2.component, ['popover-viewport'], _this2.componentProps, inline);
      if (!_this2.keyboardEvents) {
        _this2.configureKeyboardInteraction();
      }
      _this2.configureDismissInteraction();
      /**
       * When using the lazy loaded build of Stencil, we need to wait
       * for every Stencil component instance to be ready before presenting
       * otherwise there can be a flash of unstyled content. With the
       * custom elements bundle we need to wait for the JS framework
       * mount the inner contents of the overlay otherwise WebKit may
       * get the transition incorrect.
       */
      if ((0,_helpers_1O4D2b7y_js__WEBPACK_IMPORTED_MODULE_4__.h)(el)) {
        yield (0,_index_DfBA5ztX_js__WEBPACK_IMPORTED_MODULE_7__.e)(_this2.usersElement);
        /**
         * If keepContentsMounted="true" then the
         * JS Framework has already mounted the inner
         * contents so there is no need to wait.
         * Otherwise, we need to wait for the JS
         * Framework to mount the inner contents
         * of this component.
         */
      } else if (!_this2.keepContentsMounted) {
        yield (0,_index_DfBA5ztX_js__WEBPACK_IMPORTED_MODULE_7__.w)();
      }
      yield (0,_overlays_8Y2rA_ps_js__WEBPACK_IMPORTED_MODULE_2__.f)(_this2, 'popoverEnter', iosEnterAnimation, mdEnterAnimation, {
        event: event || _this2.event,
        size: _this2.size,
        trigger: _this2.triggerEl,
        reference: _this2.reference,
        side: _this2.side,
        align: _this2.alignment
      });
      /**
       * If popover is nested and was
       * presented using the "Right" arrow key,
       * we need to move focus to the first
       * descendant inside of the popover.
       */
      if (_this2.focusDescendantOnPresent) {
        (0,_overlays_8Y2rA_ps_js__WEBPACK_IMPORTED_MODULE_2__.n)(el);
      }
      unlock();
    })();
  }
  /**
   * Dismiss the popover overlay after it has been presented.
   *
   * @param data Any data to emit in the dismiss events.
   * @param role The role of the element that is dismissing the popover. For example, 'cancel' or 'backdrop'.
   * @param dismissParentPopover If `true`, dismissing this popover will also dismiss
   * a parent popover if this popover is nested. Defaults to `true`.
   *
   * This is a no-op if the overlay has not been presented yet. If you want
   * to remove an overlay from the DOM that was never presented, use the
   * [remove](https://developer.mozilla.org/en-US/docs/Web/API/Element/remove) method.
   */
  dismiss(_x4, _x5) {
    var _this3 = this;
    return (0,C_Users_Faizan_Desktop_Desktop_Projects_tactical_trap_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (data, role, dismissParentPopover = true) {
      const unlock = yield _this3.lockController.lock();
      const {
        destroyKeyboardInteraction,
        destroyDismissInteraction
      } = _this3;
      if (dismissParentPopover && _this3.parentPopover) {
        _this3.parentPopover.dismiss(data, role, dismissParentPopover);
      }
      const shouldDismiss = yield (0,_overlays_8Y2rA_ps_js__WEBPACK_IMPORTED_MODULE_2__.g)(_this3, data, role, 'popoverLeave', iosLeaveAnimation, mdLeaveAnimation, _this3.event);
      if (shouldDismiss) {
        if (destroyKeyboardInteraction) {
          destroyKeyboardInteraction();
          _this3.destroyKeyboardInteraction = undefined;
        }
        if (destroyDismissInteraction) {
          destroyDismissInteraction();
          _this3.destroyDismissInteraction = undefined;
        }
        /**
         * If using popover inline
         * we potentially need to use the coreDelegate
         * so that this works in vanilla JS apps
         */
        const {
          delegate
        } = _this3.getDelegate();
        yield (0,_framework_delegate_DxcnWic_js__WEBPACK_IMPORTED_MODULE_3__.d)(delegate, _this3.usersElement);
      }
      unlock();
      return shouldDismiss;
    }).apply(this, arguments);
  }
  /**
   * @internal
   */
  getParentPopover() {
    var _this4 = this;
    return (0,C_Users_Faizan_Desktop_Desktop_Projects_tactical_trap_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this4.parentPopover;
    })();
  }
  /**
   * Returns a promise that resolves when the popover did dismiss.
   */
  onDidDismiss() {
    return (0,_overlays_8Y2rA_ps_js__WEBPACK_IMPORTED_MODULE_2__.h)(this.el, 'ionPopoverDidDismiss');
  }
  /**
   * Returns a promise that resolves when the popover will dismiss.
   */
  onWillDismiss() {
    return (0,_overlays_8Y2rA_ps_js__WEBPACK_IMPORTED_MODULE_2__.h)(this.el, 'ionPopoverWillDismiss');
  }
  render() {
    const mode = (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.e)(this);
    const {
      onLifecycle,
      parentPopover,
      dismissOnSelect,
      side,
      arrow,
      htmlAttributes,
      focusTrap
    } = this;
    const desktop = (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.a)('desktop');
    const enableArrow = arrow && !parentPopover;
    return (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.j, Object.assign({
      key: '1de4862099cfcb5035e78008e6dc7c1371846f9a',
      "aria-modal": "true",
      "no-router": true,
      tabindex: "-1"
    }, htmlAttributes, {
      style: {
        zIndex: `${20000 + this.overlayIndex}`
      },
      class: Object.assign(Object.assign({}, (0,_theme_DiVJyqlX_js__WEBPACK_IMPORTED_MODULE_6__.g)(this.cssClass)), {
        [mode]: true,
        'popover-translucent': this.translucent,
        'overlay-hidden': true,
        'popover-desktop': desktop,
        [`popover-side-${side}`]: true,
        [_overlays_8Y2rA_ps_js__WEBPACK_IMPORTED_MODULE_2__.F]: focusTrap === false,
        'popover-nested': !!parentPopover
      }),
      onIonPopoverDidPresent: onLifecycle,
      onIonPopoverWillPresent: onLifecycle,
      onIonPopoverWillDismiss: onLifecycle,
      onIonPopoverDidDismiss: onLifecycle,
      onIonBackdropTap: this.onBackdropTap
    }), !parentPopover && (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-backdrop", {
      key: '981aa4e0102cb93312ffbd8243cdf2a0cdc60469',
      tappable: this.backdropDismiss,
      visible: this.showBackdrop,
      part: "backdrop"
    }), (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: '1a28ed55e9d34ef78cf0eb0178643301fd2dd75d',
      class: "popover-wrapper ion-overlay-wrapper",
      onClick: dismissOnSelect ? () => this.dismiss() : undefined
    }, enableArrow && (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: '1c206ea5eb3c0b5883a3d45c34cd22dd5ffe4b65',
      class: "popover-arrow",
      part: "arrow"
    }), (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      key: '5ba561486a328c0c7ab825995fdbfb7a196429a4',
      class: "popover-content",
      part: "content"
    }, (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      key: '00fc244ce9dcc2dfc677e6c34b7c8e7a330b2b03'
    }))));
  }
  get el() {
    return (0,_index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_1__.k)(this);
  }
  static get watchers() {
    return {
      "trigger": ["onTriggerChange"],
      "triggerAction": ["onTriggerChange"],
      "isOpen": ["onIsOpenChange"]
    };
  }
};
const LIFECYCLE_MAP = {
  ionPopoverDidPresent: 'ionViewDidEnter',
  ionPopoverWillPresent: 'ionViewWillEnter',
  ionPopoverWillDismiss: 'ionViewWillLeave',
  ionPopoverDidDismiss: 'ionViewDidLeave'
};
Popover.style = {
  ios: popoverIosCss,
  md: popoverMdCss
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXBvcG92ZXJfZW50cnlfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDcUs7QUFDa0M7QUFDdEY7QUFDRDtBQUN0QztBQUNuQjtBQUNpQjtBQUNUO0FBQ2xDO0FBQ2U7QUFDRjs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0yQyxrQkFBa0IsR0FBSUMsT0FBTyxJQUFLO0VBQ3BDLElBQUksQ0FBQ0EsT0FBTyxFQUFFO0lBQ1YsT0FBTztNQUFFQyxVQUFVLEVBQUUsQ0FBQztNQUFFQyxXQUFXLEVBQUU7SUFBRSxDQUFDO0VBQzVDO0VBQ0EsTUFBTTtJQUFFQyxLQUFLO0lBQUVDO0VBQU8sQ0FBQyxHQUFHSixPQUFPLENBQUNLLHFCQUFxQixDQUFDLENBQUM7RUFDekQsT0FBTztJQUFFSixVQUFVLEVBQUVFLEtBQUs7SUFBRUQsV0FBVyxFQUFFRTtFQUFPLENBQUM7QUFDckQsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNRSxvQkFBb0IsR0FBR0EsQ0FBQ0MsSUFBSSxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsS0FBSztFQUN6RCxNQUFNQyxpQkFBaUIsR0FBR0YsU0FBUyxDQUFDSCxxQkFBcUIsQ0FBQyxDQUFDO0VBQzNELE1BQU1NLGFBQWEsR0FBR0QsaUJBQWlCLENBQUNOLE1BQU07RUFDOUMsSUFBSVEsWUFBWSxHQUFHRixpQkFBaUIsQ0FBQ1AsS0FBSztFQUMxQyxJQUFJSSxJQUFJLEtBQUssT0FBTyxJQUFJRSxTQUFTLEVBQUU7SUFDL0IsTUFBTUksaUJBQWlCLEdBQUdKLFNBQVMsQ0FBQ0oscUJBQXFCLENBQUMsQ0FBQztJQUMzRE8sWUFBWSxHQUFHQyxpQkFBaUIsQ0FBQ1YsS0FBSztFQUMxQztFQUNBLE9BQU87SUFDSFMsWUFBWTtJQUNaRDtFQUNKLENBQUM7QUFDTCxDQUFDO0FBQ0Qs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OlsiLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLXBvcG92ZXIuZW50cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgZCBhcyBjcmVhdGVFdmVudCwgbSBhcyBwcmludElvbldhcm5pbmcsIGUgYXMgZ2V0SW9uTW9kZSwgYSBhcyBpc1BsYXRmb3JtLCBoLCBqIGFzIEhvc3QsIGsgYXMgZ2V0RWxlbWVudCB9IGZyb20gJy4vaW5kZXgtQl9VOUN0YVkuanMnO1xuaW1wb3J0IHsgQiBhcyBCQUNLRFJPUCwgaiBhcyBwcmVwYXJlT3ZlcmxheSwgayBhcyBzZXRPdmVybGF5SWQsIGYgYXMgcHJlc2VudCwgbiBhcyBmb2N1c0ZpcnN0RGVzY2VuZGFudCwgZyBhcyBkaXNtaXNzLCBoIGFzIGV2ZW50TWV0aG9kLCBGIGFzIEZPQ1VTX1RSQVBfRElTQUJMRV9DTEFTUyB9IGZyb20gJy4vb3ZlcmxheXMtOFkyckEtcHMuanMnO1xuaW1wb3J0IHsgQyBhcyBDb3JlRGVsZWdhdGUsIGEgYXMgYXR0YWNoQ29tcG9uZW50LCBkIGFzIGRldGFjaENvbXBvbmVudCB9IGZyb20gJy4vZnJhbWV3b3JrLWRlbGVnYXRlLUR4Y25XaWNfLmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0RWxlbWVudFJvb3QsIHIgYXMgcmFmLCBmIGFzIGFkZEV2ZW50TGlzdGVuZXIsIGggYXMgaGFzTGF6eUJ1aWxkIH0gZnJvbSAnLi9oZWxwZXJzLTFPNEQyYjd5LmpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlTG9ja0NvbnRyb2xsZXIgfSBmcm9tICcuL2xvY2stY29udHJvbGxlci1CLWhpclQwdi5qcyc7XG5pbXBvcnQgeyBnIGFzIGdldENsYXNzTWFwIH0gZnJvbSAnLi90aGVtZS1EaVZKeXFsWC5qcyc7XG5pbXBvcnQgeyBlIGFzIGRlZXBSZWFkeSwgdyBhcyB3YWl0Rm9yTW91bnQgfSBmcm9tICcuL2luZGV4LURmQkE1enRYLmpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlQW5pbWF0aW9uIH0gZnJvbSAnLi9hbmltYXRpb24tQldjVUt0Ym4uanMnO1xuaW1wb3J0ICcuL2luZGV4LVpqUDRDamVaLmpzJztcbmltcG9ydCAnLi9oYXJkd2FyZS1iYWNrLWJ1dHRvbi1EY0gwQmJEcC5qcyc7XG5pbXBvcnQgJy4vZ2VzdHVyZS1jb250cm9sbGVyLUJURU9zMWF0LmpzJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBwb3BvdmVyXG4gKiBhcnJvdyBvbiBgaW9zYCBtb2RlLiBJZiBhcnJvdyBpcyBkaXNhYmxlZFxuICogcmV0dXJucyAoMCwgMCkuXG4gKi9cbmNvbnN0IGdldEFycm93RGltZW5zaW9ucyA9IChhcnJvd0VsKSA9PiB7XG4gICAgaWYgKCFhcnJvd0VsKSB7XG4gICAgICAgIHJldHVybiB7IGFycm93V2lkdGg6IDAsIGFycm93SGVpZ2h0OiAwIH07XG4gICAgfVxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gYXJyb3dFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4geyBhcnJvd1dpZHRoOiB3aWR0aCwgYXJyb3dIZWlnaHQ6IGhlaWdodCB9O1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgcmVjb21tZW5kZWQgZGltZW5zaW9ucyBvZiB0aGUgcG9wb3ZlclxuICogdGhhdCB0YWtlcyBpbnRvIGFjY291bnQgd2hldGhlciBvciBub3QgdGhlIHdpZHRoXG4gKiBzaG91bGQgbWF0Y2ggdGhlIHRyaWdnZXIgd2lkdGguXG4gKi9cbmNvbnN0IGdldFBvcG92ZXJEaW1lbnNpb25zID0gKHNpemUsIGNvbnRlbnRFbCwgdHJpZ2dlckVsKSA9PiB7XG4gICAgY29uc3QgY29udGVudERpbWVudGlvbnMgPSBjb250ZW50RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgY29udGVudEhlaWdodCA9IGNvbnRlbnREaW1lbnRpb25zLmhlaWdodDtcbiAgICBsZXQgY29udGVudFdpZHRoID0gY29udGVudERpbWVudGlvbnMud2lkdGg7XG4gICAgaWYgKHNpemUgPT09ICdjb3ZlcicgJiYgdHJpZ2dlckVsKSB7XG4gICAgICAgIGNvbnN0IHRyaWdnZXJEaW1lbnNpb25zID0gdHJpZ2dlckVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb250ZW50V2lkdGggPSB0cmlnZ2VyRGltZW5zaW9ucy53aWR0aDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29udGVudFdpZHRoLFxuICAgICAgICBjb250ZW50SGVpZ2h0LFxuICAgIH07XG59O1xuY29uc3QgY29uZmlndXJlRGlzbWlzc0ludGVyYWN0aW9uID0gKHRyaWdnZXJFbCwgdHJpZ2dlckFjdGlvbiwgcG9wb3ZlckVsLCBwYXJlbnRQb3BvdmVyRWwpID0+IHtcbiAgICBsZXQgZGlzbWlzc0NhbGxiYWNrcyA9IFtdO1xuICAgIGNvbnN0IHJvb3QgPSBnZXRFbGVtZW50Um9vdChwYXJlbnRQb3BvdmVyRWwpO1xuICAgIGNvbnN0IHBhcmVudENvbnRlbnRFbCA9IHJvb3QucXVlcnlTZWxlY3RvcignLnBvcG92ZXItY29udGVudCcpO1xuICAgIHN3aXRjaCAodHJpZ2dlckFjdGlvbikge1xuICAgICAgICBjYXNlICdob3Zlcic6XG4gICAgICAgICAgICBkaXNtaXNzQ2FsbGJhY2tzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIERvIG5vdCB1c2UgbW91c2VvdmVyIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgICogYXMgdGhpcyB3aWxsIGNhdXNlcyB0aGUgZXZlbnQgdG9cbiAgICAgICAgICAgICAgICAgICAgICogYmUgZGlzcGF0Y2hlZCBvbiBlYWNoIHVuZGVybHlpbmdcbiAgICAgICAgICAgICAgICAgICAgICogZWxlbWVudCByYXRoZXIgdGhhbiBvbiB0aGUgcG9wb3ZlclxuICAgICAgICAgICAgICAgICAgICAgKiBjb250ZW50IGFzIGEgd2hvbGUuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdtb3VzZWVudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IChldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBEbyBub3QgZGlzbWlzcyB0aGUgcG9wb3ZlciBpcyB3ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogYXJlIGhvdmVyaW5nIG92ZXIgaXRzIHRyaWdnZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBUaGlzIHdvdWxkIGJlIGVhc2llciBpZiB3ZSB1c2VkIG1vdXNlb3ZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICogYnV0IHRoaXMgd291bGQgY2F1c2UgdGhlIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIG1vcmUgb2Z0ZW4gdGhhbiB3ZSB3b3VsZCBsaWtlLCBwb3RlbnRpYWxseVxuICAgICAgICAgICAgICAgICAgICAgICAgICogY2F1c2luZyBwZXJmb3JtYW5jZSBpc3N1ZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT09IHRyaWdnZXJFbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcG92ZXJFbC5kaXNtaXNzKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY29udGV4dC1tZW51JzpcbiAgICAgICAgY2FzZSAnY2xpY2snOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZGlzbWlzc0NhbGxiYWNrcyA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ2NsaWNrJyxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IChldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBEbyBub3QgZGlzbWlzcyB0aGUgcG9wb3ZlciBpcyB3ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogYXJlIGhvdmVyaW5nIG92ZXIgaXRzIHRyaWdnZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsb3Nlc3RUcmlnZ2VyID0gdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWlvbi1wb3BvdmVyLXRyaWdnZXJdJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2VzdFRyaWdnZXIgPT09IHRyaWdnZXJFbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHN0b3BQcm9wYWdhdGlvbiBoZXJlIHNvIGlmIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHBvcG92ZXIgaGFzIGRpc21pc3NPblNlbGVjdD1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHRoZSBwb3BvdmVyIGRvZXMgbm90IGRpc21pc3Mgc2luY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB3ZSBqdXN0IGNsaWNrZWQgYSB0cmlnZ2VyIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wb3ZlckVsLmRpc21pc3ModW5kZWZpbmVkLCB1bmRlZmluZWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkaXNtaXNzQ2FsbGJhY2tzLmZvckVhY2goKHsgZXZlbnROYW1lLCBjYWxsYmFjayB9KSA9PiBwYXJlbnRDb250ZW50RWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrKSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZGlzbWlzc0NhbGxiYWNrcy5mb3JFYWNoKCh7IGV2ZW50TmFtZSwgY2FsbGJhY2sgfSkgPT4gcGFyZW50Q29udGVudEVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjaykpO1xuICAgIH07XG59O1xuLyoqXG4gKiBDb25maWd1cmVzIHRoZSB0cmlnZ2VyRWwgdG8gcmVzcG9uZFxuICogdG8gdXNlciBpbnRlcmFjdGlvbiBiYXNlZCB1cG9uIHRoZSB0cmlnZ2VyQWN0aW9uXG4gKiBwcm9wIHRoYXQgZGV2cyBoYXZlIGRlZmluZWQuXG4gKi9cbmNvbnN0IGNvbmZpZ3VyZVRyaWdnZXJJbnRlcmFjdGlvbiA9ICh0cmlnZ2VyRWwsIHRyaWdnZXJBY3Rpb24sIHBvcG92ZXJFbCkgPT4ge1xuICAgIGxldCB0cmlnZ2VyQ2FsbGJhY2tzID0gW107XG4gICAgLyoqXG4gICAgICogQmFzZWQgdXBvbiB0aGUga2luZCBvZiB0cmlnZ2VyIGludGVyYWN0aW9uXG4gICAgICogdGhlIHVzZXIgd2FudHMsIHdlIHNldHVwIHRoZSBjb3JyZWN0IGV2ZW50XG4gICAgICogbGlzdGVuZXJzLlxuICAgICAqL1xuICAgIHN3aXRjaCAodHJpZ2dlckFjdGlvbikge1xuICAgICAgICBjYXNlICdob3Zlcic6XG4gICAgICAgICAgICBsZXQgaG92ZXJUaW1lb3V0O1xuICAgICAgICAgICAgdHJpZ2dlckNhbGxiYWNrcyA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ21vdXNlZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogYXN5bmMgKGV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob3ZlclRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaG92ZXJUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogSG92ZXJpbmcgb3ZlciBhIHRyaWdnZXIgc2hvdWxkIG5vdFxuICAgICAgICAgICAgICAgICAgICAgICAgICogaW1tZWRpYXRlbHkgb3BlbiB0aGUgbmV4dCBwb3BvdmVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBob3ZlclRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWYoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3BvdmVyRWwucHJlc2VudEZyb21UcmlnZ2VyKGV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG92ZXJUaW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lOiAnbW91c2VsZWF2ZScsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob3ZlclRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaG92ZXJUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogSWYgbW91c2UgaXMgb3ZlciBhbm90aGVyIHBvcG92ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIHRoYXQgaXMgbm90IHRoaXMgcG9wb3ZlciB0aGVuIHdlIHNob3VsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogY2xvc2UgdGhpcyBwb3BvdmVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldi5yZWxhdGVkVGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJ2lvbi1wb3BvdmVyJykgIT09IHBvcG92ZXJFbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcG92ZXJFbC5kaXNtaXNzKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBzdG9wUHJvcGFnYXRpb24gaGVyZSBwcmV2ZW50cyB0aGUgcG9wb3ZlclxuICAgICAgICAgICAgICAgICAgICAgKiBmcm9tIGRpc21pc3Npbmcgd2hlbiBkaXNtaXNzLW9uLXNlbGVjdD1cInRydWVcIi5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ2NsaWNrJyxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IChldikgPT4gZXYuc3RvcFByb3BhZ2F0aW9uKCksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ2lvblBvcG92ZXJBY3RpdmF0ZVRyaWdnZXInLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogKGV2KSA9PiBwb3BvdmVyRWwucHJlc2VudEZyb21UcmlnZ2VyKGV2LCB0cnVlKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjb250ZXh0LW1lbnUnOlxuICAgICAgICAgICAgdHJpZ2dlckNhbGxiYWNrcyA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ2NvbnRleHRtZW51JyxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IChldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBQcmV2ZW50cyB0aGUgcGxhdGZvcm0gY29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICogbWVudSBmcm9tIGFwcGVhcmluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcG92ZXJFbC5wcmVzZW50RnJvbVRyaWdnZXIoZXYpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdjbGljaycsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoZXYpID0+IGV2LnN0b3BQcm9wYWdhdGlvbigpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdpb25Qb3BvdmVyQWN0aXZhdGVUcmlnZ2VyJyxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IChldikgPT4gcG9wb3ZlckVsLnByZXNlbnRGcm9tVHJpZ2dlcihldiwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2xpY2snOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdHJpZ2dlckNhbGxiYWNrcyA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBEbyBub3QgZG8gYSBzdG9wUHJvcGFnYXRpb24oKSBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAqIGJlY2F1c2UgaWYgeW91IGhhZCB0d28gY2xpY2sgdHJpZ2dlcnNcbiAgICAgICAgICAgICAgICAgICAgICogdGhlbiBjbGlja2luZyB0aGUgZmlyc3QgdHJpZ2dlciBhbmQgdGhlblxuICAgICAgICAgICAgICAgICAgICAgKiBjbGlja2luZyB0aGUgc2Vjb25kIHRyaWdnZXIgd291bGQgbm90IGNhdXNlXG4gICAgICAgICAgICAgICAgICAgICAqIHRoZSBmaXJzdCBwb3BvdmVyIHRvIGRpc21pc3MuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdjbGljaycsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoZXYpID0+IHBvcG92ZXJFbC5wcmVzZW50RnJvbVRyaWdnZXIoZXYpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdpb25Qb3BvdmVyQWN0aXZhdGVUcmlnZ2VyJyxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IChldikgPT4gcG9wb3ZlckVsLnByZXNlbnRGcm9tVHJpZ2dlcihldiwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdHJpZ2dlckNhbGxiYWNrcy5mb3JFYWNoKCh7IGV2ZW50TmFtZSwgY2FsbGJhY2sgfSkgPT4gdHJpZ2dlckVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjaykpO1xuICAgIHRyaWdnZXJFbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW9uLXBvcG92ZXItdHJpZ2dlcicsICd0cnVlJyk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgdHJpZ2dlckNhbGxiYWNrcy5mb3JFYWNoKCh7IGV2ZW50TmFtZSwgY2FsbGJhY2sgfSkgPT4gdHJpZ2dlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjaykpO1xuICAgICAgICB0cmlnZ2VyRWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWlvbi1wb3BvdmVyLXRyaWdnZXInKTtcbiAgICB9O1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgYW4gaW9uLWl0ZW0gaW4gYW4gYXJyYXkgb2YgaW9uLWl0ZW1zLlxuICovXG5jb25zdCBnZXRJbmRleE9mSXRlbSA9IChpdGVtcywgaXRlbSkgPT4ge1xuICAgIGlmICghaXRlbSB8fCBpdGVtLnRhZ05hbWUgIT09ICdJT04tSVRFTScpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICByZXR1cm4gaXRlbXMuZmluZEluZGV4KChlbCkgPT4gZWwgPT09IGl0ZW0pO1xufTtcbi8qKlxuICogR2l2ZW4gYW4gYXJyYXkgb2YgZWxlbWVudHMgYW5kIGEgY3VycmVudGx5IGZvY3VzZWQgaW9uLWl0ZW1cbiAqIHJldHVybnMgdGhlIG5leHQgaW9uLWl0ZW0gcmVsYXRpdmUgdG8gdGhlIGZvY3VzZWQgb25lIG9yXG4gKiB1bmRlZmluZWQuXG4gKi9cbmNvbnN0IGdldE5leHRJdGVtID0gKGl0ZW1zLCBjdXJyZW50SXRlbSkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRJdGVtSW5kZXggPSBnZXRJbmRleE9mSXRlbShpdGVtcywgY3VycmVudEl0ZW0pO1xuICAgIHJldHVybiBpdGVtc1tjdXJyZW50SXRlbUluZGV4ICsgMV07XG59O1xuLyoqXG4gKiBHaXZlbiBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgYSBjdXJyZW50bHkgZm9jdXNlZCBpb24taXRlbVxuICogcmV0dXJucyB0aGUgcHJldmlvdXMgaW9uLWl0ZW0gcmVsYXRpdmUgdG8gdGhlIGZvY3VzZWQgb25lIG9yXG4gKiB1bmRlZmluZWQuXG4gKi9cbmNvbnN0IGdldFByZXZJdGVtID0gKGl0ZW1zLCBjdXJyZW50SXRlbSkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRJdGVtSW5kZXggPSBnZXRJbmRleE9mSXRlbShpdGVtcywgY3VycmVudEl0ZW0pO1xuICAgIHJldHVybiBpdGVtc1tjdXJyZW50SXRlbUluZGV4IC0gMV07XG59O1xuLyoqIEZvY3VzIHRoZSBpbnRlcm5hbCBidXR0b24gb2YgdGhlIGlvbi1pdGVtICovXG5jb25zdCBmb2N1c0l0ZW0gPSAoaXRlbSkgPT4ge1xuICAgIGNvbnN0IHJvb3QgPSBnZXRFbGVtZW50Um9vdChpdGVtKTtcbiAgICBjb25zdCBidXR0b24gPSByb290LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpO1xuICAgIGlmIChidXR0b24pIHtcbiAgICAgICAgcmFmKCgpID0+IGJ1dHRvbi5mb2N1cygpKTtcbiAgICB9XG59O1xuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBgZWxgIGhhcyBiZWVuIGRlc2lnbmF0ZWRcbiAqIGFzIGEgdHJpZ2dlciBlbGVtZW50IGZvciBhbiBpb24tcG9wb3Zlci5cbiAqL1xuY29uc3QgaXNUcmlnZ2VyRWxlbWVudCA9IChlbCkgPT4gZWwuaGFzQXR0cmlidXRlKCdkYXRhLWlvbi1wb3BvdmVyLXRyaWdnZXInKTtcbmNvbnN0IGNvbmZpZ3VyZUtleWJvYXJkSW50ZXJhY3Rpb24gPSAocG9wb3ZlckVsKSA9PiB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSBhc3luYyAoZXYpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgbGV0IGl0ZW1zID0gW107XG4gICAgICAgIGNvbnN0IHRhcmdldFRhZ05hbWUgPSAoX2EgPSBldi50YXJnZXQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50YWdOYW1lO1xuICAgICAgICAvKipcbiAgICAgICAgICogT25seSBoYW5kbGUgY3VzdG9tIGtleWJvYXJkIGludGVyYWN0aW9ucyBmb3IgdGhlIGhvc3QgcG9wb3ZlciBlbGVtZW50XG4gICAgICAgICAqIGFuZCBjaGlsZHJlbiBpb24taXRlbSBlbGVtZW50cy5cbiAgICAgICAgICovXG4gICAgICAgIGlmICh0YXJnZXRUYWdOYW1lICE9PSAnSU9OLVBPUE9WRVInICYmIHRhcmdldFRhZ05hbWUgIT09ICdJT04tSVRFTScpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcGxleCBzZWxlY3RvcnMgd2l0aCA6bm90KCkgYXJlIDpub3Qgc3VwcG9ydGVkXG4gICAgICAgICAqIGluIG9sZGVyIHZlcnNpb25zIG9mIENocm9taXVtIHNvIHdlIG5lZWQgdG8gZG8gYVxuICAgICAgICAgKiB0cnkvY2F0Y2ggaGVyZSBzbyBlcnJvcnMgYXJlIG5vdCB0aHJvd24uXG4gICAgICAgICAqL1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZWxlY3QgYWxsIGlvbi1pdGVtcyB0aGF0IGFyZSBub3QgY2hpbGRyZW4gb2YgY2hpbGQgcG9wb3ZlcnMuXG4gICAgICAgICAgICAgKiBpLmUuIG9ubHkgc2VsZWN0IGlvbi1pdGVtIGVsZW1lbnRzIHRoYXQgYXJlIHBhcnQgb2YgdGhpcyBwb3BvdmVyXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGl0ZW1zID0gQXJyYXkuZnJvbShwb3BvdmVyRWwucXVlcnlTZWxlY3RvckFsbCgnaW9uLWl0ZW06bm90KGlvbi1wb3BvdmVyIGlvbi1wb3BvdmVyICopOm5vdChbZGlzYWJsZWRdKScpKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAqL1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfYikgeyB9XG4gICAgICAgIHN3aXRjaCAoZXYua2V5KSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHdlIGFyZSBpbiBhIGNoaWxkIHBvcG92ZXJcbiAgICAgICAgICAgICAqIHRoZW4gcHJlc3NpbmcgdGhlIGxlZnQgYXJyb3cga2V5XG4gICAgICAgICAgICAgKiBzaG91bGQgY2xvc2UgdGhpcyBwb3BvdmVyIGFuZCBtb3ZlXG4gICAgICAgICAgICAgKiBmb2N1cyB0byB0aGUgcG9wb3ZlciB0aGF0IHByZXNlbnRlZFxuICAgICAgICAgICAgICogdGhpcyBvbmUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50UG9wb3ZlciA9IGF3YWl0IHBvcG92ZXJFbC5nZXRQYXJlbnRQb3BvdmVyKCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFBvcG92ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9wb3ZlckVsLmRpc21pc3ModW5kZWZpbmVkLCB1bmRlZmluZWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFycm93RG93biBzaG91bGQgbW92ZSBmb2N1cyB0byB0aGUgbmV4dCBmb2N1c2FibGUgaW9uLWl0ZW0uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBtb3ZlbWVudC9zY3JvbGwgd2l0aCBrZXlib2FyZFxuICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dEl0ZW0gPSBnZXROZXh0SXRlbShpdGVtcywgYWN0aXZlRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRJdGVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNJdGVtKG5leHRJdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFycm93VXAgc2hvdWxkIG1vdmUgZm9jdXMgdG8gdGhlIHByZXZpb3VzIGZvY3VzYWJsZSBpb24taXRlbS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBtb3ZlbWVudC9zY3JvbGwgd2l0aCBrZXlib2FyZFxuICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkl0ZW0gPSBnZXRQcmV2SXRlbShpdGVtcywgYWN0aXZlRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZJdGVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNJdGVtKHByZXZJdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEhvbWUgc2hvdWxkIG1vdmUgZm9jdXMgdG8gdGhlIGZpcnN0IGZvY3VzYWJsZSBpb24taXRlbS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY2FzZSAnSG9tZSc6XG4gICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdEl0ZW0gPSBpdGVtc1swXTtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RJdGVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNJdGVtKGZpcnN0SXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBFbmQgc2hvdWxkIG1vdmUgZm9jdXMgdG8gdGhlIGxhc3QgZm9jdXNhYmxlIGlvbi1pdGVtLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjYXNlICdFbmQnOlxuICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdEl0ZW0gPSBpdGVtc1tpdGVtcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEl0ZW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBmb2N1c0l0ZW0obGFzdEl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQXJyb3dSaWdodCwgU3BhY2ViYXIsIG9yIEVudGVyIHNob3VsZCBhY3RpdmF0ZVxuICAgICAgICAgICAgICogdGhlIGN1cnJlbnRseSBmb2N1c2VkIHRyaWdnZXIgaXRlbSB0byBvcGVuIGFcbiAgICAgICAgICAgICAqIHBvcG92ZXIgaWYgdGhlIGVsZW1lbnQgaXMgYSB0cmlnZ2VyIGl0ZW0uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOlxuICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICBjYXNlICdFbnRlcic6XG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQgJiYgaXNUcmlnZ2VyRWxlbWVudChhY3RpdmVFbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByaWdodEV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdpb25Qb3BvdmVyQWN0aXZhdGVUcmlnZ2VyJyk7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUVsZW1lbnQuZGlzcGF0Y2hFdmVudChyaWdodEV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHBvcG92ZXJFbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY2FsbGJhY2spO1xuICAgIHJldHVybiAoKSA9PiBwb3BvdmVyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGNhbGxiYWNrKTtcbn07XG4vKipcbiAqIFBvc2l0aW9ucyBhIHBvcG92ZXIgYnkgdGFraW5nIGludG8gYWNjb3VudFxuICogdGhlIHJlZmVyZW5jZSBwb2ludCwgcHJlZmVycmVkIHNpZGUsIGFsaWdubWVudFxuICogYW5kIHZpZXdwb3J0IGRpbWVuc2lvbnMuXG4gKi9cbmNvbnN0IGdldFBvcG92ZXJQb3NpdGlvbiA9IChpc1JUTCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0LCBhcnJvd1dpZHRoLCBhcnJvd0hlaWdodCwgcmVmZXJlbmNlLCBzaWRlLCBhbGlnbiwgZGVmYXVsdFBvc2l0aW9uLCB0cmlnZ2VyRWwsIGV2ZW50KSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGxldCByZWZlcmVuY2VDb29yZGluYXRlcyA9IHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgaGVpZ2h0OiAwLFxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZVxuICAgICAqIHgteSBjb29yZGluYXRlcyBpbiB0aGUgZXZlbnQgdGhhdFxuICAgICAqIHdhcyBwYXNzZWQgaW5cbiAgICAgKi9cbiAgICBzd2l0Y2ggKHJlZmVyZW5jZSkge1xuICAgICAgICBjYXNlICdldmVudCc6XG4gICAgICAgICAgICBpZiAoIWV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRQb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1vdXNlRXYgPSBldmVudDtcbiAgICAgICAgICAgIHJlZmVyZW5jZUNvb3JkaW5hdGVzID0ge1xuICAgICAgICAgICAgICAgIHRvcDogbW91c2VFdi5jbGllbnRZLFxuICAgICAgICAgICAgICAgIGxlZnQ6IG1vdXNlRXYuY2xpZW50WCxcbiAgICAgICAgICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxjdWxhdGUgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIGJvdW5kaW5nXG4gICAgICAgICAqIGJveCBvbiBlaXRoZXIgdGhlIHRyaWdnZXIgZWxlbWVudFxuICAgICAgICAgKiBzcGVjaWZpZWQgdmlhIHRoZSBgdHJpZ2dlcmAgcHJvcCBvclxuICAgICAgICAgKiB0aGUgdGFyZ2V0IHNwZWNpZmllZCBvbiB0aGUgZXZlbnRcbiAgICAgICAgICogdGhhdCB3YXMgcGFzc2VkIGluLlxuICAgICAgICAgKi9cbiAgICAgICAgY2FzZSAndHJpZ2dlcic6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBjdXN0b21FdiA9IGV2ZW50O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBpb25TaGFkb3dUYXJnZXQgaXMgdXNlZCB3aGVuIHdlIG5lZWQgdG8gYWxpZ24gdGhlXG4gICAgICAgICAgICAgKiBwb3BvdmVyIHdpdGggYW4gZWxlbWVudCBpbnNpZGUgb2YgdGhlIHNoYWRvdyByb290XG4gICAgICAgICAgICAgKiBvZiBhbiBJb25pYyBjb21wb25lbnQuIEV4OiBQcmVzZW50aW5nIGEgcG9wb3ZlclxuICAgICAgICAgICAgICogYnkgY2xpY2tpbmcgb24gdGhlIGNvbGxhcHNlZCBpbmRpY2F0b3IgaW5zaWRlXG4gICAgICAgICAgICAgKiBvZiBgaW9uLWJyZWFkY3J1bWJgIGFuZCBjZW50ZXJpbmcgaXQgcmVsYXRpdmVcbiAgICAgICAgICAgICAqIHRvIHRoZSBpbmRpY2F0b3IgcmF0aGVyIHRoYW4gYGlvbi1icmVhZGNydW1iYFxuICAgICAgICAgICAgICogYXMgYSB3aG9sZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgYWN0dWFsVHJpZ2dlckVsID0gKHRyaWdnZXJFbCB8fFxuICAgICAgICAgICAgICAgICgoX2EgPSBjdXN0b21FdiA9PT0gbnVsbCB8fCBjdXN0b21FdiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VzdG9tRXYuZGV0YWlsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW9uU2hhZG93VGFyZ2V0KSB8fFxuICAgICAgICAgICAgICAgIChjdXN0b21FdiA9PT0gbnVsbCB8fCBjdXN0b21FdiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VzdG9tRXYudGFyZ2V0KSk7XG4gICAgICAgICAgICBpZiAoIWFjdHVhbFRyaWdnZXJFbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWZhdWx0UG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0cmlnZ2VyQm91bmRpbmdCb3ggPSBhY3R1YWxUcmlnZ2VyRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICByZWZlcmVuY2VDb29yZGluYXRlcyA9IHtcbiAgICAgICAgICAgICAgICB0b3A6IHRyaWdnZXJCb3VuZGluZ0JveC50b3AsXG4gICAgICAgICAgICAgICAgbGVmdDogdHJpZ2dlckJvdW5kaW5nQm94LmxlZnQsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRyaWdnZXJCb3VuZGluZ0JveC53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRyaWdnZXJCb3VuZGluZ0JveC5oZWlnaHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0b3AvbGVmdCBvZmZzZXQgdGhhdCB3b3VsZCBhbGxvd1xuICAgICAqIHBvcG92ZXIgdG8gYmUgcG9zaXRpb25lZCBvbiB0aGVcbiAgICAgKiBwcmVmZXJyZWQgc2lkZSBvZiB0aGUgcmVmZXJlbmNlLlxuICAgICAqL1xuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gY2FsY3VsYXRlUG9wb3ZlclNpZGUoc2lkZSwgcmVmZXJlbmNlQ29vcmRpbmF0ZXMsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgYXJyb3dXaWR0aCwgYXJyb3dIZWlnaHQsIGlzUlRMKTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRvcC9sZWZ0IGFkanVzdG1lbnRzIHRoYXRcbiAgICAgKiB3b3VsZCBhbGxvdyB0aGUgcG9wb3ZlciBjb250ZW50XG4gICAgICogdG8gaGF2ZSB0aGUgY29ycmVjdCBhbGlnbm1lbnQuXG4gICAgICovXG4gICAgY29uc3QgYWxpZ25lZENvb3JkaW5hdGVzID0gY2FsY3VsYXRlUG9wb3ZlckFsaWduKGFsaWduLCBzaWRlLCByZWZlcmVuY2VDb29yZGluYXRlcywgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0KTtcbiAgICBjb25zdCB0b3AgPSBjb29yZGluYXRlcy50b3AgKyBhbGlnbmVkQ29vcmRpbmF0ZXMudG9wO1xuICAgIGNvbnN0IGxlZnQgPSBjb29yZGluYXRlcy5sZWZ0ICsgYWxpZ25lZENvb3JkaW5hdGVzLmxlZnQ7XG4gICAgY29uc3QgeyBhcnJvd1RvcCwgYXJyb3dMZWZ0IH0gPSBjYWxjdWxhdGVBcnJvd1Bvc2l0aW9uKHNpZGUsIGFycm93V2lkdGgsIGFycm93SGVpZ2h0LCB0b3AsIGxlZnQsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgaXNSVEwpO1xuICAgIGNvbnN0IHsgb3JpZ2luWCwgb3JpZ2luWSB9ID0gY2FsY3VsYXRlUG9wb3Zlck9yaWdpbihzaWRlLCBhbGlnbiwgaXNSVEwpO1xuICAgIHJldHVybiB7IHRvcCwgbGVmdCwgcmVmZXJlbmNlQ29vcmRpbmF0ZXMsIGFycm93VG9wLCBhcnJvd0xlZnQsIG9yaWdpblgsIG9yaWdpblkgfTtcbn07XG4vKipcbiAqIERldGVybWluZXMgdGhlIHRyYW5zZm9ybS1vcmlnaW5cbiAqIG9mIHRoZSBwb3BvdmVyIGFuaW1hdGlvbiBzbyB0aGF0IGl0XG4gKiBpcyBpbiBsaW5lIHdpdGggd2hhdCB0aGUgc2lkZSBhbmQgYWxpZ25tZW50XG4gKiBwcm9wIHZhbHVlcyBhcmUuIEN1cnJlbnRseSBvbmx5IHVzZWRcbiAqIHdpdGggdGhlIE1EIGFuaW1hdGlvbi5cbiAqL1xuY29uc3QgY2FsY3VsYXRlUG9wb3Zlck9yaWdpbiA9IChzaWRlLCBhbGlnbiwgaXNSVEwpID0+IHtcbiAgICBzd2l0Y2ggKHNpZGUpIHtcbiAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgIHJldHVybiB7IG9yaWdpblg6IGdldE9yaWdpblhBbGlnbm1lbnQoYWxpZ24pLCBvcmlnaW5ZOiAnYm90dG9tJyB9O1xuICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgcmV0dXJuIHsgb3JpZ2luWDogZ2V0T3JpZ2luWEFsaWdubWVudChhbGlnbiksIG9yaWdpblk6ICd0b3AnIH07XG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgcmV0dXJuIHsgb3JpZ2luWDogJ3JpZ2h0Jywgb3JpZ2luWTogZ2V0T3JpZ2luWUFsaWdubWVudChhbGlnbikgfTtcbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgcmV0dXJuIHsgb3JpZ2luWDogJ2xlZnQnLCBvcmlnaW5ZOiBnZXRPcmlnaW5ZQWxpZ25tZW50KGFsaWduKSB9O1xuICAgICAgICBjYXNlICdzdGFydCc6XG4gICAgICAgICAgICByZXR1cm4geyBvcmlnaW5YOiBpc1JUTCA/ICdsZWZ0JyA6ICdyaWdodCcsIG9yaWdpblk6IGdldE9yaWdpbllBbGlnbm1lbnQoYWxpZ24pIH07XG4gICAgICAgIGNhc2UgJ2VuZCc6XG4gICAgICAgICAgICByZXR1cm4geyBvcmlnaW5YOiBpc1JUTCA/ICdyaWdodCcgOiAnbGVmdCcsIG9yaWdpblk6IGdldE9yaWdpbllBbGlnbm1lbnQoYWxpZ24pIH07XG4gICAgfVxufTtcbmNvbnN0IGdldE9yaWdpblhBbGlnbm1lbnQgPSAoYWxpZ24pID0+IHtcbiAgICBzd2l0Y2ggKGFsaWduKSB7XG4gICAgICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgICAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgICAgICByZXR1cm4gJ2NlbnRlcic7XG4gICAgICAgIGNhc2UgJ2VuZCc6XG4gICAgICAgICAgICByZXR1cm4gJ3JpZ2h0JztcbiAgICB9XG59O1xuY29uc3QgZ2V0T3JpZ2luWUFsaWdubWVudCA9IChhbGlnbikgPT4ge1xuICAgIHN3aXRjaCAoYWxpZ24pIHtcbiAgICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICAgICAgcmV0dXJuICd0b3AnO1xuICAgICAgICBjYXNlICdjZW50ZXInOlxuICAgICAgICAgICAgcmV0dXJuICdjZW50ZXInO1xuICAgICAgICBjYXNlICdlbmQnOlxuICAgICAgICAgICAgcmV0dXJuICdib3R0b20nO1xuICAgIH1cbn07XG4vKipcbiAqIENhbGN1bGF0ZXMgd2hlcmUgdGhlIGFycm93IHBvc2l0aW9uaW5nXG4gKiBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIHBvcG92ZXIgY29udGVudC5cbiAqL1xuY29uc3QgY2FsY3VsYXRlQXJyb3dQb3NpdGlvbiA9IChzaWRlLCBhcnJvd1dpZHRoLCBhcnJvd0hlaWdodCwgdG9wLCBsZWZ0LCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQsIGlzUlRMKSA9PiB7XG4gICAgLyoqXG4gICAgICogTm90ZTogV2hlbiBzaWRlIGlzIGxlZnQsIHJpZ2h0LCBzdGFydCwgb3IgZW5kLCB0aGUgYXJyb3cgaXNcbiAgICAgKiBiZWVuIHJvdGF0ZWQgdXNpbmcgYSBgdHJhbnNmb3JtYCwgc28gdG8gbW92ZSB0aGUgYXJyb3cgdXAgb3IgZG93blxuICAgICAqIGJ5IGl0cyBkaW1lbnNpb24sIHlvdSBuZWVkIHRvIHVzZSBgYXJyb3dXaWR0aGAuXG4gICAgICovXG4gICAgY29uc3QgbGVmdFBvc2l0aW9uID0ge1xuICAgICAgICBhcnJvd1RvcDogdG9wICsgY29udGVudEhlaWdodCAvIDIgLSBhcnJvd1dpZHRoIC8gMixcbiAgICAgICAgYXJyb3dMZWZ0OiBsZWZ0ICsgY29udGVudFdpZHRoIC0gYXJyb3dXaWR0aCAvIDIsXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNb3ZlIHRoZSBhcnJvdyB0byB0aGUgbGVmdCBieSBhcnJvd1dpZHRoIGFuZCB0aGVuXG4gICAgICogYWdhaW4gYnkgaGFsZiBvZiBpdHMgd2lkdGggYmVjYXVzZSB3ZSBoYXZlIHJvdGF0ZWRcbiAgICAgKiB0aGUgYXJyb3cgdXNpbmcgYSB0cmFuc2Zvcm0uXG4gICAgICovXG4gICAgY29uc3QgcmlnaHRQb3NpdGlvbiA9IHsgYXJyb3dUb3A6IHRvcCArIGNvbnRlbnRIZWlnaHQgLyAyIC0gYXJyb3dXaWR0aCAvIDIsIGFycm93TGVmdDogbGVmdCAtIGFycm93V2lkdGggKiAxLjUgfTtcbiAgICBzd2l0Y2ggKHNpZGUpIHtcbiAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgIHJldHVybiB7IGFycm93VG9wOiB0b3AgKyBjb250ZW50SGVpZ2h0LCBhcnJvd0xlZnQ6IGxlZnQgKyBjb250ZW50V2lkdGggLyAyIC0gYXJyb3dXaWR0aCAvIDIgfTtcbiAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgIHJldHVybiB7IGFycm93VG9wOiB0b3AgLSBhcnJvd0hlaWdodCwgYXJyb3dMZWZ0OiBsZWZ0ICsgY29udGVudFdpZHRoIC8gMiAtIGFycm93V2lkdGggLyAyIH07XG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgcmV0dXJuIGxlZnRQb3NpdGlvbjtcbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgcmV0dXJuIHJpZ2h0UG9zaXRpb247XG4gICAgICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgICAgICAgIHJldHVybiBpc1JUTCA/IHJpZ2h0UG9zaXRpb24gOiBsZWZ0UG9zaXRpb247XG4gICAgICAgIGNhc2UgJ2VuZCc6XG4gICAgICAgICAgICByZXR1cm4gaXNSVEwgPyBsZWZ0UG9zaXRpb24gOiByaWdodFBvc2l0aW9uO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHsgYXJyb3dUb3A6IDAsIGFycm93TGVmdDogMCB9O1xuICAgIH1cbn07XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHJlcXVpcmVkIHRvcC9sZWZ0XG4gKiB2YWx1ZXMgbmVlZGVkIHRvIHBvc2l0aW9uIHRoZSBwb3BvdmVyXG4gKiBjb250ZW50IG9uIHRoZSBzaWRlIHNwZWNpZmllZCBpbiB0aGVcbiAqIGBzaWRlYCBwcm9wLlxuICovXG5jb25zdCBjYWxjdWxhdGVQb3BvdmVyU2lkZSA9IChzaWRlLCB0cmlnZ2VyQm91bmRpbmdCb3gsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgYXJyb3dXaWR0aCwgYXJyb3dIZWlnaHQsIGlzUlRMKSA9PiB7XG4gICAgY29uc3Qgc2lkZUxlZnQgPSB7XG4gICAgICAgIHRvcDogdHJpZ2dlckJvdW5kaW5nQm94LnRvcCxcbiAgICAgICAgbGVmdDogdHJpZ2dlckJvdW5kaW5nQm94LmxlZnQgLSBjb250ZW50V2lkdGggLSBhcnJvd1dpZHRoLFxuICAgIH07XG4gICAgY29uc3Qgc2lkZVJpZ2h0ID0ge1xuICAgICAgICB0b3A6IHRyaWdnZXJCb3VuZGluZ0JveC50b3AsXG4gICAgICAgIGxlZnQ6IHRyaWdnZXJCb3VuZGluZ0JveC5sZWZ0ICsgdHJpZ2dlckJvdW5kaW5nQm94LndpZHRoICsgYXJyb3dXaWR0aCxcbiAgICB9O1xuICAgIHN3aXRjaCAoc2lkZSkge1xuICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b3A6IHRyaWdnZXJCb3VuZGluZ0JveC50b3AgLSBjb250ZW50SGVpZ2h0IC0gYXJyb3dIZWlnaHQsXG4gICAgICAgICAgICAgICAgbGVmdDogdHJpZ2dlckJvdW5kaW5nQm94LmxlZnQsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICByZXR1cm4gc2lkZVJpZ2h0O1xuICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b3A6IHRyaWdnZXJCb3VuZGluZ0JveC50b3AgKyB0cmlnZ2VyQm91bmRpbmdCb3guaGVpZ2h0ICsgYXJyb3dIZWlnaHQsXG4gICAgICAgICAgICAgICAgbGVmdDogdHJpZ2dlckJvdW5kaW5nQm94LmxlZnQsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgIHJldHVybiBzaWRlTGVmdDtcbiAgICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICAgICAgcmV0dXJuIGlzUlRMID8gc2lkZVJpZ2h0IDogc2lkZUxlZnQ7XG4gICAgICAgIGNhc2UgJ2VuZCc6XG4gICAgICAgICAgICByZXR1cm4gaXNSVEwgPyBzaWRlTGVmdCA6IHNpZGVSaWdodDtcbiAgICB9XG59O1xuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSByZXF1aXJlZCB0b3AvbGVmdFxuICogb2Zmc2V0IHZhbHVlcyBuZWVkZWQgdG8gcHJvdmlkZSB0aGVcbiAqIGNvcnJlY3QgYWxpZ25tZW50IHJlZ2FyZGxlc3Mgd2hpbGUgdGFraW5nXG4gKiBpbnRvIGFjY291bnQgdGhlIHNpZGUgdGhlIHBvcG92ZXIgaXMgb24uXG4gKi9cbmNvbnN0IGNhbGN1bGF0ZVBvcG92ZXJBbGlnbiA9IChhbGlnbiwgc2lkZSwgdHJpZ2dlckJvdW5kaW5nQm94LCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpID0+IHtcbiAgICBzd2l0Y2ggKGFsaWduKSB7XG4gICAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgICAgICByZXR1cm4gY2FsY3VsYXRlUG9wb3ZlckNlbnRlckFsaWduKHNpZGUsIHRyaWdnZXJCb3VuZGluZ0JveCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0KTtcbiAgICAgICAgY2FzZSAnZW5kJzpcbiAgICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVQb3BvdmVyRW5kQWxpZ24oc2lkZSwgdHJpZ2dlckJvdW5kaW5nQm94LCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpO1xuICAgICAgICBjYXNlICdzdGFydCc6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGVuZCBhbGlnbm1lbnQgZm9yXG4gKiB0aGUgcG9wb3Zlci4gSWYgc2lkZSBpcyBvbiB0aGUgeC1heGlzXG4gKiB0aGVuIHRoZSBhbGlnbiB2YWx1ZXMgcmVmZXIgdG8gdGhlIHRvcFxuICogYW5kIGJvdHRvbSBtYXJnaW5zIG9mIHRoZSBjb250ZW50LlxuICogSWYgc2lkZSBpcyBvbiB0aGUgeS1heGlzIHRoZW4gdGhlXG4gKiBhbGlnbiB2YWx1ZXMgcmVmZXIgdG8gdGhlIGxlZnQgYW5kIHJpZ2h0XG4gKiBtYXJnaW5zIG9mIHRoZSBjb250ZW50LlxuICovXG5jb25zdCBjYWxjdWxhdGVQb3BvdmVyRW5kQWxpZ24gPSAoc2lkZSwgdHJpZ2dlckJvdW5kaW5nQm94LCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpID0+IHtcbiAgICBzd2l0Y2ggKHNpZGUpIHtcbiAgICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICBjYXNlICdlbmQnOlxuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b3A6IC0oY29udGVudEhlaWdodCAtIHRyaWdnZXJCb3VuZGluZ0JveC5oZWlnaHQpLFxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgbGVmdDogLShjb250ZW50V2lkdGggLSB0cmlnZ2VyQm91bmRpbmdCb3gud2lkdGgpLFxuICAgICAgICAgICAgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGNlbnRlciBhbGlnbm1lbnQgZm9yXG4gKiB0aGUgcG9wb3Zlci4gSWYgc2lkZSBpcyBvbiB0aGUgeC1heGlzXG4gKiB0aGVuIHRoZSBhbGlnbiB2YWx1ZXMgcmVmZXIgdG8gdGhlIHRvcFxuICogYW5kIGJvdHRvbSBtYXJnaW5zIG9mIHRoZSBjb250ZW50LlxuICogSWYgc2lkZSBpcyBvbiB0aGUgeS1heGlzIHRoZW4gdGhlXG4gKiBhbGlnbiB2YWx1ZXMgcmVmZXIgdG8gdGhlIGxlZnQgYW5kIHJpZ2h0XG4gKiBtYXJnaW5zIG9mIHRoZSBjb250ZW50LlxuICovXG5jb25zdCBjYWxjdWxhdGVQb3BvdmVyQ2VudGVyQWxpZ24gPSAoc2lkZSwgdHJpZ2dlckJvdW5kaW5nQm94LCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpID0+IHtcbiAgICBzd2l0Y2ggKHNpZGUpIHtcbiAgICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICBjYXNlICdlbmQnOlxuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b3A6IC0oY29udGVudEhlaWdodCAvIDIgLSB0cmlnZ2VyQm91bmRpbmdCb3guaGVpZ2h0IC8gMiksXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICBsZWZ0OiAtKGNvbnRlbnRXaWR0aCAvIDIgLSB0cmlnZ2VyQm91bmRpbmdCb3gud2lkdGggLyAyKSxcbiAgICAgICAgICAgIH07XG4gICAgfVxufTtcbi8qKlxuICogQWRqdXN0cyBwb3BvdmVyIHBvc2l0aW9uaW5nIGNvb3JkaW5hdGVzXG4gKiBzdWNoIHRoYXQgcG9wb3ZlciBkb2VzIG5vdCBhcHBlYXIgb2Zmc2NyZWVuXG4gKiBvciBvdmVybGFwcGluZyBzYWZlIGFyZWEgYm91bmRzLlxuICovXG5jb25zdCBjYWxjdWxhdGVXaW5kb3dBZGp1c3RtZW50ID0gKHNpZGUsIGNvb3JkVG9wLCBjb29yZExlZnQsIGJvZHlQYWRkaW5nLCBib2R5V2lkdGgsIGJvZHlIZWlnaHQsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgc2FmZUFyZWFNYXJnaW4sIGNvbnRlbnRPcmlnaW5YLCBjb250ZW50T3JpZ2luWSwgdHJpZ2dlckNvb3JkaW5hdGVzLCBjb29yZEFycm93VG9wID0gMCwgY29vcmRBcnJvd0xlZnQgPSAwLCBhcnJvd0hlaWdodCA9IDApID0+IHtcbiAgICBsZXQgYXJyb3dUb3AgPSBjb29yZEFycm93VG9wO1xuICAgIGNvbnN0IGFycm93TGVmdCA9IGNvb3JkQXJyb3dMZWZ0O1xuICAgIGxldCBsZWZ0ID0gY29vcmRMZWZ0O1xuICAgIGxldCB0b3AgPSBjb29yZFRvcDtcbiAgICBsZXQgYm90dG9tO1xuICAgIGxldCBvcmlnaW5YID0gY29udGVudE9yaWdpblg7XG4gICAgbGV0IG9yaWdpblkgPSBjb250ZW50T3JpZ2luWTtcbiAgICBsZXQgY2hlY2tTYWZlQXJlYUxlZnQgPSBmYWxzZTtcbiAgICBsZXQgY2hlY2tTYWZlQXJlYVJpZ2h0ID0gZmFsc2U7XG4gICAgY29uc3QgdHJpZ2dlclRvcCA9IHRyaWdnZXJDb29yZGluYXRlc1xuICAgICAgICA/IHRyaWdnZXJDb29yZGluYXRlcy50b3AgKyB0cmlnZ2VyQ29vcmRpbmF0ZXMuaGVpZ2h0XG4gICAgICAgIDogYm9keUhlaWdodCAvIDIgLSBjb250ZW50SGVpZ2h0IC8gMjtcbiAgICBjb25zdCB0cmlnZ2VySGVpZ2h0ID0gdHJpZ2dlckNvb3JkaW5hdGVzID8gdHJpZ2dlckNvb3JkaW5hdGVzLmhlaWdodCA6IDA7XG4gICAgbGV0IGFkZFBvcG92ZXJCb3R0b21DbGFzcyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEFkanVzdCBwb3BvdmVyIHNvIGl0IGRvZXMgbm90XG4gICAgICogZ28gb2ZmIHRoZSBsZWZ0IG9mIHRoZSBzY3JlZW4uXG4gICAgICovXG4gICAgaWYgKGxlZnQgPCBib2R5UGFkZGluZyArIHNhZmVBcmVhTWFyZ2luKSB7XG4gICAgICAgIGxlZnQgPSBib2R5UGFkZGluZztcbiAgICAgICAgY2hlY2tTYWZlQXJlYUxlZnQgPSB0cnVlO1xuICAgICAgICBvcmlnaW5YID0gJ2xlZnQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRqdXN0IHBvcG92ZXIgc28gaXQgZG9lcyBub3RcbiAgICAgICAgICogZ28gb2ZmIHRoZSByaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAgICAgKi9cbiAgICB9XG4gICAgZWxzZSBpZiAoY29udGVudFdpZHRoICsgYm9keVBhZGRpbmcgKyBsZWZ0ICsgc2FmZUFyZWFNYXJnaW4gPiBib2R5V2lkdGgpIHtcbiAgICAgICAgY2hlY2tTYWZlQXJlYVJpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgbGVmdCA9IGJvZHlXaWR0aCAtIGNvbnRlbnRXaWR0aCAtIGJvZHlQYWRkaW5nO1xuICAgICAgICBvcmlnaW5YID0gJ3JpZ2h0JztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRqdXN0IHBvcG92ZXIgc28gaXQgZG9lcyBub3RcbiAgICAgKiBnbyBvZmYgdGhlIHRvcCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIElmIHBvcG92ZXIgaXMgb24gdGhlIGxlZnQgb3IgdGhlIHJpZ2h0IG9mXG4gICAgICogdGhlIHRyaWdnZXIsIHRoZW4gd2Ugc2hvdWxkIG5vdCBhZGp1c3QgdG9wXG4gICAgICogbWFyZ2lucy5cbiAgICAgKi9cbiAgICBpZiAodHJpZ2dlclRvcCArIHRyaWdnZXJIZWlnaHQgKyBjb250ZW50SGVpZ2h0ID4gYm9keUhlaWdodCAmJiAoc2lkZSA9PT0gJ3RvcCcgfHwgc2lkZSA9PT0gJ2JvdHRvbScpKSB7XG4gICAgICAgIGlmICh0cmlnZ2VyVG9wIC0gY29udGVudEhlaWdodCA+IDApIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2hpbGUgd2Ugc3RyaXZlIHRvIGFsaWduIHRoZSBwb3BvdmVyIHdpdGggdGhlIHRyaWdnZXJcbiAgICAgICAgICAgICAqIG9uIHNtYWxsZXIgc2NyZWVucyB0aGlzIGlzIG5vdCBhbHdheXMgcG9zc2libGUuIEFzIGEgcmVzdWx0LFxuICAgICAgICAgICAgICogd2UgYWRqdXN0IHRoZSBwb3BvdmVyIHVwIHNvIHRoYXQgaXQgZG9lcyBub3QgaGFuZ1xuICAgICAgICAgICAgICogb2ZmIHRoZSBib3R0b20gb2YgdGhlIHNjcmVlbi4gSG93ZXZlciwgd2UgZG8gbm90IHdhbnQgdG8gbW92ZVxuICAgICAgICAgICAgICogdGhlIHBvcG92ZXIgdXAgc28gbXVjaCB0aGF0IGl0IGdvZXMgb2ZmIHRoZSB0b3Agb2YgdGhlIHNjcmVlbi5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBXZSBjaG9zZSAxMiBoZXJlIHNvIHRoYXQgdGhlIHBvcG92ZXIgcG9zaXRpb24gbG9va3MgYSBiaXQgbmljZXIgYXNcbiAgICAgICAgICAgICAqIGl0IGlzIG5vdCByaWdodCB1cCBhZ2FpbnN0IHRoZSBlZGdlIG9mIHRoZSBzY3JlZW4uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRvcCA9IE1hdGgubWF4KDEyLCB0cmlnZ2VyVG9wIC0gY29udGVudEhlaWdodCAtIHRyaWdnZXJIZWlnaHQgLSAoYXJyb3dIZWlnaHQgLSAxKSk7XG4gICAgICAgICAgICBhcnJvd1RvcCA9IHRvcCArIGNvbnRlbnRIZWlnaHQ7XG4gICAgICAgICAgICBvcmlnaW5ZID0gJ2JvdHRvbSc7XG4gICAgICAgICAgICBhZGRQb3BvdmVyQm90dG9tQ2xhc3MgPSB0cnVlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiBub3QgZW5vdWdoIHJvb20gZm9yIHBvcG92ZXIgdG8gYXBwZWFyXG4gICAgICAgICAgICAgKiBhYm92ZSB0cmlnZ2VyLCB0aGVuIGN1dCBpdCBvZmYuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJvdHRvbSA9IGJvZHlQYWRkaW5nO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHRvcCxcbiAgICAgICAgbGVmdCxcbiAgICAgICAgYm90dG9tLFxuICAgICAgICBvcmlnaW5YLFxuICAgICAgICBvcmlnaW5ZLFxuICAgICAgICBjaGVja1NhZmVBcmVhTGVmdCxcbiAgICAgICAgY2hlY2tTYWZlQXJlYVJpZ2h0LFxuICAgICAgICBhcnJvd1RvcCxcbiAgICAgICAgYXJyb3dMZWZ0LFxuICAgICAgICBhZGRQb3BvdmVyQm90dG9tQ2xhc3MsXG4gICAgfTtcbn07XG5jb25zdCBzaG91bGRTaG93QXJyb3cgPSAoc2lkZSwgZGlkQWRqdXN0Qm91bmRzID0gZmFsc2UsIGV2LCB0cmlnZ2VyKSA9PiB7XG4gICAgLyoqXG4gICAgICogSWYgbm8gZXZlbnQgcHJvdmlkZWQgYW5kXG4gICAgICogd2UgZG8gbm90IGhhdmUgYSB0cmlnZ2VyLFxuICAgICAqIHRoZW4gdGhpcyBwb3BvdmVyIHdhcyBsaWtlbHlcbiAgICAgKiBwcmVzZW50ZWQgdmlhIHRoZSBwb3BvdmVyQ29udHJvbGxlclxuICAgICAqIG9yIHVzZXJzIGNhbGxlZCBgcHJlc2VudGAgbWFudWFsbHkuXG4gICAgICogSW4gdGhpcyBjYXNlLCB0aGUgYXJyb3cgc2hvdWxkIG5vdCBiZVxuICAgICAqIHNob3duIGFzIHdlIGRvIG5vdCBoYXZlIGEgcmVmZXJlbmNlLlxuICAgICAqL1xuICAgIGlmICghZXYgJiYgIXRyaWdnZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiBwb3BvdmVyIGlzIG9uIHRoZSBsZWZ0IG9yIHRoZSByaWdodFxuICAgICAqIG9mIGEgdHJpZ2dlciwgYnV0IHdlIG5lZWRlZCB0byBhZGp1c3QgdGhlXG4gICAgICogcG9wb3ZlciBkdWUgdG8gc2NyZWVuIGJvdW5kcywgdGhlbiB3ZSBzaG91bGRcbiAgICAgKiBoaWRlIHRoZSBhcnJvdyBhcyBpdCB3aWxsIG5ldmVyIGJlIHBvaW50aW5nXG4gICAgICogYXQgdGhlIHRyaWdnZXIuXG4gICAgICovXG4gICAgaWYgKHNpZGUgIT09ICd0b3AnICYmIHNpZGUgIT09ICdib3R0b20nICYmIGRpZEFkanVzdEJvdW5kcykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufTtcblxuY29uc3QgUE9QT1ZFUl9JT1NfQk9EWV9QQURESU5HID0gNTtcbi8qKlxuICogaU9TIFBvcG92ZXIgRW50ZXIgQW5pbWF0aW9uXG4gKi9cbi8vIFRPRE8oRlctMjgzMik6IHR5cGVzXG5jb25zdCBpb3NFbnRlckFuaW1hdGlvbiA9IChiYXNlRWwsIG9wdHMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgeyBldmVudDogZXYsIHNpemUsIHRyaWdnZXIsIHJlZmVyZW5jZSwgc2lkZSwgYWxpZ24gfSA9IG9wdHM7XG4gICAgY29uc3QgZG9jID0gYmFzZUVsLm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3QgaXNSVEwgPSBkb2MuZGlyID09PSAncnRsJztcbiAgICBjb25zdCBib2R5V2lkdGggPSBkb2MuZGVmYXVsdFZpZXcuaW5uZXJXaWR0aDtcbiAgICBjb25zdCBib2R5SGVpZ2h0ID0gZG9jLmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0O1xuICAgIGNvbnN0IHJvb3QgPSBnZXRFbGVtZW50Um9vdChiYXNlRWwpO1xuICAgIGNvbnN0IGNvbnRlbnRFbCA9IHJvb3QucXVlcnlTZWxlY3RvcignLnBvcG92ZXItY29udGVudCcpO1xuICAgIGNvbnN0IGFycm93RWwgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy5wb3BvdmVyLWFycm93Jyk7XG4gICAgY29uc3QgcmVmZXJlbmNlU2l6ZUVsID0gdHJpZ2dlciB8fCAoKF9hID0gZXYgPT09IG51bGwgfHwgZXYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV2LmRldGFpbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlvblNoYWRvd1RhcmdldCkgfHwgKGV2ID09PSBudWxsIHx8IGV2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBldi50YXJnZXQpO1xuICAgIGNvbnN0IHsgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0IH0gPSBnZXRQb3BvdmVyRGltZW5zaW9ucyhzaXplLCBjb250ZW50RWwsIHJlZmVyZW5jZVNpemVFbCk7XG4gICAgY29uc3QgeyBhcnJvd1dpZHRoLCBhcnJvd0hlaWdodCB9ID0gZ2V0QXJyb3dEaW1lbnNpb25zKGFycm93RWwpO1xuICAgIGNvbnN0IGRlZmF1bHRQb3NpdGlvbiA9IHtcbiAgICAgICAgdG9wOiBib2R5SGVpZ2h0IC8gMiAtIGNvbnRlbnRIZWlnaHQgLyAyLFxuICAgICAgICBsZWZ0OiBib2R5V2lkdGggLyAyIC0gY29udGVudFdpZHRoIC8gMixcbiAgICAgICAgb3JpZ2luWDogaXNSVEwgPyAncmlnaHQnIDogJ2xlZnQnLFxuICAgICAgICBvcmlnaW5ZOiAndG9wJyxcbiAgICB9O1xuICAgIGNvbnN0IHJlc3VsdHMgPSBnZXRQb3BvdmVyUG9zaXRpb24oaXNSVEwsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgYXJyb3dXaWR0aCwgYXJyb3dIZWlnaHQsIHJlZmVyZW5jZSwgc2lkZSwgYWxpZ24sIGRlZmF1bHRQb3NpdGlvbiwgdHJpZ2dlciwgZXYpO1xuICAgIGNvbnN0IHBhZGRpbmcgPSBzaXplID09PSAnY292ZXInID8gMCA6IFBPUE9WRVJfSU9TX0JPRFlfUEFERElORztcbiAgICBjb25zdCBtYXJnaW4gPSBzaXplID09PSAnY292ZXInID8gMCA6IDI1O1xuICAgIGNvbnN0IHsgb3JpZ2luWCwgb3JpZ2luWSwgdG9wLCBsZWZ0LCBib3R0b20sIGNoZWNrU2FmZUFyZWFMZWZ0LCBjaGVja1NhZmVBcmVhUmlnaHQsIGFycm93VG9wLCBhcnJvd0xlZnQsIGFkZFBvcG92ZXJCb3R0b21DbGFzcywgfSA9IGNhbGN1bGF0ZVdpbmRvd0FkanVzdG1lbnQoc2lkZSwgcmVzdWx0cy50b3AsIHJlc3VsdHMubGVmdCwgcGFkZGluZywgYm9keVdpZHRoLCBib2R5SGVpZ2h0LCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQsIG1hcmdpbiwgcmVzdWx0cy5vcmlnaW5YLCByZXN1bHRzLm9yaWdpblksIHJlc3VsdHMucmVmZXJlbmNlQ29vcmRpbmF0ZXMsIHJlc3VsdHMuYXJyb3dUb3AsIHJlc3VsdHMuYXJyb3dMZWZ0LCBhcnJvd0hlaWdodCk7XG4gICAgY29uc3QgYmFzZUFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgY29uc3QgY29udGVudEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgIGJhY2tkcm9wQW5pbWF0aW9uXG4gICAgICAgIC5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpXG4gICAgICAgIC5mcm9tVG8oJ29wYWNpdHknLCAwLjAxLCAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknKVxuICAgICAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAgICAgJ3BvaW50ZXItZXZlbnRzJzogJ25vbmUnLFxuICAgIH0pXG4gICAgICAgIC5hZnRlckNsZWFyU3R5bGVzKFsncG9pbnRlci1ldmVudHMnXSk7XG4gICAgLy8gSW4gQ2hyb21pdW0sIGlmIHRoZSB3cmFwcGVyIGFuaW1hdGVzLCB0aGUgYmFja2Ryb3AgZmlsdGVyIGRvZXNuJ3Qgd29yay5cbiAgICAvLyBUaGUgQ2hyb21pdW0gdGVhbSBzdGF0ZWQgdGhhdCB0aGlzIGJlaGF2aW9yIGlzIGV4cGVjdGVkIGFuZCBub3QgYSBidWcuIFRoZSBlbGVtZW50IGFuaW1hdGluZyBvcGFjaXR5IGNyZWF0ZXMgYSBiYWNrZHJvcCByb290IGZvciB0aGUgYmFja2Ryb3AtZmlsdGVyLlxuICAgIC8vIFRvIGdldCBhcm91bmQgdGhpcywgaW5zdGVhZCBvZiBhbmltYXRpbmcgdGhlIHdyYXBwZXIsIGFuaW1hdGUgYm90aCB0aGUgYXJyb3cgYW5kIGNvbnRlbnQuXG4gICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTE0ODgyNlxuICAgIGNvbnRlbnRBbmltYXRpb25cbiAgICAgICAgLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCcucG9wb3Zlci1hcnJvdycpKVxuICAgICAgICAuYWRkRWxlbWVudChyb290LnF1ZXJ5U2VsZWN0b3IoJy5wb3BvdmVyLWNvbnRlbnQnKSlcbiAgICAgICAgLmZyb21Ubygnb3BhY2l0eScsIDAuMDEsIDEpO1xuICAgIC8vIFRPRE8oRlctNDM3NikgRW5zdXJlIHRoYXQgYXJyb3cgYWxzbyBibHVycyB3aGVuIHRyYW5zbHVjZW50XG4gICAgcmV0dXJuIGJhc2VBbmltYXRpb25cbiAgICAgICAgLmVhc2luZygnZWFzZScpXG4gICAgICAgIC5kdXJhdGlvbigxMDApXG4gICAgICAgIC5iZWZvcmVBZGRXcml0ZSgoKSA9PiB7XG4gICAgICAgIGlmIChzaXplID09PSAnY292ZXInKSB7XG4gICAgICAgICAgICBiYXNlRWwuc3R5bGUuc2V0UHJvcGVydHkoJy0td2lkdGgnLCBgJHtjb250ZW50V2lkdGh9cHhgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWRkUG9wb3ZlckJvdHRvbUNsYXNzKSB7XG4gICAgICAgICAgICBiYXNlRWwuY2xhc3NMaXN0LmFkZCgncG9wb3Zlci1ib3R0b20nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYm90dG9tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnRlbnRFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnYm90dG9tJywgYCR7Ym90dG9tfXB4YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2FmZUFyZWFMZWZ0ID0gJyArIHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCwgMCknO1xuICAgICAgICBjb25zdCBzYWZlQXJlYVJpZ2h0ID0gJyAtIHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQsIDApJztcbiAgICAgICAgbGV0IGxlZnRWYWx1ZSA9IGAke2xlZnR9cHhgO1xuICAgICAgICBpZiAoY2hlY2tTYWZlQXJlYUxlZnQpIHtcbiAgICAgICAgICAgIGxlZnRWYWx1ZSA9IGAke2xlZnR9cHgke3NhZmVBcmVhTGVmdH1gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGVja1NhZmVBcmVhUmlnaHQpIHtcbiAgICAgICAgICAgIGxlZnRWYWx1ZSA9IGAke2xlZnR9cHgke3NhZmVBcmVhUmlnaHR9YDtcbiAgICAgICAgfVxuICAgICAgICBjb250ZW50RWwuc3R5bGUuc2V0UHJvcGVydHkoJ3RvcCcsIGBjYWxjKCR7dG9wfXB4ICsgdmFyKC0tb2Zmc2V0LXksIDApKWApO1xuICAgICAgICBjb250ZW50RWwuc3R5bGUuc2V0UHJvcGVydHkoJ2xlZnQnLCBgY2FsYygke2xlZnRWYWx1ZX0gKyB2YXIoLS1vZmZzZXQteCwgMCkpYCk7XG4gICAgICAgIGNvbnRlbnRFbC5zdHlsZS5zZXRQcm9wZXJ0eSgndHJhbnNmb3JtLW9yaWdpbicsIGAke29yaWdpbll9ICR7b3JpZ2luWH1gKTtcbiAgICAgICAgaWYgKGFycm93RWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpZEFkanVzdEJvdW5kcyA9IHJlc3VsdHMudG9wICE9PSB0b3AgfHwgcmVzdWx0cy5sZWZ0ICE9PSBsZWZ0O1xuICAgICAgICAgICAgY29uc3Qgc2hvd0Fycm93ID0gc2hvdWxkU2hvd0Fycm93KHNpZGUsIGRpZEFkanVzdEJvdW5kcywgZXYsIHRyaWdnZXIpO1xuICAgICAgICAgICAgaWYgKHNob3dBcnJvdykge1xuICAgICAgICAgICAgICAgIGFycm93RWwuc3R5bGUuc2V0UHJvcGVydHkoJ3RvcCcsIGBjYWxjKCR7YXJyb3dUb3B9cHggKyB2YXIoLS1vZmZzZXQteSwgMCkpYCk7XG4gICAgICAgICAgICAgICAgYXJyb3dFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnbGVmdCcsIGBjYWxjKCR7YXJyb3dMZWZ0fXB4ICsgdmFyKC0tb2Zmc2V0LXgsIDApKWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJyb3dFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KVxuICAgICAgICAuYWRkQW5pbWF0aW9uKFtiYWNrZHJvcEFuaW1hdGlvbiwgY29udGVudEFuaW1hdGlvbl0pO1xufTtcblxuLyoqXG4gKiBpT1MgUG9wb3ZlciBMZWF2ZSBBbmltYXRpb25cbiAqL1xuY29uc3QgaW9zTGVhdmVBbmltYXRpb24gPSAoYmFzZUVsKSA9PiB7XG4gICAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGJhc2VFbCk7XG4gICAgY29uc3QgY29udGVudEVsID0gcm9vdC5xdWVyeVNlbGVjdG9yKCcucG9wb3Zlci1jb250ZW50Jyk7XG4gICAgY29uc3QgYXJyb3dFbCA9IHJvb3QucXVlcnlTZWxlY3RvcignLnBvcG92ZXItYXJyb3cnKTtcbiAgICBjb25zdCBiYXNlQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICBjb25zdCBjb250ZW50QW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgYmFja2Ryb3BBbmltYXRpb24uYWRkRWxlbWVudChyb290LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrZHJvcCcpKS5mcm9tVG8oJ29wYWNpdHknLCAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknLCAwKTtcbiAgICBjb250ZW50QW5pbWF0aW9uXG4gICAgICAgIC5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignLnBvcG92ZXItYXJyb3cnKSlcbiAgICAgICAgLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCcucG9wb3Zlci1jb250ZW50JykpXG4gICAgICAgIC5mcm9tVG8oJ29wYWNpdHknLCAwLjk5LCAwKTtcbiAgICByZXR1cm4gYmFzZUFuaW1hdGlvblxuICAgICAgICAuZWFzaW5nKCdlYXNlJylcbiAgICAgICAgLmFmdGVyQWRkV3JpdGUoKCkgPT4ge1xuICAgICAgICBiYXNlRWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJy0td2lkdGgnKTtcbiAgICAgICAgYmFzZUVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcG92ZXItYm90dG9tJyk7XG4gICAgICAgIGNvbnRlbnRFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgndG9wJyk7XG4gICAgICAgIGNvbnRlbnRFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbGVmdCcpO1xuICAgICAgICBjb250ZW50RWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2JvdHRvbScpO1xuICAgICAgICBjb250ZW50RWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RyYW5zZm9ybS1vcmlnaW4nKTtcbiAgICAgICAgaWYgKGFycm93RWwpIHtcbiAgICAgICAgICAgIGFycm93RWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RvcCcpO1xuICAgICAgICAgICAgYXJyb3dFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbGVmdCcpO1xuICAgICAgICAgICAgYXJyb3dFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpO1xuICAgICAgICB9XG4gICAgfSlcbiAgICAgICAgLmR1cmF0aW9uKDMwMClcbiAgICAgICAgLmFkZEFuaW1hdGlvbihbYmFja2Ryb3BBbmltYXRpb24sIGNvbnRlbnRBbmltYXRpb25dKTtcbn07XG5cbmNvbnN0IFBPUE9WRVJfTURfQk9EWV9QQURESU5HID0gMTI7XG4vKipcbiAqIE1kIFBvcG92ZXIgRW50ZXIgQW5pbWF0aW9uXG4gKi9cbi8vIFRPRE8oRlctMjgzMik6IHR5cGVzXG5jb25zdCBtZEVudGVyQW5pbWF0aW9uID0gKGJhc2VFbCwgb3B0cykgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB7IGV2ZW50OiBldiwgc2l6ZSwgdHJpZ2dlciwgcmVmZXJlbmNlLCBzaWRlLCBhbGlnbiB9ID0gb3B0cztcbiAgICBjb25zdCBkb2MgPSBiYXNlRWwub3duZXJEb2N1bWVudDtcbiAgICBjb25zdCBpc1JUTCA9IGRvYy5kaXIgPT09ICdydGwnO1xuICAgIGNvbnN0IGJvZHlXaWR0aCA9IGRvYy5kZWZhdWx0Vmlldy5pbm5lcldpZHRoO1xuICAgIGNvbnN0IGJvZHlIZWlnaHQgPSBkb2MuZGVmYXVsdFZpZXcuaW5uZXJIZWlnaHQ7XG4gICAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGJhc2VFbCk7XG4gICAgY29uc3QgY29udGVudEVsID0gcm9vdC5xdWVyeVNlbGVjdG9yKCcucG9wb3Zlci1jb250ZW50Jyk7XG4gICAgY29uc3QgcmVmZXJlbmNlU2l6ZUVsID0gdHJpZ2dlciB8fCAoKF9hID0gZXYgPT09IG51bGwgfHwgZXYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV2LmRldGFpbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlvblNoYWRvd1RhcmdldCkgfHwgKGV2ID09PSBudWxsIHx8IGV2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBldi50YXJnZXQpO1xuICAgIGNvbnN0IHsgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0IH0gPSBnZXRQb3BvdmVyRGltZW5zaW9ucyhzaXplLCBjb250ZW50RWwsIHJlZmVyZW5jZVNpemVFbCk7XG4gICAgY29uc3QgZGVmYXVsdFBvc2l0aW9uID0ge1xuICAgICAgICB0b3A6IGJvZHlIZWlnaHQgLyAyIC0gY29udGVudEhlaWdodCAvIDIsXG4gICAgICAgIGxlZnQ6IGJvZHlXaWR0aCAvIDIgLSBjb250ZW50V2lkdGggLyAyLFxuICAgICAgICBvcmlnaW5YOiBpc1JUTCA/ICdyaWdodCcgOiAnbGVmdCcsXG4gICAgICAgIG9yaWdpblk6ICd0b3AnLFxuICAgIH07XG4gICAgY29uc3QgcmVzdWx0cyA9IGdldFBvcG92ZXJQb3NpdGlvbihpc1JUTCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0LCAwLCAwLCByZWZlcmVuY2UsIHNpZGUsIGFsaWduLCBkZWZhdWx0UG9zaXRpb24sIHRyaWdnZXIsIGV2KTtcbiAgICBjb25zdCBwYWRkaW5nID0gc2l6ZSA9PT0gJ2NvdmVyJyA/IDAgOiBQT1BPVkVSX01EX0JPRFlfUEFERElORztcbiAgICBjb25zdCB7IG9yaWdpblgsIG9yaWdpblksIHRvcCwgbGVmdCwgYm90dG9tIH0gPSBjYWxjdWxhdGVXaW5kb3dBZGp1c3RtZW50KHNpZGUsIHJlc3VsdHMudG9wLCByZXN1bHRzLmxlZnQsIHBhZGRpbmcsIGJvZHlXaWR0aCwgYm9keUhlaWdodCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0LCAwLCByZXN1bHRzLm9yaWdpblgsIHJlc3VsdHMub3JpZ2luWSwgcmVzdWx0cy5yZWZlcmVuY2VDb29yZGluYXRlcyk7XG4gICAgY29uc3QgYmFzZUFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgIGNvbnN0IGNvbnRlbnRBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICBjb25zdCB2aWV3cG9ydEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgIGJhY2tkcm9wQW5pbWF0aW9uXG4gICAgICAgIC5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpXG4gICAgICAgIC5mcm9tVG8oJ29wYWNpdHknLCAwLjAxLCAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknKVxuICAgICAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAgICAgJ3BvaW50ZXItZXZlbnRzJzogJ25vbmUnLFxuICAgIH0pXG4gICAgICAgIC5hZnRlckNsZWFyU3R5bGVzKFsncG9pbnRlci1ldmVudHMnXSk7XG4gICAgd3JhcHBlckFuaW1hdGlvbi5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignLnBvcG92ZXItd3JhcHBlcicpKS5kdXJhdGlvbigxNTApLmZyb21Ubygnb3BhY2l0eScsIDAuMDEsIDEpO1xuICAgIGNvbnRlbnRBbmltYXRpb25cbiAgICAgICAgLmFkZEVsZW1lbnQoY29udGVudEVsKVxuICAgICAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAgICAgdG9wOiBgY2FsYygke3RvcH1weCArIHZhcigtLW9mZnNldC15LCAwcHgpKWAsXG4gICAgICAgIGxlZnQ6IGBjYWxjKCR7bGVmdH1weCArIHZhcigtLW9mZnNldC14LCAwcHgpKWAsXG4gICAgICAgICd0cmFuc2Zvcm0tb3JpZ2luJzogYCR7b3JpZ2luWX0gJHtvcmlnaW5YfWAsXG4gICAgfSlcbiAgICAgICAgLmJlZm9yZUFkZFdyaXRlKCgpID0+IHtcbiAgICAgICAgaWYgKGJvdHRvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb250ZW50RWwuc3R5bGUuc2V0UHJvcGVydHkoJ2JvdHRvbScsIGAke2JvdHRvbX1weGApO1xuICAgICAgICB9XG4gICAgfSlcbiAgICAgICAgLmZyb21UbygndHJhbnNmb3JtJywgJ3NjYWxlKDAuOCknLCAnc2NhbGUoMSknKTtcbiAgICB2aWV3cG9ydEFuaW1hdGlvbi5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignLnBvcG92ZXItdmlld3BvcnQnKSkuZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgMSk7XG4gICAgcmV0dXJuIGJhc2VBbmltYXRpb25cbiAgICAgICAgLmVhc2luZygnY3ViaWMtYmV6aWVyKDAuMzYsMC42NiwwLjA0LDEpJylcbiAgICAgICAgLmR1cmF0aW9uKDMwMClcbiAgICAgICAgLmJlZm9yZUFkZFdyaXRlKCgpID0+IHtcbiAgICAgICAgaWYgKHNpemUgPT09ICdjb3ZlcicpIHtcbiAgICAgICAgICAgIGJhc2VFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS13aWR0aCcsIGAke2NvbnRlbnRXaWR0aH1weGApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmlnaW5ZID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgYmFzZUVsLmNsYXNzTGlzdC5hZGQoJ3BvcG92ZXItYm90dG9tJyk7XG4gICAgICAgIH1cbiAgICB9KVxuICAgICAgICAuYWRkQW5pbWF0aW9uKFtiYWNrZHJvcEFuaW1hdGlvbiwgd3JhcHBlckFuaW1hdGlvbiwgY29udGVudEFuaW1hdGlvbiwgdmlld3BvcnRBbmltYXRpb25dKTtcbn07XG5cbi8qKlxuICogTWQgUG9wb3ZlciBMZWF2ZSBBbmltYXRpb25cbiAqL1xuY29uc3QgbWRMZWF2ZUFuaW1hdGlvbiA9IChiYXNlRWwpID0+IHtcbiAgICBjb25zdCByb290ID0gZ2V0RWxlbWVudFJvb3QoYmFzZUVsKTtcbiAgICBjb25zdCBjb250ZW50RWwgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy5wb3BvdmVyLWNvbnRlbnQnKTtcbiAgICBjb25zdCBiYXNlQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgYmFja2Ryb3BBbmltYXRpb24uYWRkRWxlbWVudChyb290LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrZHJvcCcpKS5mcm9tVG8oJ29wYWNpdHknLCAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknLCAwKTtcbiAgICB3cmFwcGVyQW5pbWF0aW9uLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCcucG9wb3Zlci13cmFwcGVyJykpLmZyb21Ubygnb3BhY2l0eScsIDAuOTksIDApO1xuICAgIHJldHVybiBiYXNlQW5pbWF0aW9uXG4gICAgICAgIC5lYXNpbmcoJ2Vhc2UnKVxuICAgICAgICAuYWZ0ZXJBZGRXcml0ZSgoKSA9PiB7XG4gICAgICAgIGJhc2VFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnLS13aWR0aCcpO1xuICAgICAgICBiYXNlRWwuY2xhc3NMaXN0LnJlbW92ZSgncG9wb3Zlci1ib3R0b20nKTtcbiAgICAgICAgY29udGVudEVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCd0b3AnKTtcbiAgICAgICAgY29udGVudEVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCdsZWZ0Jyk7XG4gICAgICAgIGNvbnRlbnRFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnYm90dG9tJyk7XG4gICAgICAgIGNvbnRlbnRFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgndHJhbnNmb3JtLW9yaWdpbicpO1xuICAgIH0pXG4gICAgICAgIC5kdXJhdGlvbigxNTApXG4gICAgICAgIC5hZGRBbmltYXRpb24oW2JhY2tkcm9wQW5pbWF0aW9uLCB3cmFwcGVyQW5pbWF0aW9uXSk7XG59O1xuXG5jb25zdCBwb3BvdmVySW9zQ3NzID0gXCI6aG9zdHstLWJhY2tncm91bmQ6dmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IsICNmZmYpOy0tbWluLXdpZHRoOjA7LS1taW4taGVpZ2h0OjA7LS1tYXgtd2lkdGg6YXV0bzstLWhlaWdodDphdXRvOy0tb2Zmc2V0LXg6MHB4Oy0tb2Zmc2V0LXk6MHB4O2xlZnQ6MDtyaWdodDowO3RvcDowO2JvdHRvbTowO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmZpeGVkOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtvdXRsaW5lOm5vbmU7Y29sb3I6dmFyKC0taW9uLXRleHQtY29sb3IsICMwMDApO3otaW5kZXg6MTAwMX06aG9zdCgucG9wb3Zlci1uZXN0ZWQpe3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3QoLnBvcG92ZXItbmVzdGVkKSAucG9wb3Zlci13cmFwcGVye3BvaW50ZXItZXZlbnRzOmF1dG99Omhvc3QoLm92ZXJsYXktaGlkZGVuKXtkaXNwbGF5Om5vbmV9LnBvcG92ZXItd3JhcHBlcnt6LWluZGV4OjEwfS5wb3BvdmVyLWNvbnRlbnR7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cG9zaXRpb246YWJzb2x1dGU7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47d2lkdGg6dmFyKC0td2lkdGgpO21pbi13aWR0aDp2YXIoLS1taW4td2lkdGgpO21heC13aWR0aDp2YXIoLS1tYXgtd2lkdGgpO2hlaWdodDp2YXIoLS1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tbWluLWhlaWdodCk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpOy13ZWJraXQtYm94LXNoYWRvdzp2YXIoLS1ib3gtc2hhZG93KTtib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO292ZXJmbG93OmF1dG87ei1pbmRleDoxMH06OnNsb3R0ZWQoLnBvcG92ZXItdmlld3BvcnQpey0taW9uLXNhZmUtYXJlYS10b3A6MHB4Oy0taW9uLXNhZmUtYXJlYS1yaWdodDowcHg7LS1pb24tc2FmZS1hcmVhLWJvdHRvbTowcHg7LS1pb24tc2FmZS1hcmVhLWxlZnQ6MHB4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1ufTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtbGVmdCl7LS1vZmZzZXQteDo1cHh9Omhvc3QoLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1yaWdodCl7LS1vZmZzZXQteDotNXB4fTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtc3RhcnQpey0tb2Zmc2V0LXg6NXB4fTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtc3RhcnQpLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtc3RhcnR7LS1vZmZzZXQteDotNXB4fUBzdXBwb3J0cyBzZWxlY3Rvcig6ZGlyKHJ0bCkpezpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtc3RhcnQ6ZGlyKHJ0bCkpey0tb2Zmc2V0LXg6LTVweH19Omhvc3QoLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1lbmQpey0tb2Zmc2V0LXg6LTVweH06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCgucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLWVuZCksOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1lbmR7LS1vZmZzZXQteDo1cHh9QHN1cHBvcnRzIHNlbGVjdG9yKDpkaXIocnRsKSl7Omhvc3QoLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1lbmQ6ZGlyKHJ0bCkpey0tb2Zmc2V0LXg6NXB4fX06aG9zdHstLXdpZHRoOjIwMHB4Oy0tbWF4LWhlaWdodDo5MCU7LS1ib3gtc2hhZG93Om5vbmU7LS1iYWNrZHJvcC1vcGFjaXR5OnZhcigtLWlvbi1iYWNrZHJvcC1vcGFjaXR5LCAwLjA4KX06aG9zdCgucG9wb3Zlci1kZXNrdG9wKXstLWJveC1zaGFkb3c6MHB4IDRweCAxNnB4IDBweCByZ2JhKDAsIDAsIDAsIDAuMTIpfS5wb3BvdmVyLWNvbnRlbnR7Ym9yZGVyLXJhZGl1czoxMHB4fTpob3N0KC5wb3BvdmVyLWRlc2t0b3ApIC5wb3BvdmVyLWNvbnRlbnR7Ym9yZGVyOjAuNXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1zdGVwLTEwMCwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3Itc3RlcC0xMDAsICNlNmU2ZTYpKX0ucG9wb3Zlci1hcnJvd3tkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjIwcHg7aGVpZ2h0OjEwcHg7b3ZlcmZsb3c6aGlkZGVuO3otaW5kZXg6MTF9LnBvcG92ZXItYXJyb3c6OmFmdGVye3RvcDozcHg7Ym9yZGVyLXJhZGl1czozcHg7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTRweDtoZWlnaHQ6MTRweDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZCk7Y29udGVudDpcXFwiXFxcIjt6LWluZGV4OjEwfS5wb3BvdmVyLWFycm93OjphZnRlcntpbnNldC1pbmxpbmUtc3RhcnQ6M3B4fTpob3N0KC5wb3BvdmVyLWJvdHRvbSkgLnBvcG92ZXItYXJyb3d7dG9wOmF1dG87Ym90dG9tOi0xMHB4fTpob3N0KC5wb3BvdmVyLWJvdHRvbSkgLnBvcG92ZXItYXJyb3c6OmFmdGVye3RvcDotNnB4fTpob3N0KC5wb3BvdmVyLXNpZGUtbGVmdCkgLnBvcG92ZXItYXJyb3d7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKX06aG9zdCgucG9wb3Zlci1zaWRlLXJpZ2h0KSAucG9wb3Zlci1hcnJvd3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKC05MGRlZyl9Omhvc3QoLnBvcG92ZXItc2lkZS10b3ApIC5wb3BvdmVyLWFycm93ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMTgwZGVnKX06aG9zdCgucG9wb3Zlci1zaWRlLXN0YXJ0KSAucG9wb3Zlci1hcnJvd3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoOTBkZWcpfTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5wb3BvdmVyLXNpZGUtc3RhcnQpIC5wb3BvdmVyLWFycm93LDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5wb3BvdmVyLXNpZGUtc3RhcnQgLnBvcG92ZXItYXJyb3d7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC05MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtOTBkZWcpfUBzdXBwb3J0cyBzZWxlY3Rvcig6ZGlyKHJ0bCkpezpob3N0KC5wb3BvdmVyLXNpZGUtc3RhcnQ6ZGlyKHJ0bCkpIC5wb3BvdmVyLWFycm93ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTkwZGVnKX19Omhvc3QoLnBvcG92ZXItc2lkZS1lbmQpIC5wb3BvdmVyLWFycm93ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTkwZGVnKX06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCgucG9wb3Zlci1zaWRlLWVuZCkgLnBvcG92ZXItYXJyb3csOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLnBvcG92ZXItc2lkZS1lbmQgLnBvcG92ZXItYXJyb3d7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKX1Ac3VwcG9ydHMgc2VsZWN0b3IoOmRpcihydGwpKXs6aG9zdCgucG9wb3Zlci1zaWRlLWVuZDpkaXIocnRsKSkgLnBvcG92ZXItYXJyb3d7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKX19LnBvcG92ZXItYXJyb3csLnBvcG92ZXItY29udGVudHtvcGFjaXR5OjB9QHN1cHBvcnRzICgoLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIoMCkpIG9yIChiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMCkpKXs6aG9zdCgucG9wb3Zlci10cmFuc2x1Y2VudCkgLnBvcG92ZXItY29udGVudCw6aG9zdCgucG9wb3Zlci10cmFuc2x1Y2VudCkgLnBvcG92ZXItYXJyb3c6OmFmdGVye2JhY2tncm91bmQ6cmdiYSh2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpLCAwLjgpOy13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOnNhdHVyYXRlKDE4MCUpIGJsdXIoMjBweCk7YmFja2Ryb3AtZmlsdGVyOnNhdHVyYXRlKDE4MCUpIGJsdXIoMjBweCl9fVwiO1xuXG5jb25zdCBwb3BvdmVyTWRDc3MgPSBcIjpob3N0ey0tYmFja2dyb3VuZDp2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZik7LS1taW4td2lkdGg6MDstLW1pbi1oZWlnaHQ6MDstLW1heC13aWR0aDphdXRvOy0taGVpZ2h0OmF1dG87LS1vZmZzZXQteDowcHg7LS1vZmZzZXQteTowcHg7bGVmdDowO3JpZ2h0OjA7dG9wOjA7Ym90dG9tOjA7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cG9zaXRpb246Zml4ZWQ7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO291dGxpbmU6bm9uZTtjb2xvcjp2YXIoLS1pb24tdGV4dC1jb2xvciwgIzAwMCk7ei1pbmRleDoxMDAxfTpob3N0KC5wb3BvdmVyLW5lc3RlZCl7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdCgucG9wb3Zlci1uZXN0ZWQpIC5wb3BvdmVyLXdyYXBwZXJ7cG9pbnRlci1ldmVudHM6YXV0b306aG9zdCgub3ZlcmxheS1oaWRkZW4pe2Rpc3BsYXk6bm9uZX0ucG9wb3Zlci13cmFwcGVye3otaW5kZXg6MTB9LnBvcG92ZXItY29udGVudHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjphYnNvbHV0ZTstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjt3aWR0aDp2YXIoLS13aWR0aCk7bWluLXdpZHRoOnZhcigtLW1pbi13aWR0aCk7bWF4LXdpZHRoOnZhcigtLW1heC13aWR0aCk7aGVpZ2h0OnZhcigtLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1taW4taGVpZ2h0KTttYXgtaGVpZ2h0OnZhcigtLW1heC1oZWlnaHQpO2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZCk7LXdlYmtpdC1ib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO2JveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7b3ZlcmZsb3c6YXV0bzt6LWluZGV4OjEwfTo6c2xvdHRlZCgucG9wb3Zlci12aWV3cG9ydCl7LS1pb24tc2FmZS1hcmVhLXRvcDowcHg7LS1pb24tc2FmZS1hcmVhLXJpZ2h0OjBweDstLWlvbi1zYWZlLWFyZWEtYm90dG9tOjBweDstLWlvbi1zYWZlLWFyZWEtbGVmdDowcHg7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW59Omhvc3QoLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1sZWZ0KXstLW9mZnNldC14OjVweH06aG9zdCgucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLXJpZ2h0KXstLW9mZnNldC14Oi01cHh9Omhvc3QoLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1zdGFydCl7LS1vZmZzZXQteDo1cHh9Omhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1zdGFydCksOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1zdGFydHstLW9mZnNldC14Oi01cHh9QHN1cHBvcnRzIHNlbGVjdG9yKDpkaXIocnRsKSl7Omhvc3QoLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1zdGFydDpkaXIocnRsKSl7LS1vZmZzZXQteDotNXB4fX06aG9zdCgucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLWVuZCl7LS1vZmZzZXQteDotNXB4fTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtZW5kKSw6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLWVuZHstLW9mZnNldC14OjVweH1Ac3VwcG9ydHMgc2VsZWN0b3IoOmRpcihydGwpKXs6aG9zdCgucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLWVuZDpkaXIocnRsKSl7LS1vZmZzZXQteDo1cHh9fTpob3N0ey0td2lkdGg6MjUwcHg7LS1tYXgtaGVpZ2h0OjkwJTstLWJveC1zaGFkb3c6MCA1cHggNXB4IC0zcHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDhweCAxMHB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMTQpLCAwIDNweCAxNHB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMTIpOy0tYmFja2Ryb3Atb3BhY2l0eTp2YXIoLS1pb24tYmFja2Ryb3Atb3BhY2l0eSwgMC4zMil9LnBvcG92ZXItY29udGVudHtib3JkZXItcmFkaXVzOjRweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46bGVmdCB0b3A7dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IHRvcH06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLnBvcG92ZXItY29udGVudHstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46cmlnaHQgdG9wO3RyYW5zZm9ybS1vcmlnaW46cmlnaHQgdG9wfVtkaXI9cnRsXSAucG9wb3Zlci1jb250ZW50ey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpyaWdodCB0b3A7dHJhbnNmb3JtLW9yaWdpbjpyaWdodCB0b3B9QHN1cHBvcnRzIHNlbGVjdG9yKDpkaXIocnRsKSl7LnBvcG92ZXItY29udGVudDpkaXIocnRsKXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46cmlnaHQgdG9wO3RyYW5zZm9ybS1vcmlnaW46cmlnaHQgdG9wfX0ucG9wb3Zlci12aWV3cG9ydHstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6MTAwbXM7dHJhbnNpdGlvbi1kZWxheToxMDBtc30ucG9wb3Zlci13cmFwcGVye29wYWNpdHk6MH1cIjtcblxuY29uc3QgUG9wb3ZlciA9IGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgICAgIHRoaXMuZGlkUHJlc2VudCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uUG9wb3ZlckRpZFByZXNlbnRcIiwgNyk7XG4gICAgICAgIHRoaXMud2lsbFByZXNlbnQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvblBvcG92ZXJXaWxsUHJlc2VudFwiLCA3KTtcbiAgICAgICAgdGhpcy53aWxsRGlzbWlzcyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uUG9wb3ZlcldpbGxEaXNtaXNzXCIsIDcpO1xuICAgICAgICB0aGlzLmRpZERpc21pc3MgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvblBvcG92ZXJEaWREaXNtaXNzXCIsIDcpO1xuICAgICAgICB0aGlzLmRpZFByZXNlbnRTaG9ydGhhbmQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImRpZFByZXNlbnRcIiwgNyk7XG4gICAgICAgIHRoaXMud2lsbFByZXNlbnRTaG9ydGhhbmQgPSBjcmVhdGVFdmVudCh0aGlzLCBcIndpbGxQcmVzZW50XCIsIDcpO1xuICAgICAgICB0aGlzLndpbGxEaXNtaXNzU2hvcnRoYW5kID0gY3JlYXRlRXZlbnQodGhpcywgXCJ3aWxsRGlzbWlzc1wiLCA3KTtcbiAgICAgICAgdGhpcy5kaWREaXNtaXNzU2hvcnRoYW5kID0gY3JlYXRlRXZlbnQodGhpcywgXCJkaWREaXNtaXNzXCIsIDcpO1xuICAgICAgICB0aGlzLmlvbk1vdW50ID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25Nb3VudFwiLCA3KTtcbiAgICAgICAgdGhpcy5wYXJlbnRQb3BvdmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb3JlRGVsZWdhdGUgPSBDb3JlRGVsZWdhdGUoKTtcbiAgICAgICAgdGhpcy5sb2NrQ29udHJvbGxlciA9IGNyZWF0ZUxvY2tDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMuaW5saW5lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZm9jdXNEZXNjZW5kYW50T25QcmVzZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJlc2VudGVkID0gZmFsc2U7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5oYXNDb250cm9sbGVyID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBrZXlib2FyZCB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgZGlzbWlzc2VkIHdoZW4gdGhlIG92ZXJsYXkgaXMgcHJlc2VudGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5rZXlib2FyZENsb3NlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGB0cnVlYCwgdGhlIHBvcG92ZXIgd2lsbCBiZSBkaXNtaXNzZWQgd2hlbiB0aGUgYmFja2Ryb3AgaXMgY2xpY2tlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFja2Ryb3BEaXNtaXNzID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGB0cnVlYCwgYSBiYWNrZHJvcCB3aWxsIGJlIGRpc3BsYXllZCBiZWhpbmQgdGhlIHBvcG92ZXIuXG4gICAgICAgICAqIFRoaXMgcHJvcGVydHkgY29udHJvbHMgd2hldGhlciBvciBub3QgdGhlIGJhY2tkcm9wXG4gICAgICAgICAqIGRhcmtlbnMgdGhlIHNjcmVlbiB3aGVuIHRoZSBwb3BvdmVyIGlzIHByZXNlbnRlZC5cbiAgICAgICAgICogSXQgZG9lcyBub3QgY29udHJvbCB3aGV0aGVyIG9yIG5vdCB0aGUgYmFja2Ryb3BcbiAgICAgICAgICogaXMgYWN0aXZlIG9yIHByZXNlbnQgaW4gdGhlIERPTS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hvd0JhY2tkcm9wID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGB0cnVlYCwgdGhlIHBvcG92ZXIgd2lsbCBiZSB0cmFuc2x1Y2VudC5cbiAgICAgICAgICogT25seSBhcHBsaWVzIHdoZW4gdGhlIG1vZGUgaXMgYFwiaW9zXCJgIGFuZCB0aGUgZGV2aWNlIHN1cHBvcnRzXG4gICAgICAgICAqIFtgYmFja2Ryb3AtZmlsdGVyYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2JhY2tkcm9wLWZpbHRlciNCcm93c2VyX2NvbXBhdGliaWxpdHkpLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmFuc2x1Y2VudCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgYHRydWVgLCB0aGUgcG9wb3ZlciB3aWxsIGFuaW1hdGUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFuaW1hdGVkID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc2NyaWJlcyB3aGF0IGtpbmQgb2YgaW50ZXJhY3Rpb24gd2l0aCB0aGUgdHJpZ2dlciB0aGF0XG4gICAgICAgICAqIHNob3VsZCBjYXVzZSB0aGUgcG9wb3ZlciB0byBvcGVuLiBEb2VzIG5vdCBhcHBseSB3aGVuIHRoZSBgdHJpZ2dlcmBcbiAgICAgICAgICogcHJvcGVydHkgaXMgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqIElmIGBcImNsaWNrXCJgLCB0aGUgcG9wb3ZlciB3aWxsIGJlIHByZXNlbnRlZCB3aGVuIHRoZSB0cmlnZ2VyIGlzIGxlZnQgY2xpY2tlZC5cbiAgICAgICAgICogSWYgYFwiaG92ZXJcImAsIHRoZSBwb3BvdmVyIHdpbGwgYmUgcHJlc2VudGVkIHdoZW4gYSBwb2ludGVyIGhvdmVycyBvdmVyIHRoZSB0cmlnZ2VyLlxuICAgICAgICAgKiBJZiBgXCJjb250ZXh0LW1lbnVcImAsIHRoZSBwb3BvdmVyIHdpbGwgYmUgcHJlc2VudGVkIHdoZW4gdGhlIHRyaWdnZXIgaXMgcmlnaHRcbiAgICAgICAgICogY2xpY2tlZCBvbiBkZXNrdG9wIGFuZCBsb25nIHByZXNzZWQgb24gbW9iaWxlLiBUaGlzIHdpbGwgYWxzbyBwcmV2ZW50IHlvdXJcbiAgICAgICAgICogZGV2aWNlJ3Mgbm9ybWFsIGNvbnRleHQgbWVudSBmcm9tIGFwcGVhcmluZy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJpZ2dlckFjdGlvbiA9ICdjbGljayc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXNjcmliZXMgaG93IHRvIGNhbGN1bGF0ZSB0aGUgcG9wb3ZlciB3aWR0aC5cbiAgICAgICAgICogSWYgYFwiY292ZXJcImAsIHRoZSBwb3BvdmVyIHdpZHRoIHdpbGwgbWF0Y2ggdGhlIHdpZHRoIG9mIHRoZSB0cmlnZ2VyLlxuICAgICAgICAgKiBJZiBgXCJhdXRvXCJgLCB0aGUgcG9wb3ZlciB3aWR0aCB3aWxsIGJlIHNldCB0byBhIHN0YXRpYyBkZWZhdWx0IHZhbHVlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaXplID0gJ2F1dG8nO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgYHRydWVgLCB0aGUgcG9wb3ZlciB3aWxsIGJlIGF1dG9tYXRpY2FsbHlcbiAgICAgICAgICogZGlzbWlzc2VkIHdoZW4gdGhlIGNvbnRlbnQgaGFzIGJlZW4gY2xpY2tlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlzbWlzc09uU2VsZWN0ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXNjcmliZXMgd2hhdCB0byBwb3NpdGlvbiB0aGUgcG9wb3ZlciByZWxhdGl2ZSB0by5cbiAgICAgICAgICogSWYgYFwidHJpZ2dlclwiYCwgdGhlIHBvcG92ZXIgd2lsbCBiZSBwb3NpdGlvbmVkIHJlbGF0aXZlXG4gICAgICAgICAqIHRvIHRoZSB0cmlnZ2VyIGJ1dHRvbi4gSWYgcGFzc2luZyBpbiBhbiBldmVudCwgdGhpcyBpc1xuICAgICAgICAgKiBkZXRlcm1pbmVkIHZpYSBldmVudC50YXJnZXQuXG4gICAgICAgICAqIElmIGBcImV2ZW50XCJgLCB0aGUgcG9wb3ZlciB3aWxsIGJlIHBvc2l0aW9uZWQgcmVsYXRpdmVcbiAgICAgICAgICogdG8gdGhlIHgveSBjb29yZGluYXRlcyBvZiB0aGUgdHJpZ2dlciBhY3Rpb24uIElmIHBhc3NpbmdcbiAgICAgICAgICogaW4gYW4gZXZlbnQsIHRoaXMgaXMgZGV0ZXJtaW5lZCB2aWEgZXZlbnQuY2xpZW50WCBhbmQgZXZlbnQuY2xpZW50WS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVmZXJlbmNlID0gJ3RyaWdnZXInO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVzY3JpYmVzIHdoaWNoIHNpZGUgb2YgdGhlIGByZWZlcmVuY2VgIHBvaW50IHRvIHBvc2l0aW9uXG4gICAgICAgICAqIHRoZSBwb3BvdmVyIG9uLiBUaGUgYFwic3RhcnRcImAgYW5kIGBcImVuZFwiYCB2YWx1ZXMgYXJlIFJUTC1hd2FyZSxcbiAgICAgICAgICogYW5kIHRoZSBgXCJsZWZ0XCJgIGFuZCBgXCJyaWdodFwiYCB2YWx1ZXMgYXJlIG5vdC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2lkZSA9ICdib3R0b20nO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgYHRydWVgLCB0aGUgcG9wb3ZlciB3aWxsIGRpc3BsYXkgYW4gYXJyb3cgdGhhdCBwb2ludHMgYXQgdGhlXG4gICAgICAgICAqIGByZWZlcmVuY2VgIHdoZW4gcnVubmluZyBpbiBgaW9zYCBtb2RlLiBEb2VzIG5vdCBhcHBseSBpbiBgbWRgIG1vZGUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFycm93ID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGB0cnVlYCwgdGhlIHBvcG92ZXIgd2lsbCBvcGVuLiBJZiBgZmFsc2VgLCB0aGUgcG9wb3ZlciB3aWxsIGNsb3NlLlxuICAgICAgICAgKiBVc2UgdGhpcyBpZiB5b3UgbmVlZCBmaW5lciBncmFpbmVkIGNvbnRyb2wgb3ZlciBwcmVzZW50YXRpb24sIG90aGVyd2lzZVxuICAgICAgICAgKiBqdXN0IHVzZSB0aGUgcG9wb3ZlckNvbnRyb2xsZXIgb3IgdGhlIGB0cmlnZ2VyYCBwcm9wZXJ0eS5cbiAgICAgICAgICogTm90ZTogYGlzT3BlbmAgd2lsbCBub3QgYXV0b21hdGljYWxseSBiZSBzZXQgYmFjayB0byBgZmFsc2VgIHdoZW5cbiAgICAgICAgICogdGhlIHBvcG92ZXIgZGlzbWlzc2VzLiBZb3Ugd2lsbCBuZWVkIHRvIGRvIHRoYXQgaW4geW91ciBjb2RlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiBgdHJ1ZWAgdGhlIHBvcG92ZXIgd2lsbCBub3QgcmVnaXN0ZXIgaXRzIG93biBrZXlib2FyZCBldmVudCBoYW5kbGVycy5cbiAgICAgICAgICogVGhpcyBhbGxvd3MgdGhlIGNvbnRlbnRzIG9mIHRoZSBwb3BvdmVyIHRvIGhhbmRsZSB0aGVpciBvd24ga2V5Ym9hcmQgaW50ZXJhY3Rpb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiBgZmFsc2VgLCB0aGUgcG9wb3ZlciB3aWxsIHJlZ2lzdGVyIGl0cyBvd24ga2V5Ym9hcmQgZXZlbnQgaGFuZGxlcnMgZm9yXG4gICAgICAgICAqIG5hdmlnYXRpbmcgYGlvbi1saXN0YCBpdGVtcyB3aXRoaW4gYSBwb3BvdmVyICh1cC9kb3duL2hvbWUvZW5kL2V0Yy4pLlxuICAgICAgICAgKiBUaGlzIHdpbGwgYWxzbyBjYW5jZWwgYnJvd3NlciBrZXlib2FyZCBldmVudCBiaW5kaW5ncyB0byBwcmV2ZW50IHNjcm9sbFxuICAgICAgICAgKiBiZWhhdmlvciBpbiBhIHBvcG92ZXIgdXNpbmcgYSBsaXN0IG9mIGl0ZW1zLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5rZXlib2FyZEV2ZW50cyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgYHRydWVgLCBmb2N1cyB3aWxsIG5vdCBiZSBhbGxvd2VkIHRvIG1vdmUgb3V0c2lkZSBvZiB0aGlzIG92ZXJsYXkuXG4gICAgICAgICAqIElmIGBmYWxzZWAsIGZvY3VzIHdpbGwgYmUgYWxsb3dlZCB0byBtb3ZlIG91dHNpZGUgb2YgdGhlIG92ZXJsYXkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEluIG1vc3Qgc2NlbmFyaW9zIHRoaXMgcHJvcGVydHkgc2hvdWxkIHJlbWFpbiBzZXQgdG8gYHRydWVgLiBTZXR0aW5nXG4gICAgICAgICAqIHRoaXMgcHJvcGVydHkgdG8gYGZhbHNlYCBjYW4gY2F1c2Ugc2V2ZXJlIGFjY2Vzc2liaWxpdHkgaXNzdWVzIGFzIHVzZXJzXG4gICAgICAgICAqIHJlbHlpbmcgb24gYXNzaXN0aXZlIHRlY2hub2xvZ2llcyBtYXkgYmUgYWJsZSB0byBtb3ZlIGZvY3VzIGludG9cbiAgICAgICAgICogYSBjb25mdXNpbmcgc3RhdGUuIFdlIHJlY29tbWVuZCBvbmx5IHNldHRpbmcgdGhpcyB0byBgZmFsc2VgIHdoZW5cbiAgICAgICAgICogYWJzb2x1dGVseSBuZWNlc3NhcnkuXG4gICAgICAgICAqXG4gICAgICAgICAqIERldmVsb3BlcnMgbWF5IHdhbnQgdG8gY29uc2lkZXIgZGlzYWJsaW5nIGZvY3VzIHRyYXBwaW5nIGlmIHRoaXNcbiAgICAgICAgICogb3ZlcmxheSBwcmVzZW50cyBhIG5vbi1Jb25pYyBvdmVybGF5IGZyb20gYSAzcmQgcGFydHkgbGlicmFyeS5cbiAgICAgICAgICogRGV2ZWxvcGVycyB3b3VsZCBkaXNhYmxlIGZvY3VzIHRyYXBwaW5nIG9uIHRoZSBJb25pYyBvdmVybGF5XG4gICAgICAgICAqIHdoZW4gcHJlc2VudGluZyB0aGUgM3JkIHBhcnR5IG92ZXJsYXkgYW5kIHRoZW4gcmUtZW5hYmxlXG4gICAgICAgICAqIGZvY3VzIHRyYXBwaW5nIHdoZW4gZGlzbWlzc2luZyB0aGUgM3JkIHBhcnR5IG92ZXJsYXkgYW5kIG1vdmluZ1xuICAgICAgICAgKiBmb2N1cyBiYWNrIHRvIHRoZSBJb25pYyBvdmVybGF5LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb2N1c1RyYXAgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgYHRydWVgLCB0aGUgY29tcG9uZW50IHBhc3NlZCBpbnRvIGBpb24tcG9wb3ZlcmAgd2lsbFxuICAgICAgICAgKiBhdXRvbWF0aWNhbGx5IGJlIG1vdW50ZWQgd2hlbiB0aGUgcG9wb3ZlciBpcyBjcmVhdGVkLiBUaGVcbiAgICAgICAgICogY29tcG9uZW50IHdpbGwgcmVtYWluIG1vdW50ZWQgZXZlbiB3aGVuIHRoZSBwb3BvdmVyIGlzIGRpc21pc3NlZC5cbiAgICAgICAgICogSG93ZXZlciwgdGhlIGNvbXBvbmVudCB3aWxsIGJlIGRlc3Ryb3llZCB3aGVuIHRoZSBwb3BvdmVyIGlzXG4gICAgICAgICAqIGRlc3Ryb3llZC4gVGhpcyBwcm9wZXJ0eSBpcyBub3QgcmVhY3RpdmUgYW5kIHNob3VsZCBvbmx5IGJlXG4gICAgICAgICAqIHVzZWQgd2hlbiBpbml0aWFsbHkgY3JlYXRpbmcgYSBwb3BvdmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlOiBUaGlzIGZlYXR1cmUgb25seSBhcHBsaWVzIHRvIGlubGluZSBwb3BvdmVycyBpbiBKYXZhU2NyaXB0XG4gICAgICAgICAqIGZyYW1ld29ya3Mgc3VjaCBhcyBBbmd1bGFyLCBSZWFjdCwgYW5kIFZ1ZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMua2VlcENvbnRlbnRzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9uQmFja2Ryb3BUYXAgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRpc21pc3ModW5kZWZpbmVkLCBCQUNLRFJPUCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25MaWZlY3ljbGUgPSAobW9kYWxFdmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWwgPSB0aGlzLnVzZXJzRWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBMSUZFQ1lDTEVfTUFQW21vZGFsRXZlbnQudHlwZV07XG4gICAgICAgICAgICBpZiAoZWwgJiYgbmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgYnViYmxlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IG1vZGFsRXZlbnQuZGV0YWlsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGVsLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvbmZpZ3VyZVRyaWdnZXJJbnRlcmFjdGlvbiA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdHJpZ2dlciwgdHJpZ2dlckFjdGlvbiwgZWwsIGRlc3Ryb3lUcmlnZ2VySW50ZXJhY3Rpb24gfSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoZGVzdHJveVRyaWdnZXJJbnRlcmFjdGlvbikge1xuICAgICAgICAgICAgICAgIGRlc3Ryb3lUcmlnZ2VySW50ZXJhY3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmlnZ2VyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0cmlnZ2VyRWwgPSAodGhpcy50cmlnZ2VyRWwgPSB0cmlnZ2VyICE9PSB1bmRlZmluZWQgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmlnZ2VyKSA6IG51bGwpO1xuICAgICAgICAgICAgaWYgKCF0cmlnZ2VyRWwpIHtcbiAgICAgICAgICAgICAgICBwcmludElvbldhcm5pbmcoYFtpb24tcG9wb3Zlcl0gLSBBIHRyaWdnZXIgZWxlbWVudCB3aXRoIHRoZSBJRCBcIiR7dHJpZ2dlcn1cIiB3YXMgbm90IGZvdW5kIGluIHRoZSBET00uIFRoZSB0cmlnZ2VyIGVsZW1lbnQgbXVzdCBiZSBpbiB0aGUgRE9NIHdoZW4gdGhlIFwidHJpZ2dlclwiIHByb3BlcnR5IGlzIHNldCBvbiBpb24tcG9wb3Zlci5gLCB0aGlzLmVsKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lUcmlnZ2VySW50ZXJhY3Rpb24gPSBjb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24odHJpZ2dlckVsLCB0cmlnZ2VyQWN0aW9uLCBlbCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29uZmlndXJlS2V5Ym9hcmRJbnRlcmFjdGlvbiA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGVzdHJveUtleWJvYXJkSW50ZXJhY3Rpb24sIGVsIH0gPSB0aGlzO1xuICAgICAgICAgICAgaWYgKGRlc3Ryb3lLZXlib2FyZEludGVyYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgZGVzdHJveUtleWJvYXJkSW50ZXJhY3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGVzdHJveUtleWJvYXJkSW50ZXJhY3Rpb24gPSBjb25maWd1cmVLZXlib2FyZEludGVyYWN0aW9uKGVsKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jb25maWd1cmVEaXNtaXNzSW50ZXJhY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGRlc3Ryb3lEaXNtaXNzSW50ZXJhY3Rpb24sIHBhcmVudFBvcG92ZXIsIHRyaWdnZXJBY3Rpb24sIHRyaWdnZXJFbCwgZWwgfSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoIXBhcmVudFBvcG92ZXIgfHwgIXRyaWdnZXJFbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZXN0cm95RGlzbWlzc0ludGVyYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgZGVzdHJveURpc21pc3NJbnRlcmFjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZXN0cm95RGlzbWlzc0ludGVyYWN0aW9uID0gY29uZmlndXJlRGlzbWlzc0ludGVyYWN0aW9uKHRyaWdnZXJFbCwgdHJpZ2dlckFjdGlvbiwgZWwsIHBhcmVudFBvcG92ZXIpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBvblRyaWdnZXJDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuY29uZmlndXJlVHJpZ2dlckludGVyYWN0aW9uKCk7XG4gICAgfVxuICAgIG9uSXNPcGVuQ2hhbmdlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICBpZiAobmV3VmFsdWUgPT09IHRydWUgJiYgb2xkVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNlbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXdWYWx1ZSA9PT0gZmFsc2UgJiYgb2xkVmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzbWlzcygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBjb25zdCB7IGNvbmZpZ3VyZVRyaWdnZXJJbnRlcmFjdGlvbiwgZWwgfSA9IHRoaXM7XG4gICAgICAgIHByZXBhcmVPdmVybGF5KGVsKTtcbiAgICAgICAgY29uZmlndXJlVHJpZ2dlckludGVyYWN0aW9uKCk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBjb25zdCB7IGRlc3Ryb3lUcmlnZ2VySW50ZXJhY3Rpb24gfSA9IHRoaXM7XG4gICAgICAgIGlmIChkZXN0cm95VHJpZ2dlckludGVyYWN0aW9uKSB7XG4gICAgICAgICAgICBkZXN0cm95VHJpZ2dlckludGVyYWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHsgZWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHBvcG92ZXJJZCA9IChfYiA9IChfYSA9IHRoaXMuaHRtbEF0dHJpYnV0ZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogc2V0T3ZlcmxheUlkKGVsKTtcbiAgICAgICAgdGhpcy5wYXJlbnRQb3BvdmVyID0gZWwuY2xvc2VzdChgaW9uLXBvcG92ZXI6bm90KCMke3BvcG92ZXJJZH0pYCk7XG4gICAgICAgIGlmICh0aGlzLmFsaWdubWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmFsaWdubWVudCA9IGdldElvbk1vZGUodGhpcykgPT09ICdpb3MnID8gJ2NlbnRlcicgOiAnc3RhcnQnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgICAgIGNvbnN0IHsgcGFyZW50UG9wb3ZlciwgaXNPcGVuIH0gPSB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgcG9wb3ZlciB3YXMgcmVuZGVyZWQgd2l0aCBpc09wZW49XCJ0cnVlXCJcbiAgICAgICAgICogdGhlbiB3ZSBzaG91bGQgb3BlbiBwb3BvdmVyIGltbWVkaWF0ZWx5LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGlzT3BlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmFmKCgpID0+IHRoaXMucHJlc2VudCgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50UG9wb3Zlcikge1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihwYXJlbnRQb3BvdmVyLCAnaW9uUG9wb3ZlcldpbGxEaXNtaXNzJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzbWlzcyh1bmRlZmluZWQsIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gYmluZGluZyB2YWx1ZXMgaW4gZnJhbWV3b3JrcyBzdWNoIGFzIEFuZ3VsYXJcbiAgICAgICAgICogaXQgaXMgcG9zc2libGUgZm9yIHRoZSB2YWx1ZSB0byBiZSBzZXQgYWZ0ZXIgdGhlIFdlYiBDb21wb25lbnRcbiAgICAgICAgICogaW5pdGlhbGl6ZXMgYnV0IGJlZm9yZSB0aGUgdmFsdWUgd2F0Y2hlciBpcyBzZXQgdXAgaW4gU3RlbmNpbC5cbiAgICAgICAgICogQXMgYSByZXN1bHQsIHRoZSB3YXRjaGVyIGNhbGxiYWNrIG1heSBub3QgYmUgZmlyZWQuXG4gICAgICAgICAqIFdlIHdvcmsgYXJvdW5kIHRoaXMgYnkgbWFudWFsbHkgY2FsbGluZyB0aGUgd2F0Y2hlclxuICAgICAgICAgKiBjYWxsYmFjayB3aGVuIHRoZSBjb21wb25lbnQgaGFzIGxvYWRlZCBhbmQgdGhlIHdhdGNoZXJcbiAgICAgICAgICogaXMgY29uZmlndXJlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29uZmlndXJlVHJpZ2dlckludGVyYWN0aW9uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gb3BlbmluZyBhIHBvcG92ZXIgZnJvbSBhIHRyaWdnZXIsIHdlIHNob3VsZCBub3QgYmVcbiAgICAgKiBtb2RpZnlpbmcgdGhlIGBldmVudGAgcHJvcCBmcm9tIGluc2lkZSB0aGUgY29tcG9uZW50LlxuICAgICAqIEFkZGl0aW9uYWxseSwgd2hlbiBwcmVzc2luZyB0aGUgXCJSaWdodFwiIGFycm93IGtleSwgd2UgbmVlZFxuICAgICAqIHRvIHNoaWZ0IGZvY3VzIHRvIHRoZSBmaXJzdCBkZXNjZW5kYW50IGluIHRoZSBuZXdseSBwcmVzZW50ZWRcbiAgICAgKiBwb3BvdmVyLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgcHJlc2VudEZyb21UcmlnZ2VyKGV2ZW50LCBmb2N1c0Rlc2NlbmRhbnQgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLmZvY3VzRGVzY2VuZGFudE9uUHJlc2VudCA9IGZvY3VzRGVzY2VuZGFudDtcbiAgICAgICAgYXdhaXQgdGhpcy5wcmVzZW50KGV2ZW50KTtcbiAgICAgICAgdGhpcy5mb2N1c0Rlc2NlbmRhbnRPblByZXNlbnQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCBhbiBvdmVybGF5XG4gICAgICogaXMgYmVpbmcgdXNlZCBpbmxpbmUgb3IgdmlhIGEgY29udHJvbGxlci9KU1xuICAgICAqIGFuZCByZXR1cm5zIHRoZSBjb3JyZWN0IGRlbGVnYXRlLlxuICAgICAqIEJ5IGRlZmF1bHQsIHN1YnNlcXVlbnQgY2FsbHMgdG8gZ2V0RGVsZWdhdGVcbiAgICAgKiB3aWxsIHVzZSBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBkZWxlZ2F0ZS5cbiAgICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY2FsbGluZyBkaXNtaXNzIGFmdGVyXG4gICAgICogcHJlc2VudCBzbyB0aGF0IHRoZSBjb3JyZWN0IGRlbGVnYXRlIGlzIGdpdmVuLlxuICAgICAqL1xuICAgIGdldERlbGVnYXRlKGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMud29ya2luZ0RlbGVnYXRlICYmICFmb3JjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkZWxlZ2F0ZTogdGhpcy53b3JraW5nRGVsZWdhdGUsXG4gICAgICAgICAgICAgICAgaW5saW5lOiB0aGlzLmlubGluZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHVzaW5nIG92ZXJsYXkgaW5saW5lXG4gICAgICAgICAqIHdlIHBvdGVudGlhbGx5IG5lZWQgdG8gdXNlIHRoZSBjb3JlRGVsZWdhdGVcbiAgICAgICAgICogc28gdGhhdCB0aGlzIHdvcmtzIGluIHZhbmlsbGEgSlMgYXBwcy5cbiAgICAgICAgICogSWYgYSBkZXZlbG9wZXIgaGFzIHByZXNlbnRlZCB0aGlzIGNvbXBvbmVudFxuICAgICAgICAgKiB2aWEgYSBjb250cm9sbGVyLCB0aGVuIHdlIGNhbiBhc3N1bWVcbiAgICAgICAgICogdGhlIGNvbXBvbmVudCBpcyBhbHJlYWR5IGluIHRoZVxuICAgICAgICAgKiBjb3JyZWN0IHBsYWNlLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgcGFyZW50RWwgPSB0aGlzLmVsLnBhcmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGlubGluZSA9ICh0aGlzLmlubGluZSA9IHBhcmVudEVsICE9PSBudWxsICYmICF0aGlzLmhhc0NvbnRyb2xsZXIpO1xuICAgICAgICBjb25zdCBkZWxlZ2F0ZSA9ICh0aGlzLndvcmtpbmdEZWxlZ2F0ZSA9IGlubGluZSA/IHRoaXMuZGVsZWdhdGUgfHwgdGhpcy5jb3JlRGVsZWdhdGUgOiB0aGlzLmRlbGVnYXRlKTtcbiAgICAgICAgcmV0dXJuIHsgaW5saW5lLCBkZWxlZ2F0ZSB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmVzZW50IHRoZSBwb3BvdmVyIG92ZXJsYXkgYWZ0ZXIgaXQgaGFzIGJlZW4gY3JlYXRlZC5cbiAgICAgKiBEZXZlbG9wZXJzIGNhbiBwYXNzIGEgbW91c2UsIHRvdWNoLCBvciBwb2ludGVyIGV2ZW50XG4gICAgICogdG8gcG9zaXRpb24gdGhlIHBvcG92ZXIgcmVsYXRpdmUgdG8gd2hlcmUgdGhhdCBldmVudFxuICAgICAqIHdhcyBkaXNwYXRjaGVkLlxuICAgICAqL1xuICAgIGFzeW5jIHByZXNlbnQoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgdW5sb2NrID0gYXdhaXQgdGhpcy5sb2NrQ29udHJvbGxlci5sb2NrKCk7XG4gICAgICAgIGlmICh0aGlzLnByZXNlbnRlZCkge1xuICAgICAgICAgICAgdW5sb2NrKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBlbCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBpbmxpbmUsIGRlbGVnYXRlIH0gPSB0aGlzLmdldERlbGVnYXRlKHRydWUpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRW1pdCBpb25Nb3VudCBzbyBKUyBGcmFtZXdvcmtzIGhhdmUgYW4gb3Bwb3J0dW5pdHlcbiAgICAgICAgICogdG8gYWRkIHRoZSBjaGlsZCBjb21wb25lbnQgdG8gdGhlIERPTS4gVGhlIGNoaWxkXG4gICAgICAgICAqIGNvbXBvbmVudCB3aWxsIGJlIGFzc2lnbmVkIHRvIHRoaXMudXNlcnNFbGVtZW50IGJlbG93LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pb25Nb3VudC5lbWl0KCk7XG4gICAgICAgIHRoaXMudXNlcnNFbGVtZW50ID0gYXdhaXQgYXR0YWNoQ29tcG9uZW50KGRlbGVnYXRlLCBlbCwgdGhpcy5jb21wb25lbnQsIFsncG9wb3Zlci12aWV3cG9ydCddLCB0aGlzLmNvbXBvbmVudFByb3BzLCBpbmxpbmUpO1xuICAgICAgICBpZiAoIXRoaXMua2V5Ym9hcmRFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJlS2V5Ym9hcmRJbnRlcmFjdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uZmlndXJlRGlzbWlzc0ludGVyYWN0aW9uKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHVzaW5nIHRoZSBsYXp5IGxvYWRlZCBidWlsZCBvZiBTdGVuY2lsLCB3ZSBuZWVkIHRvIHdhaXRcbiAgICAgICAgICogZm9yIGV2ZXJ5IFN0ZW5jaWwgY29tcG9uZW50IGluc3RhbmNlIHRvIGJlIHJlYWR5IGJlZm9yZSBwcmVzZW50aW5nXG4gICAgICAgICAqIG90aGVyd2lzZSB0aGVyZSBjYW4gYmUgYSBmbGFzaCBvZiB1bnN0eWxlZCBjb250ZW50LiBXaXRoIHRoZVxuICAgICAgICAgKiBjdXN0b20gZWxlbWVudHMgYnVuZGxlIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIEpTIGZyYW1ld29ya1xuICAgICAgICAgKiBtb3VudCB0aGUgaW5uZXIgY29udGVudHMgb2YgdGhlIG92ZXJsYXkgb3RoZXJ3aXNlIFdlYktpdCBtYXlcbiAgICAgICAgICogZ2V0IHRoZSB0cmFuc2l0aW9uIGluY29ycmVjdC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChoYXNMYXp5QnVpbGQoZWwpKSB7XG4gICAgICAgICAgICBhd2FpdCBkZWVwUmVhZHkodGhpcy51c2Vyc0VsZW1lbnQpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiBrZWVwQ29udGVudHNNb3VudGVkPVwidHJ1ZVwiIHRoZW4gdGhlXG4gICAgICAgICAgICAgKiBKUyBGcmFtZXdvcmsgaGFzIGFscmVhZHkgbW91bnRlZCB0aGUgaW5uZXJcbiAgICAgICAgICAgICAqIGNvbnRlbnRzIHNvIHRoZXJlIGlzIG5vIG5lZWQgdG8gd2FpdC5cbiAgICAgICAgICAgICAqIE90aGVyd2lzZSwgd2UgbmVlZCB0byB3YWl0IGZvciB0aGUgSlNcbiAgICAgICAgICAgICAqIEZyYW1ld29yayB0byBtb3VudCB0aGUgaW5uZXIgY29udGVudHNcbiAgICAgICAgICAgICAqIG9mIHRoaXMgY29tcG9uZW50LlxuICAgICAgICAgICAgICovXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMua2VlcENvbnRlbnRzTW91bnRlZCkge1xuICAgICAgICAgICAgYXdhaXQgd2FpdEZvck1vdW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcHJlc2VudCh0aGlzLCAncG9wb3ZlckVudGVyJywgaW9zRW50ZXJBbmltYXRpb24sIG1kRW50ZXJBbmltYXRpb24sIHtcbiAgICAgICAgICAgIGV2ZW50OiBldmVudCB8fCB0aGlzLmV2ZW50LFxuICAgICAgICAgICAgc2l6ZTogdGhpcy5zaXplLFxuICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy50cmlnZ2VyRWwsXG4gICAgICAgICAgICByZWZlcmVuY2U6IHRoaXMucmVmZXJlbmNlLFxuICAgICAgICAgICAgc2lkZTogdGhpcy5zaWRlLFxuICAgICAgICAgICAgYWxpZ246IHRoaXMuYWxpZ25tZW50LFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHBvcG92ZXIgaXMgbmVzdGVkIGFuZCB3YXNcbiAgICAgICAgICogcHJlc2VudGVkIHVzaW5nIHRoZSBcIlJpZ2h0XCIgYXJyb3cga2V5LFxuICAgICAgICAgKiB3ZSBuZWVkIHRvIG1vdmUgZm9jdXMgdG8gdGhlIGZpcnN0XG4gICAgICAgICAqIGRlc2NlbmRhbnQgaW5zaWRlIG9mIHRoZSBwb3BvdmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuZm9jdXNEZXNjZW5kYW50T25QcmVzZW50KSB7XG4gICAgICAgICAgICBmb2N1c0ZpcnN0RGVzY2VuZGFudChlbCk7XG4gICAgICAgIH1cbiAgICAgICAgdW5sb2NrKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc21pc3MgdGhlIHBvcG92ZXIgb3ZlcmxheSBhZnRlciBpdCBoYXMgYmVlbiBwcmVzZW50ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YSBBbnkgZGF0YSB0byBlbWl0IGluIHRoZSBkaXNtaXNzIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0gcm9sZSBUaGUgcm9sZSBvZiB0aGUgZWxlbWVudCB0aGF0IGlzIGRpc21pc3NpbmcgdGhlIHBvcG92ZXIuIEZvciBleGFtcGxlLCAnY2FuY2VsJyBvciAnYmFja2Ryb3AnLlxuICAgICAqIEBwYXJhbSBkaXNtaXNzUGFyZW50UG9wb3ZlciBJZiBgdHJ1ZWAsIGRpc21pc3NpbmcgdGhpcyBwb3BvdmVyIHdpbGwgYWxzbyBkaXNtaXNzXG4gICAgICogYSBwYXJlbnQgcG9wb3ZlciBpZiB0aGlzIHBvcG92ZXIgaXMgbmVzdGVkLiBEZWZhdWx0cyB0byBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGEgbm8tb3AgaWYgdGhlIG92ZXJsYXkgaGFzIG5vdCBiZWVuIHByZXNlbnRlZCB5ZXQuIElmIHlvdSB3YW50XG4gICAgICogdG8gcmVtb3ZlIGFuIG92ZXJsYXkgZnJvbSB0aGUgRE9NIHRoYXQgd2FzIG5ldmVyIHByZXNlbnRlZCwgdXNlIHRoZVxuICAgICAqIFtyZW1vdmVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FbGVtZW50L3JlbW92ZSkgbWV0aG9kLlxuICAgICAqL1xuICAgIGFzeW5jIGRpc21pc3MoZGF0YSwgcm9sZSwgZGlzbWlzc1BhcmVudFBvcG92ZXIgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IHVubG9jayA9IGF3YWl0IHRoaXMubG9ja0NvbnRyb2xsZXIubG9jaygpO1xuICAgICAgICBjb25zdCB7IGRlc3Ryb3lLZXlib2FyZEludGVyYWN0aW9uLCBkZXN0cm95RGlzbWlzc0ludGVyYWN0aW9uIH0gPSB0aGlzO1xuICAgICAgICBpZiAoZGlzbWlzc1BhcmVudFBvcG92ZXIgJiYgdGhpcy5wYXJlbnRQb3BvdmVyKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudFBvcG92ZXIuZGlzbWlzcyhkYXRhLCByb2xlLCBkaXNtaXNzUGFyZW50UG9wb3Zlcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2hvdWxkRGlzbWlzcyA9IGF3YWl0IGRpc21pc3ModGhpcywgZGF0YSwgcm9sZSwgJ3BvcG92ZXJMZWF2ZScsIGlvc0xlYXZlQW5pbWF0aW9uLCBtZExlYXZlQW5pbWF0aW9uLCB0aGlzLmV2ZW50KTtcbiAgICAgICAgaWYgKHNob3VsZERpc21pc3MpIHtcbiAgICAgICAgICAgIGlmIChkZXN0cm95S2V5Ym9hcmRJbnRlcmFjdGlvbikge1xuICAgICAgICAgICAgICAgIGRlc3Ryb3lLZXlib2FyZEludGVyYWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95S2V5Ym9hcmRJbnRlcmFjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZXN0cm95RGlzbWlzc0ludGVyYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgZGVzdHJveURpc21pc3NJbnRlcmFjdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveURpc21pc3NJbnRlcmFjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdXNpbmcgcG9wb3ZlciBpbmxpbmVcbiAgICAgICAgICAgICAqIHdlIHBvdGVudGlhbGx5IG5lZWQgdG8gdXNlIHRoZSBjb3JlRGVsZWdhdGVcbiAgICAgICAgICAgICAqIHNvIHRoYXQgdGhpcyB3b3JrcyBpbiB2YW5pbGxhIEpTIGFwcHNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgeyBkZWxlZ2F0ZSB9ID0gdGhpcy5nZXREZWxlZ2F0ZSgpO1xuICAgICAgICAgICAgYXdhaXQgZGV0YWNoQ29tcG9uZW50KGRlbGVnYXRlLCB0aGlzLnVzZXJzRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdW5sb2NrKCk7XG4gICAgICAgIHJldHVybiBzaG91bGREaXNtaXNzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBnZXRQYXJlbnRQb3BvdmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnRQb3BvdmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHBvcG92ZXIgZGlkIGRpc21pc3MuXG4gICAgICovXG4gICAgb25EaWREaXNtaXNzKCkge1xuICAgICAgICByZXR1cm4gZXZlbnRNZXRob2QodGhpcy5lbCwgJ2lvblBvcG92ZXJEaWREaXNtaXNzJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgcG9wb3ZlciB3aWxsIGRpc21pc3MuXG4gICAgICovXG4gICAgb25XaWxsRGlzbWlzcygpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50TWV0aG9kKHRoaXMuZWwsICdpb25Qb3BvdmVyV2lsbERpc21pc3MnKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZSh0aGlzKTtcbiAgICAgICAgY29uc3QgeyBvbkxpZmVjeWNsZSwgcGFyZW50UG9wb3ZlciwgZGlzbWlzc09uU2VsZWN0LCBzaWRlLCBhcnJvdywgaHRtbEF0dHJpYnV0ZXMsIGZvY3VzVHJhcCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgZGVza3RvcCA9IGlzUGxhdGZvcm0oJ2Rlc2t0b3AnKTtcbiAgICAgICAgY29uc3QgZW5hYmxlQXJyb3cgPSBhcnJvdyAmJiAhcGFyZW50UG9wb3ZlcjtcbiAgICAgICAgcmV0dXJuIChoKEhvc3QsIE9iamVjdC5hc3NpZ24oeyBrZXk6ICcxZGU0ODYyMDk5Y2ZjYjUwMzVlNzgwMDhlNmRjN2MxMzcxODQ2ZjlhJywgXCJhcmlhLW1vZGFsXCI6IFwidHJ1ZVwiLCBcIm5vLXJvdXRlclwiOiB0cnVlLCB0YWJpbmRleDogXCItMVwiIH0sIGh0bWxBdHRyaWJ1dGVzLCB7IHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgekluZGV4OiBgJHsyMDAwMCArIHRoaXMub3ZlcmxheUluZGV4fWAsXG4gICAgICAgICAgICB9LCBjbGFzczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBnZXRDbGFzc01hcCh0aGlzLmNzc0NsYXNzKSksIHsgW21vZGVdOiB0cnVlLCAncG9wb3Zlci10cmFuc2x1Y2VudCc6IHRoaXMudHJhbnNsdWNlbnQsICdvdmVybGF5LWhpZGRlbic6IHRydWUsICdwb3BvdmVyLWRlc2t0b3AnOiBkZXNrdG9wLCBbYHBvcG92ZXItc2lkZS0ke3NpZGV9YF06IHRydWUsIFtGT0NVU19UUkFQX0RJU0FCTEVfQ0xBU1NdOiBmb2N1c1RyYXAgPT09IGZhbHNlLCAncG9wb3Zlci1uZXN0ZWQnOiAhIXBhcmVudFBvcG92ZXIgfSksIG9uSW9uUG9wb3ZlckRpZFByZXNlbnQ6IG9uTGlmZWN5Y2xlLCBvbklvblBvcG92ZXJXaWxsUHJlc2VudDogb25MaWZlY3ljbGUsIG9uSW9uUG9wb3ZlcldpbGxEaXNtaXNzOiBvbkxpZmVjeWNsZSwgb25Jb25Qb3BvdmVyRGlkRGlzbWlzczogb25MaWZlY3ljbGUsIG9uSW9uQmFja2Ryb3BUYXA6IHRoaXMub25CYWNrZHJvcFRhcCB9KSwgIXBhcmVudFBvcG92ZXIgJiYgaChcImlvbi1iYWNrZHJvcFwiLCB7IGtleTogJzk4MWFhNGUwMTAyY2I5MzMxMmZmYmQ4MjQzY2RmMmEwY2RjNjA0NjknLCB0YXBwYWJsZTogdGhpcy5iYWNrZHJvcERpc21pc3MsIHZpc2libGU6IHRoaXMuc2hvd0JhY2tkcm9wLCBwYXJ0OiBcImJhY2tkcm9wXCIgfSksIGgoXCJkaXZcIiwgeyBrZXk6ICcxYTI4ZWQ1NWU5ZDM0ZWY3OGNmMGViMDE3ODY0MzMwMWZkMmRkNzVkJywgY2xhc3M6IFwicG9wb3Zlci13cmFwcGVyIGlvbi1vdmVybGF5LXdyYXBwZXJcIiwgb25DbGljazogZGlzbWlzc09uU2VsZWN0ID8gKCkgPT4gdGhpcy5kaXNtaXNzKCkgOiB1bmRlZmluZWQgfSwgZW5hYmxlQXJyb3cgJiYgaChcImRpdlwiLCB7IGtleTogJzFjMjA2ZWE1ZWIzYzBiNTg4M2EzZDQ1YzM0Y2QyMmRkNWZmZTRiNjUnLCBjbGFzczogXCJwb3BvdmVyLWFycm93XCIsIHBhcnQ6IFwiYXJyb3dcIiB9KSwgaChcImRpdlwiLCB7IGtleTogJzViYTU2MTQ4NmEzMjhjMGM3YWI4MjU5OTVmZGJmYjdhMTk2NDI5YTQnLCBjbGFzczogXCJwb3BvdmVyLWNvbnRlbnRcIiwgcGFydDogXCJjb250ZW50XCIgfSwgaChcInNsb3RcIiwgeyBrZXk6ICcwMGZjMjQ0Y2U5ZGNjMmRmYzY3N2U2YzM0YjdjOGU3YTMzMGIyYjAzJyB9KSkpKSk7XG4gICAgfVxuICAgIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbiAgICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgICAgICBcInRyaWdnZXJcIjogW1wib25UcmlnZ2VyQ2hhbmdlXCJdLFxuICAgICAgICBcInRyaWdnZXJBY3Rpb25cIjogW1wib25UcmlnZ2VyQ2hhbmdlXCJdLFxuICAgICAgICBcImlzT3BlblwiOiBbXCJvbklzT3BlbkNoYW5nZVwiXVxuICAgIH07IH1cbn07XG5jb25zdCBMSUZFQ1lDTEVfTUFQID0ge1xuICAgIGlvblBvcG92ZXJEaWRQcmVzZW50OiAnaW9uVmlld0RpZEVudGVyJyxcbiAgICBpb25Qb3BvdmVyV2lsbFByZXNlbnQ6ICdpb25WaWV3V2lsbEVudGVyJyxcbiAgICBpb25Qb3BvdmVyV2lsbERpc21pc3M6ICdpb25WaWV3V2lsbExlYXZlJyxcbiAgICBpb25Qb3BvdmVyRGlkRGlzbWlzczogJ2lvblZpZXdEaWRMZWF2ZScsXG59O1xuUG9wb3Zlci5zdHlsZSA9IHtcbiAgICBpb3M6IHBvcG92ZXJJb3NDc3MsXG4gICAgbWQ6IHBvcG92ZXJNZENzc1xufTtcblxuZXhwb3J0IHsgUG9wb3ZlciBhcyBpb25fcG9wb3ZlciB9O1xuIl0sIm5hbWVzIjpbInIiLCJyZWdpc3Rlckluc3RhbmNlIiwiZCIsImNyZWF0ZUV2ZW50IiwibSIsInByaW50SW9uV2FybmluZyIsImUiLCJnZXRJb25Nb2RlIiwiYSIsImlzUGxhdGZvcm0iLCJoIiwiaiIsIkhvc3QiLCJrIiwiZ2V0RWxlbWVudCIsIkIiLCJCQUNLRFJPUCIsInByZXBhcmVPdmVybGF5Iiwic2V0T3ZlcmxheUlkIiwiZiIsInByZXNlbnQiLCJuIiwiZm9jdXNGaXJzdERlc2NlbmRhbnQiLCJnIiwiZGlzbWlzcyIsImV2ZW50TWV0aG9kIiwiRiIsIkZPQ1VTX1RSQVBfRElTQUJMRV9DTEFTUyIsIkMiLCJDb3JlRGVsZWdhdGUiLCJhdHRhY2hDb21wb25lbnQiLCJkZXRhY2hDb21wb25lbnQiLCJnZXRFbGVtZW50Um9vdCIsInJhZiIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYXNMYXp5QnVpbGQiLCJjIiwiY3JlYXRlTG9ja0NvbnRyb2xsZXIiLCJnZXRDbGFzc01hcCIsImRlZXBSZWFkeSIsInciLCJ3YWl0Rm9yTW91bnQiLCJjcmVhdGVBbmltYXRpb24iLCJnZXRBcnJvd0RpbWVuc2lvbnMiLCJhcnJvd0VsIiwiYXJyb3dXaWR0aCIsImFycm93SGVpZ2h0Iiwid2lkdGgiLCJoZWlnaHQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnZXRQb3BvdmVyRGltZW5zaW9ucyIsInNpemUiLCJjb250ZW50RWwiLCJ0cmlnZ2VyRWwiLCJjb250ZW50RGltZW50aW9ucyIsImNvbnRlbnRIZWlnaHQiLCJjb250ZW50V2lkdGgiLCJ0cmlnZ2VyRGltZW5zaW9ucyIsImNvbmZpZ3VyZURpc21pc3NJbnRlcmFjdGlvbiIsInRyaWdnZXJBY3Rpb24iLCJwb3BvdmVyRWwiLCJwYXJlbnRQb3BvdmVyRWwiLCJkaXNtaXNzQ2FsbGJhY2tzIiwicm9vdCIsInBhcmVudENvbnRlbnRFbCIsInF1ZXJ5U2VsZWN0b3IiLCJldmVudE5hbWUiLCJjYWxsYmFjayIsImV2IiwiZWxlbWVudCIsImRvY3VtZW50IiwiZWxlbWVudEZyb21Qb2ludCIsImNsaWVudFgiLCJjbGllbnRZIiwidW5kZWZpbmVkIiwidGFyZ2V0IiwiY2xvc2VzdFRyaWdnZXIiLCJjbG9zZXN0Iiwic3RvcFByb3BhZ2F0aW9uIiwiZm9yRWFjaCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24iLCJ0cmlnZ2VyQ2FsbGJhY2tzIiwiaG92ZXJUaW1lb3V0IiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInByZXNlbnRGcm9tVHJpZ2dlciIsIl94IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJyZWxhdGVkVGFyZ2V0IiwicHJldmVudERlZmF1bHQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJnZXRJbmRleE9mSXRlbSIsIml0ZW1zIiwiaXRlbSIsInRhZ05hbWUiLCJmaW5kSW5kZXgiLCJlbCIsImdldE5leHRJdGVtIiwiY3VycmVudEl0ZW0iLCJjdXJyZW50SXRlbUluZGV4IiwiZ2V0UHJldkl0ZW0iLCJmb2N1c0l0ZW0iLCJidXR0b24iLCJmb2N1cyIsImlzVHJpZ2dlckVsZW1lbnQiLCJoYXNBdHRyaWJ1dGUiLCJjb25maWd1cmVLZXlib2FyZEludGVyYWN0aW9uIiwiX3JlZjIiLCJfYSIsImFjdGl2ZUVsZW1lbnQiLCJ0YXJnZXRUYWdOYW1lIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9iIiwia2V5IiwicGFyZW50UG9wb3ZlciIsImdldFBhcmVudFBvcG92ZXIiLCJuZXh0SXRlbSIsInByZXZJdGVtIiwiZmlyc3RJdGVtIiwibGFzdEl0ZW0iLCJsZW5ndGgiLCJyaWdodEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiX3gyIiwiZ2V0UG9wb3ZlclBvc2l0aW9uIiwiaXNSVEwiLCJyZWZlcmVuY2UiLCJzaWRlIiwiYWxpZ24iLCJkZWZhdWx0UG9zaXRpb24iLCJldmVudCIsInJlZmVyZW5jZUNvb3JkaW5hdGVzIiwidG9wIiwibGVmdCIsIm1vdXNlRXYiLCJjdXN0b21FdiIsImFjdHVhbFRyaWdnZXJFbCIsImRldGFpbCIsImlvblNoYWRvd1RhcmdldCIsInRyaWdnZXJCb3VuZGluZ0JveCIsImNvb3JkaW5hdGVzIiwiY2FsY3VsYXRlUG9wb3ZlclNpZGUiLCJhbGlnbmVkQ29vcmRpbmF0ZXMiLCJjYWxjdWxhdGVQb3BvdmVyQWxpZ24iLCJhcnJvd1RvcCIsImFycm93TGVmdCIsImNhbGN1bGF0ZUFycm93UG9zaXRpb24iLCJvcmlnaW5YIiwib3JpZ2luWSIsImNhbGN1bGF0ZVBvcG92ZXJPcmlnaW4iLCJnZXRPcmlnaW5YQWxpZ25tZW50IiwiZ2V0T3JpZ2luWUFsaWdubWVudCIsImxlZnRQb3NpdGlvbiIsInJpZ2h0UG9zaXRpb24iLCJzaWRlTGVmdCIsInNpZGVSaWdodCIsImNhbGN1bGF0ZVBvcG92ZXJDZW50ZXJBbGlnbiIsImNhbGN1bGF0ZVBvcG92ZXJFbmRBbGlnbiIsImNhbGN1bGF0ZVdpbmRvd0FkanVzdG1lbnQiLCJjb29yZFRvcCIsImNvb3JkTGVmdCIsImJvZHlQYWRkaW5nIiwiYm9keVdpZHRoIiwiYm9keUhlaWdodCIsInNhZmVBcmVhTWFyZ2luIiwiY29udGVudE9yaWdpblgiLCJjb250ZW50T3JpZ2luWSIsInRyaWdnZXJDb29yZGluYXRlcyIsImNvb3JkQXJyb3dUb3AiLCJjb29yZEFycm93TGVmdCIsImJvdHRvbSIsImNoZWNrU2FmZUFyZWFMZWZ0IiwiY2hlY2tTYWZlQXJlYVJpZ2h0IiwidHJpZ2dlclRvcCIsInRyaWdnZXJIZWlnaHQiLCJhZGRQb3BvdmVyQm90dG9tQ2xhc3MiLCJNYXRoIiwibWF4Iiwic2hvdWxkU2hvd0Fycm93IiwiZGlkQWRqdXN0Qm91bmRzIiwidHJpZ2dlciIsIlBPUE9WRVJfSU9TX0JPRFlfUEFERElORyIsImlvc0VudGVyQW5pbWF0aW9uIiwiYmFzZUVsIiwib3B0cyIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJkaXIiLCJkZWZhdWx0VmlldyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInJlZmVyZW5jZVNpemVFbCIsInJlc3VsdHMiLCJwYWRkaW5nIiwibWFyZ2luIiwiYmFzZUFuaW1hdGlvbiIsImJhY2tkcm9wQW5pbWF0aW9uIiwiY29udGVudEFuaW1hdGlvbiIsImFkZEVsZW1lbnQiLCJmcm9tVG8iLCJiZWZvcmVTdHlsZXMiLCJhZnRlckNsZWFyU3R5bGVzIiwiZWFzaW5nIiwiZHVyYXRpb24iLCJiZWZvcmVBZGRXcml0ZSIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJjbGFzc0xpc3QiLCJhZGQiLCJzYWZlQXJlYUxlZnQiLCJzYWZlQXJlYVJpZ2h0IiwibGVmdFZhbHVlIiwic2hvd0Fycm93IiwiYWRkQW5pbWF0aW9uIiwiaW9zTGVhdmVBbmltYXRpb24iLCJhZnRlckFkZFdyaXRlIiwicmVtb3ZlUHJvcGVydHkiLCJyZW1vdmUiLCJQT1BPVkVSX01EX0JPRFlfUEFERElORyIsIm1kRW50ZXJBbmltYXRpb24iLCJ3cmFwcGVyQW5pbWF0aW9uIiwidmlld3BvcnRBbmltYXRpb24iLCJtZExlYXZlQW5pbWF0aW9uIiwicG9wb3Zlcklvc0NzcyIsInBvcG92ZXJNZENzcyIsIlBvcG92ZXIiLCJjb25zdHJ1Y3RvciIsImhvc3RSZWYiLCJkaWRQcmVzZW50Iiwid2lsbFByZXNlbnQiLCJ3aWxsRGlzbWlzcyIsImRpZERpc21pc3MiLCJkaWRQcmVzZW50U2hvcnRoYW5kIiwid2lsbFByZXNlbnRTaG9ydGhhbmQiLCJ3aWxsRGlzbWlzc1Nob3J0aGFuZCIsImRpZERpc21pc3NTaG9ydGhhbmQiLCJpb25Nb3VudCIsImNvcmVEZWxlZ2F0ZSIsImxvY2tDb250cm9sbGVyIiwiaW5saW5lIiwiZm9jdXNEZXNjZW5kYW50T25QcmVzZW50IiwicHJlc2VudGVkIiwiaGFzQ29udHJvbGxlciIsImtleWJvYXJkQ2xvc2UiLCJiYWNrZHJvcERpc21pc3MiLCJzaG93QmFja2Ryb3AiLCJ0cmFuc2x1Y2VudCIsImFuaW1hdGVkIiwiZGlzbWlzc09uU2VsZWN0IiwiYXJyb3ciLCJpc09wZW4iLCJrZXlib2FyZEV2ZW50cyIsImZvY3VzVHJhcCIsImtlZXBDb250ZW50c01vdW50ZWQiLCJvbkJhY2tkcm9wVGFwIiwib25MaWZlY3ljbGUiLCJtb2RhbEV2ZW50IiwidXNlcnNFbGVtZW50IiwibmFtZSIsIkxJRkVDWUNMRV9NQVAiLCJ0eXBlIiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJkZXN0cm95VHJpZ2dlckludGVyYWN0aW9uIiwiZ2V0RWxlbWVudEJ5SWQiLCJkZXN0cm95S2V5Ym9hcmRJbnRlcmFjdGlvbiIsImRlc3Ryb3lEaXNtaXNzSW50ZXJhY3Rpb24iLCJvblRyaWdnZXJDaGFuZ2UiLCJvbklzT3BlbkNoYW5nZSIsIm5ld1ZhbHVlIiwib2xkVmFsdWUiLCJjb25uZWN0ZWRDYWxsYmFjayIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwiY29tcG9uZW50V2lsbExvYWQiLCJwb3BvdmVySWQiLCJodG1sQXR0cmlidXRlcyIsImlkIiwiYWxpZ25tZW50IiwiY29tcG9uZW50RGlkTG9hZCIsIl94MyIsIl90aGlzIiwiZm9jdXNEZXNjZW5kYW50IiwiZ2V0RGVsZWdhdGUiLCJmb3JjZSIsIndvcmtpbmdEZWxlZ2F0ZSIsImRlbGVnYXRlIiwicGFyZW50RWwiLCJwYXJlbnROb2RlIiwiX3RoaXMyIiwidW5sb2NrIiwibG9jayIsImVtaXQiLCJjb21wb25lbnQiLCJjb21wb25lbnRQcm9wcyIsIl94NCIsIl94NSIsIl90aGlzMyIsImRhdGEiLCJyb2xlIiwiZGlzbWlzc1BhcmVudFBvcG92ZXIiLCJzaG91bGREaXNtaXNzIiwiX3RoaXM0Iiwib25EaWREaXNtaXNzIiwib25XaWxsRGlzbWlzcyIsInJlbmRlciIsIm1vZGUiLCJkZXNrdG9wIiwiZW5hYmxlQXJyb3ciLCJPYmplY3QiLCJhc3NpZ24iLCJ0YWJpbmRleCIsInpJbmRleCIsIm92ZXJsYXlJbmRleCIsImNsYXNzIiwiY3NzQ2xhc3MiLCJvbklvblBvcG92ZXJEaWRQcmVzZW50Iiwib25Jb25Qb3BvdmVyV2lsbFByZXNlbnQiLCJvbklvblBvcG92ZXJXaWxsRGlzbWlzcyIsIm9uSW9uUG9wb3ZlckRpZERpc21pc3MiLCJvbklvbkJhY2tkcm9wVGFwIiwidGFwcGFibGUiLCJ2aXNpYmxlIiwicGFydCIsIm9uQ2xpY2siLCJ3YXRjaGVycyIsImlvblBvcG92ZXJEaWRQcmVzZW50IiwiaW9uUG9wb3ZlcldpbGxQcmVzZW50IiwiaW9uUG9wb3ZlcldpbGxEaXNtaXNzIiwiaW9uUG9wb3ZlckRpZERpc21pc3MiLCJpb3MiLCJtZCIsImlvbl9wb3BvdmVyIl0sInNvdXJjZVJvb3QiOiJ3ZWJwYWNrOi8vLyIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswXX0=