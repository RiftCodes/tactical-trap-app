"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_capacitor_device_dist_esm_web_js"],{

/***/ 4763:
/*!********************************************************!*\
  !*** ./node_modules/@capacitor/device/dist/esm/web.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DeviceWeb: () => (/* binding */ DeviceWeb)
/* harmony export */ });
/* harmony import */ var C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 9204);
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @capacitor/core */ 4070);


class DeviceWeb extends _capacitor_core__WEBPACK_IMPORTED_MODULE_1__.WebPlugin {
  getId() {
    var _this = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return {
        identifier: _this.getUid()
      };
    })();
  }
  getInfo() {
    var _this2 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (typeof navigator === 'undefined' || !navigator.userAgent) {
        throw _this2.unavailable('Device API not available in this browser');
      }
      const ua = navigator.userAgent;
      const uaFields = _this2.parseUa(ua);
      return {
        model: uaFields.model,
        platform: 'web',
        operatingSystem: uaFields.operatingSystem,
        osVersion: uaFields.osVersion,
        manufacturer: navigator.vendor,
        isVirtual: false,
        webViewVersion: uaFields.browserVersion
      };
    })();
  }
  getBatteryInfo() {
    var _this3 = this;
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (typeof navigator === 'undefined' || !navigator.getBattery) {
        throw _this3.unavailable('Device API not available in this browser');
      }
      let battery = {};
      try {
        battery = yield navigator.getBattery();
      } catch (e) {
        // Let it fail, we don't care
      }
      return {
        batteryLevel: battery.level,
        isCharging: battery.charging
      };
    })();
  }
  getLanguageCode() {
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return {
        value: navigator.language.split('-')[0].toLowerCase()
      };
    })();
  }
  getLanguageTag() {
    return (0,C_Users_faiza_OneDrive_Desktop_desko_On_Going_Tactical_Traps_ble_lock_v1_4_1_ble_lock_capacitor_v1_4_1_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return {
        value: navigator.language
      };
    })();
  }
  parseUa(ua) {
    const uaFields = {};
    const start = ua.indexOf('(') + 1;
    let end = ua.indexOf(') AppleWebKit');
    if (ua.indexOf(') Gecko') !== -1) {
      end = ua.indexOf(') Gecko');
    }
    const fields = ua.substring(start, end);
    if (ua.indexOf('Android') !== -1) {
      const tmpFields = fields.replace('; wv', '').split('; ').pop();
      if (tmpFields) {
        uaFields.model = tmpFields.split(' Build')[0];
      }
      uaFields.osVersion = fields.split('; ')[1];
    } else {
      uaFields.model = fields.split('; ')[0];
      if (typeof navigator !== 'undefined' && navigator.oscpu) {
        uaFields.osVersion = navigator.oscpu;
      } else {
        if (ua.indexOf('Windows') !== -1) {
          uaFields.osVersion = fields;
        } else {
          const tmpFields = fields.split('; ').pop();
          if (tmpFields) {
            const lastParts = tmpFields.replace(' like Mac OS X', '').split(' ');
            uaFields.osVersion = lastParts[lastParts.length - 1].replace(/_/g, '.');
          }
        }
      }
    }
    if (/android/i.test(ua)) {
      uaFields.operatingSystem = 'android';
    } else if (/iPad|iPhone|iPod/.test(ua) && !window.MSStream) {
      uaFields.operatingSystem = 'ios';
    } else if (/Win/.test(ua)) {
      uaFields.operatingSystem = 'windows';
    } else if (/Mac/i.test(ua)) {
      uaFields.operatingSystem = 'mac';
    } else {
      uaFields.operatingSystem = 'unknown';
    }
    // Check for browsers based on non-standard javascript apis, only not user agent
    const isSafari = !!window.ApplePaySession;
    const isChrome = !!window.chrome;
    const isFirefox = /Firefox/.test(ua);
    const isEdge = /Edg/.test(ua);
    const isFirefoxIOS = /FxiOS/.test(ua);
    const isChromeIOS = /CriOS/.test(ua);
    const isEdgeIOS = /EdgiOS/.test(ua);
    // FF and Edge User Agents both end with "/MAJOR.MINOR"
    if (isSafari || isChrome && !isEdge || isFirefoxIOS || isChromeIOS || isEdgeIOS) {
      // Safari version comes as     "... Version/MAJOR.MINOR ..."
      // Chrome version comes as     "... Chrome/MAJOR.MINOR ..."
      // FirefoxIOS version comes as "... FxiOS/MAJOR.MINOR ..."
      // ChromeIOS version comes as  "... CriOS/MAJOR.MINOR ..."
      let searchWord;
      if (isFirefoxIOS) {
        searchWord = 'FxiOS';
      } else if (isChromeIOS) {
        searchWord = 'CriOS';
      } else if (isEdgeIOS) {
        searchWord = 'EdgiOS';
      } else if (isSafari) {
        searchWord = 'Version';
      } else {
        searchWord = 'Chrome';
      }
      const words = ua.split(' ');
      for (const word of words) {
        if (word.includes(searchWord)) {
          const version = word.split('/')[1];
          uaFields.browserVersion = version;
        }
      }
    } else if (isFirefox || isEdge) {
      const reverseUA = ua.split('').reverse().join('');
      const reverseVersion = reverseUA.split('/')[0];
      const version = reverseVersion.split('').reverse().join('');
      uaFields.browserVersion = version;
    }
    return uaFields;
  }
  getUid() {
    if (typeof window !== 'undefined' && window.localStorage) {
      let uid = window.localStorage.getItem('_capuid');
      if (uid) {
        return uid;
      }
      uid = this.uuid4();
      window.localStorage.setItem('_capuid', uid);
      return uid;
    }
    return this.uuid4();
  }
  uuid4() {
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
      const r = Math.random() * 16 | 0,
        v = c === 'x' ? r : r & 0x3 | 0x8;
      return v.toString(16);
    });
  }
}

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2NhcGFjaXRvcl9kZXZpY2VfZGlzdF9lc21fd2ViX2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEM7QUFDckMsTUFBTUMsU0FBUyxTQUFTRCxzREFBUyxDQUFDO0VBQy9CRSxLQUFLQSxDQUFBLEVBQUc7SUFBQSxJQUFBQyxLQUFBO0lBQUEsT0FBQUMsNk1BQUE7TUFDVixPQUFPO1FBQ0hDLFVBQVUsRUFBRUYsS0FBSSxDQUFDRyxNQUFNLENBQUM7TUFDNUIsQ0FBQztJQUFDO0VBQ047RUFDTUMsT0FBT0EsQ0FBQSxFQUFHO0lBQUEsSUFBQUMsTUFBQTtJQUFBLE9BQUFKLDZNQUFBO01BQ1osSUFBSSxPQUFPSyxTQUFTLEtBQUssV0FBVyxJQUFJLENBQUNBLFNBQVMsQ0FBQ0MsU0FBUyxFQUFFO1FBQzFELE1BQU1GLE1BQUksQ0FBQ0csV0FBVyxDQUFDLDBDQUEwQyxDQUFDO01BQ3RFO01BQ0EsTUFBTUMsRUFBRSxHQUFHSCxTQUFTLENBQUNDLFNBQVM7TUFDOUIsTUFBTUcsUUFBUSxHQUFHTCxNQUFJLENBQUNNLE9BQU8sQ0FBQ0YsRUFBRSxDQUFDO01BQ2pDLE9BQU87UUFDSEcsS0FBSyxFQUFFRixRQUFRLENBQUNFLEtBQUs7UUFDckJDLFFBQVEsRUFBRSxLQUFLO1FBQ2ZDLGVBQWUsRUFBRUosUUFBUSxDQUFDSSxlQUFlO1FBQ3pDQyxTQUFTLEVBQUVMLFFBQVEsQ0FBQ0ssU0FBUztRQUM3QkMsWUFBWSxFQUFFVixTQUFTLENBQUNXLE1BQU07UUFDOUJDLFNBQVMsRUFBRSxLQUFLO1FBQ2hCQyxjQUFjLEVBQUVULFFBQVEsQ0FBQ1U7TUFDN0IsQ0FBQztJQUFDO0VBQ047RUFDTUMsY0FBY0EsQ0FBQSxFQUFHO0lBQUEsSUFBQUMsTUFBQTtJQUFBLE9BQUFyQiw2TUFBQTtNQUNuQixJQUFJLE9BQU9LLFNBQVMsS0FBSyxXQUFXLElBQUksQ0FBQ0EsU0FBUyxDQUFDaUIsVUFBVSxFQUFFO1FBQzNELE1BQU1ELE1B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QUdJLGNBQWMsQ0FBQ2xDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQ2dDLE9BQU8sQ0FBQyxDQUFDLENBQUNDLElBQUksQ0FBQyxFQUFFLENBQUM7TUFDM0R4RCxRQUFRLENBQUNVLGNBQWMsR0FBRzJDLE9BQU87SUFDckM7SUFDQSxPQUFPckQsUUFBUTtFQUNuQjtFQUNBUCxNQUFNQSxDQUFBLEVBQUc7SUFDTCxJQUFJLE9BQU82QyxNQUFNLEtBQUssV0FBVyxJQUFJQSxNQUFNLENBQUNvQixZQUFZLEVBQUU7TUFDdEQsSUFBSUMsR0FBRyxHQUFHckIsTUFBTSxDQUFDb0IsWUFBWSxDQUFDRSxPQUFPLENBQUMsU0FBUyxDQUFDO01BQ2hELElBQUlELEdBQUcsRUFBRTtRQUNMLE9BQU9BLEdBQUc7TUFDZDtNQUNBQSxHQUFHLEdBQUcsSUFBSSxDQUFDRSxLQUFLLENBQUMsQ0FBQztNQUNsQnZCLE1BQU0sQ0FBQ29CLFlBQVksQ0FBQ0ksT0FBTyxDQUFDLFNBQVMsRUFBRUgsR0FBRyxDQUFDO01BQzNDLE9BQU9BLEdBQUc7SUFDZDtJQUNBLE9BQU8sSUFBSSxDQUFDRSxLQUFLLENBQUMsQ0FBQztFQUN2QjtFQUNBQSxLQUFLQSxDQUFBLEVBQUc7SUFDSixPQUFPLHNDQUFzQyxDQUFDN0IsT0FBTyxDQUFDLE9BQU8sRUFBRSxVQUFVK0IsQ0FBQyxFQUFFO01BQ3hFLE1BQU1DLENBQUMsR0FBSUMsSUFBSSxDQUFDQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBSSxDQUFDO1FBQUVDLENBQUMsR0FBR0osQ0FBQyxLQUFLLEdBQUcsR0FBR0MsQ0FBQyxHQUFJQSxDQUFDLEdBQUcsR0FBRyxHQUFJLEdBQUc7TUFDdkUsT0FBT0csQ0FBQyxDQUFDQyxRQUFRLENBQUMsRUFBRSxDQUFDO0lBQ3pCLENBQUMsQ0FBQztFQUNOO0FBQ0oiLCJzb3VyY2VzIjpbIi4vbm9kZV9tb2R1bGVzL0BjYXBhY2l0b3IvZGV2aWNlL2Rpc3QvZXNtL3dlYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBXZWJQbHVnaW4gfSBmcm9tICdAY2FwYWNpdG9yL2NvcmUnO1xuZXhwb3J0IGNsYXNzIERldmljZVdlYiBleHRlbmRzIFdlYlBsdWdpbiB7XG4gICAgYXN5bmMgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZGVudGlmaWVyOiB0aGlzLmdldFVpZCgpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRJbmZvKCkge1xuICAgICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcgfHwgIW5hdmlnYXRvci51c2VyQWdlbnQpIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMudW5hdmFpbGFibGUoJ0RldmljZSBBUEkgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGJyb3dzZXInKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgICAgIGNvbnN0IHVhRmllbGRzID0gdGhpcy5wYXJzZVVhKHVhKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsOiB1YUZpZWxkcy5tb2RlbCxcbiAgICAgICAgICAgIHBsYXRmb3JtOiAnd2ViJyxcbiAgICAgICAgICAgIG9wZXJhdGluZ1N5c3RlbTogdWFGaWVsZHMub3BlcmF0aW5nU3lzdGVtLFxuICAgICAgICAgICAgb3NWZXJzaW9uOiB1YUZpZWxkcy5vc1ZlcnNpb24sXG4gICAgICAgICAgICBtYW51ZmFjdHVyZXI6IG5hdmlnYXRvci52ZW5kb3IsXG4gICAgICAgICAgICBpc1ZpcnR1YWw6IGZhbHNlLFxuICAgICAgICAgICAgd2ViVmlld1ZlcnNpb246IHVhRmllbGRzLmJyb3dzZXJWZXJzaW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRCYXR0ZXJ5SW5mbygpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnIHx8ICFuYXZpZ2F0b3IuZ2V0QmF0dGVyeSkge1xuICAgICAgICAgICAgdGhyb3cgdGhpcy51bmF2YWlsYWJsZSgnRGV2aWNlIEFQSSBub3QgYXZhaWxhYmxlIGluIHRoaXMgYnJvd3NlcicpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBiYXR0ZXJ5ID0ge307XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBiYXR0ZXJ5ID0gYXdhaXQgbmF2aWdhdG9yLmdldEJhdHRlcnkoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gTGV0IGl0IGZhaWwsIHdlIGRvbid0IGNhcmVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmF0dGVyeUxldmVsOiBiYXR0ZXJ5LmxldmVsLFxuICAgICAgICAgICAgaXNDaGFyZ2luZzogYmF0dGVyeS5jaGFyZ2luZyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0TGFuZ3VhZ2VDb2RlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IG5hdmlnYXRvci5sYW5ndWFnZS5zcGxpdCgnLScpWzBdLnRvTG93ZXJDYXNlKCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIGdldExhbmd1YWdlVGFnKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IG5hdmlnYXRvci5sYW5ndWFnZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcGFyc2VVYSh1YSkge1xuICAgICAgICBjb25zdCB1YUZpZWxkcyA9IHt9O1xuICAgICAgICBjb25zdCBzdGFydCA9IHVhLmluZGV4T2YoJygnKSArIDE7XG4gICAgICAgIGxldCBlbmQgPSB1YS5pbmRleE9mKCcpIEFwcGxlV2ViS2l0Jyk7XG4gICAgICAgIGlmICh1YS5pbmRleE9mKCcpIEdlY2tvJykgIT09IC0xKSB7XG4gICAgICAgICAgICBlbmQgPSB1YS5pbmRleE9mKCcpIEdlY2tvJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmllbGRzID0gdWEuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpO1xuICAgICAgICBpZiAodWEuaW5kZXhPZignQW5kcm9pZCcpICE9PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgdG1wRmllbGRzID0gZmllbGRzLnJlcGxhY2UoJzsgd3YnLCAnJykuc3BsaXQoJzsgJykucG9wKCk7XG4gICAgICAgICAgICBpZiAodG1wRmllbGRzKSB7XG4gICAgICAgICAgICAgICAgdWFGaWVsZHMubW9kZWwgPSB0bXBGaWVsZHMuc3BsaXQoJyBCdWlsZCcpWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdWFGaWVsZHMub3NWZXJzaW9uID0gZmllbGRzLnNwbGl0KCc7ICcpWzFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdWFGaWVsZHMubW9kZWwgPSBmaWVsZHMuc3BsaXQoJzsgJylbMF07XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLm9zY3B1KSB7XG4gICAgICAgICAgICAgICAgdWFGaWVsZHMub3NWZXJzaW9uID0gbmF2aWdhdG9yLm9zY3B1O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHVhLmluZGV4T2YoJ1dpbmRvd3MnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdWFGaWVsZHMub3NWZXJzaW9uID0gZmllbGRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG1wRmllbGRzID0gZmllbGRzLnNwbGl0KCc7ICcpLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG1wRmllbGRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0UGFydHMgPSB0bXBGaWVsZHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnIGxpa2UgTWFjIE9TIFgnLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVhRmllbGRzLm9zVmVyc2lvbiA9IGxhc3RQYXJ0c1tsYXN0UGFydHMubGVuZ3RoIC0gMV0ucmVwbGFjZSgvXy9nLCAnLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgvYW5kcm9pZC9pLnRlc3QodWEpKSB7XG4gICAgICAgICAgICB1YUZpZWxkcy5vcGVyYXRpbmdTeXN0ZW0gPSAnYW5kcm9pZCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoL2lQYWR8aVBob25lfGlQb2QvLnRlc3QodWEpICYmICF3aW5kb3cuTVNTdHJlYW0pIHtcbiAgICAgICAgICAgIHVhRmllbGRzLm9wZXJhdGluZ1N5c3RlbSA9ICdpb3MnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKC9XaW4vLnRlc3QodWEpKSB7XG4gICAgICAgICAgICB1YUZpZWxkcy5vcGVyYXRpbmdTeXN0ZW0gPSAnd2luZG93cyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoL01hYy9pLnRlc3QodWEpKSB7XG4gICAgICAgICAgICB1YUZpZWxkcy5vcGVyYXRpbmdTeXN0ZW0gPSAnbWFjJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVhRmllbGRzLm9wZXJhdGluZ1N5c3RlbSA9ICd1bmtub3duJztcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBmb3IgYnJvd3NlcnMgYmFzZWQgb24gbm9uLXN0YW5kYXJkIGphdmFzY3JpcHQgYXBpcywgb25seSBub3QgdXNlciBhZ2VudFxuICAgICAgICBjb25zdCBpc1NhZmFyaSA9ICEhd2luZG93LkFwcGxlUGF5U2Vzc2lvbjtcbiAgICAgICAgY29uc3QgaXNDaHJvbWUgPSAhIXdpbmRvdy5jaHJvbWU7XG4gICAgICAgIGNvbnN0IGlzRmlyZWZveCA9IC9GaXJlZm94Ly50ZXN0KHVhKTtcbiAgICAgICAgY29uc3QgaXNFZGdlID0gL0VkZy8udGVzdCh1YSk7XG4gICAgICAgIGNvbnN0IGlzRmlyZWZveElPUyA9IC9GeGlPUy8udGVzdCh1YSk7XG4gICAgICAgIGNvbnN0IGlzQ2hyb21lSU9TID0gL0NyaU9TLy50ZXN0KHVhKTtcbiAgICAgICAgY29uc3QgaXNFZGdlSU9TID0gL0VkZ2lPUy8udGVzdCh1YSk7XG4gICAgICAgIC8vIEZGIGFuZCBFZGdlIFVzZXIgQWdlbnRzIGJvdGggZW5kIHdpdGggXCIvTUFKT1IuTUlOT1JcIlxuICAgICAgICBpZiAoaXNTYWZhcmkgfHxcbiAgICAgICAgICAgIChpc0Nocm9tZSAmJiAhaXNFZGdlKSB8fFxuICAgICAgICAgICAgaXNGaXJlZm94SU9TIHx8XG4gICAgICAgICAgICBpc0Nocm9tZUlPUyB8fFxuICAgICAgICAgICAgaXNFZGdlSU9TKSB7XG4gICAgICAgICAgICAvLyBTYWZhcmkgdmVyc2lvbiBjb21lcyBhcyAgICAgXCIuLi4gVmVyc2lvbi9NQUpPUi5NSU5PUiAuLi5cIlxuICAgICAgICAgICAgLy8gQ2hyb21lIHZlcnNpb24gY29tZXMgYXMgICAgIFwiLi4uIENocm9tZS9NQUpPUi5NSU5PUiAuLi5cIlxuICAgICAgICAgICAgLy8gRmlyZWZveElPUyB2ZXJzaW9uIGNvbWVzIGFzIFwiLi4uIEZ4aU9TL01BSk9SLk1JTk9SIC4uLlwiXG4gICAgICAgICAgICAvLyBDaHJvbWVJT1MgdmVyc2lvbiBjb21lcyBhcyAgXCIuLi4gQ3JpT1MvTUFKT1IuTUlOT1IgLi4uXCJcbiAgICAgICAgICAgIGxldCBzZWFyY2hXb3JkO1xuICAgICAgICAgICAgaWYgKGlzRmlyZWZveElPUykge1xuICAgICAgICAgICAgICAgIHNlYXJjaFdvcmQgPSAnRnhpT1MnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNDaHJvbWVJT1MpIHtcbiAgICAgICAgICAgICAgICBzZWFyY2hXb3JkID0gJ0NyaU9TJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRWRnZUlPUykge1xuICAgICAgICAgICAgICAgIHNlYXJjaFdvcmQgPSAnRWRnaU9TJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzU2FmYXJpKSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoV29yZCA9ICdWZXJzaW9uJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlYXJjaFdvcmQgPSAnQ2hyb21lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHdvcmRzID0gdWEuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB3b3Jkcykge1xuICAgICAgICAgICAgICAgIGlmICh3b3JkLmluY2x1ZGVzKHNlYXJjaFdvcmQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSB3b3JkLnNwbGl0KCcvJylbMV07XG4gICAgICAgICAgICAgICAgICAgIHVhRmllbGRzLmJyb3dzZXJWZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNGaXJlZm94IHx8IGlzRWRnZSkge1xuICAgICAgICAgICAgY29uc3QgcmV2ZXJzZVVBID0gdWEuc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcbiAgICAgICAgICAgIGNvbnN0IHJldmVyc2VWZXJzaW9uID0gcmV2ZXJzZVVBLnNwbGl0KCcvJylbMF07XG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gcmV2ZXJzZVZlcnNpb24uc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcbiAgICAgICAgICAgIHVhRmllbGRzLmJyb3dzZXJWZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdWFGaWVsZHM7XG4gICAgfVxuICAgIGdldFVpZCgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICAgIGxldCB1aWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ19jYXB1aWQnKTtcbiAgICAgICAgICAgIGlmICh1aWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdWlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdWlkID0gdGhpcy51dWlkNCgpO1xuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdfY2FwdWlkJywgdWlkKTtcbiAgICAgICAgICAgIHJldHVybiB1aWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudXVpZDQoKTtcbiAgICB9XG4gICAgdXVpZDQoKSB7XG4gICAgICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICAgICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIldlYlBsdWdpbiIsIkRldmljZVdlYiIsImdldElkIiwiX3RoaXMiLCJfYXN5bmNUb0dlbmVyYXRvciIsImlkZW50aWZpZXIiLCJnZXRVaWQiLCJnZXRJbmZvIiwiX3RoaXMyIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidW5hdmFpbGFibGUiLCJ1YSIsInVhRmllbGRzIiwicGFyc2VVYSIsIm1vZGVsIiwicGxhdGZvcm0iLCJvcGVyYXRpbmdTeXN0ZW0iLCJvc1ZlcnNpb24iLCJtYW51ZmFjdHVyZXIiLCJ2ZW5kb3IiLCJpc1ZpcnR1YWwiLCJ3ZWJWaWV3VmVyc2lvbiIsImJyb3dzZXJWZXJzaW9uIiwiZ2V0QmF0dGVyeUluZm8iLCJfdGhpczMiLCJnZXRCYXR0ZXJ5IiwiYmF0dGVyeSIsImUiLCJiYXR0ZXJ5TGV2ZWwiLCJsZXZlbCIsImlzQ2hhcmdpbmciLCJjaGFyZ2luZyIsImdldExhbmd1YWdlQ29kZSIsInZhbHVlIiwibGFuZ3VhZ2UiLCJzcGxpdCIsInRvTG93ZXJDYXNlIiwiZ2V0TGFuZ3VhZ2VUYWciLCJzdGFydCIsImluZGV4T2YiLCJlbmQiLCJmaWVsZHMiLCJzdWJzdHJpbmciLCJ0bXBGaWVsZHMiLCJyZXBsYWNlIiwicG9wIiwib3NjcHUiLCJsYXN0UGFydHMiLCJsZW5ndGgiLCJ0ZXN0Iiwid2luZG93IiwiTVNTdHJlYW0iLCJpc1NhZmFyaSIsIkFwcGxlUGF5U2Vzc2lvbiIsImlzQ2hyb21lIiwiY2hyb21lIiwiaXNGaXJlZm94IiwiaXNFZGdlIiwiaXNGaXJlZm94SU9TIiwiaXNDaHJvbWVJT1MiLCJpc0VkZ2VJT1MiLCJzZWFyY2hXb3JkIiwid29yZHMiLCJ3b3JkIiwiaW5jbHVkZXMiLCJ2ZXJzaW9uIiwicmV2ZXJzZVVBIiwicmV2ZXJzZSIsImpvaW4iLCJyZXZlcnNlVmVyc2lvbiIsImxvY2FsU3RvcmFnZSIsInVpZCIsImdldEl0ZW0iLCJ1dWlkNCIsInNldEl0ZW0iLCJjIiwiciIsIk1hdGgiLCJyYW5kb20iLCJ2IiwidG9TdHJpbmciXSwic291cmNlUm9vdCI6IndlYnBhY2s6Ly8vIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzBdfQ==