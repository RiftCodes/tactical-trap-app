"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_index-40894f4b_js"],{

/***/ 3782:
/*!*************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/index-40894f4b.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   startTapClick: () => (/* binding */ startTapClick)
/* harmony export */ });
/* harmony import */ var _index_a5d50daf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-a5d50daf.js */ 6639);
/* harmony import */ var _helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helpers-78efeec3.js */ 9522);
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */


const startTapClick = config => {
  if (_index_a5d50daf_js__WEBPACK_IMPORTED_MODULE_0__.d === undefined) {
    return;
  }
  let lastActivated = 0;
  let activatableEle;
  let activeRipple;
  let activeDefer;
  const useRippleEffect = config.getBoolean('animated', true) && config.getBoolean('rippleEffect', true);
  const clearDefers = new WeakMap();
  const cancelActive = () => {
    if (activeDefer) clearTimeout(activeDefer);
    activeDefer = undefined;
    if (activatableEle) {
      removeActivated(false);
      activatableEle = undefined;
    }
  };
  const pointerDown = ev => {
    // Ignore right clicks
    if (activatableEle || ev.button === 2) {
      return;
    }
    setActivatedElement(getActivatableTarget(ev), ev);
  };
  const pointerUp = ev => {
    setActivatedElement(undefined, ev);
  };
  const setActivatedElement = (el, ev) => {
    // do nothing
    if (el && el === activatableEle) {
      return;
    }
    if (activeDefer) clearTimeout(activeDefer);
    activeDefer = undefined;
    const {
      x,
      y
    } = (0,_helpers_78efeec3_js__WEBPACK_IMPORTED_MODULE_1__.q)(ev);
    // deactivate selected
    if (activatableEle) {
      if (clearDefers.has(activatableEle)) {
        throw new Error('internal error');
      }
      if (!activatableEle.classList.contains(ACTIVATED)) {
        addActivated(activatableEle, x, y);
      }
      removeActivated(true);
    }
    // activate
    if (el) {
      const deferId = clearDefers.get(el);
      if (deferId) {
        clearTimeout(deferId);
        clearDefers.delete(el);
      }
      el.classList.remove(ACTIVATED);
      const callback = () => {
        addActivated(el, x, y);
        activeDefer = undefined;
      };
      if (isInstant(el)) {
        callback();
      } else {
        activeDefer = setTimeout(callback, ADD_ACTIVATED_DEFERS);
      }
    }
    activatableEle = el;
  };
  const addActivated = (el, x, y) => {
    lastActivated = Date.now();
    el.classList.add(ACTIVATED);
    if (!useRippleEffect) return;
    const rippleEffect = getRippleEffect(el);
    if (rippleEffect !== null) {
      removeRipple();
      activeRipple = rippleEffect.addRipple(x, y);
    }
  };
  const removeRipple = () => {
    if (activeRipple !== undefined) {
      activeRipple.then(remove => remove());
      activeRipple = undefined;
    }
  };
  const removeActivated = smooth => {
    removeRipple();
    const active = activatableEle;
    if (!active) {
      return;
    }
    const time = CLEAR_STATE_DEFERS - Date.now() + lastActivated;
    if (smooth && time > 0 && !isInstant(active)) {
      const deferId = setTimeout(() => {
        active.classList.remove(ACTIVATED);
        clearDefers.delete(active);
      }, CLEAR_STATE_DEFERS);
      clearDefers.set(active, deferId);
    } else {
      active.classList.remove(ACTIVATED);
    }
  };
  _index_a5d50daf_js__WEBPACK_IMPORTED_MODULE_0__.d.addEventListener('ionGestureCaptured', cancelActive);
  _index_a5d50daf_js__WEBPACK_IMPORTED_MODULE_0__.d.addEventListener('pointerdown', pointerDown, true);
  _index_a5d50daf_js__WEBPACK_IMPORTED_MODULE_0__.d.addEventListener('pointerup', pointerUp, true);
  /**
   * Tap click effects such as the ripple effect should
   * not happen when scrolling. For example, if a user scrolls
   * the page but also happens to do a touchstart on a button
   * as part of the scroll, the ripple effect should not
   * be dispatched. The ripple effect should only happen
   * if the button is activated and the page is not scrolling.
   *
   * pointercancel is dispatched on a gesture when scrolling
   * starts, so this lets us avoid having to listen for
   * ion-content's scroll events.
   */
  _index_a5d50daf_js__WEBPACK_IMPORTED_MODULE_0__.d.addEventListener('pointercancel', cancelActive, true);
};
// TODO(FW-2832): type
const getActivatableTarget = ev => {
  if (ev.composedPath !== undefined) {
    /**
     * composedPath returns EventTarget[]. However,
     * objects other than Element can be targets too.
     * For example, AudioContext can be a target. In this
     * case, we know that the event is a UIEvent so we
     * can assume that the path will contain either Element
     * or ShadowRoot.
     */
    const path = ev.composedPath();
    for (let i = 0; i < path.length - 2; i++) {
      const el = path[i];
      if (!(el instanceof ShadowRoot) && el.classList.contains('ion-activatable')) {
        return el;
      }
    }
  } else {
    return ev.target.closest('.ion-activatable');
  }
};
const isInstant = el => {
  return el.classList.contains('ion-activatable-instant');
};
const getRippleEffect = el => {
  if (el.shadowRoot) {
    const ripple = el.shadowRoot.querySelector('ion-ripple-effect');
    if (ripple) {
      return ripple;
    }
  }
  return el.querySelector('ion-ripple-effect');
};
const ACTIVATED = 'ion-activated';
const ADD_ACTIVATED_DEFERS = 100;
const CLEAR_STATE_DEFERS = 150;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW5kZXgtNDA4OTRmNGJfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQytDO0FBQ1c7QUFFMUQsTUFBTUksYUFBYSxHQUFJQyxNQUFNLElBQUs7RUFDOUIsSUFBSUosaURBQUcsS0FBS0ssU0FBUyxFQUFFO0lBQ25CO0VBQ0o7RUFDQSxJQUFJQyxhQUFhLEdBQUcsQ0FBQztFQUNyQixJQUFJQyxjQUFjO0VBQ2xCLElBQUlDLFlBQVk7RUFDaEIsSUFBSUMsV0FBVztFQUNmLE1BQU1DLGVBQWUsR0FBR04sTUFBTSxDQUFDTyxVQUFVLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxJQUFJUCxNQUFNLENBQUNPLFVBQVUsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDO0VBQ3RHLE1BQU1DLFdBQVcsR0FBRyxJQUFJQyxPQUFPLENBQUMsQ0FBQztFQUNqQyxNQUFNQyxZQUFZLEdBQUdBLENBQUEsS0FBTTtJQUN2QixJQUFJTCxXQUFXLEVBQ1hNLFlBQVksQ0FBQ04sV0FBVyxDQUFDO0lBQzdCQSxXQUFXLEdBQUdKLFNBQVM7SUFDdkIsSUFBSUUsY0FBYyxFQUFFO01BQ2hCUyxlQUFlLENBQUMsS0FBSyxDQUFDO01BQ3RCVCxjQUFjLEdBQUdGLFNBQVM7SUFDOUI7RUFDSixDQUFDO0VBQ0QsTUFBTVksV0FBVyxHQUFJQyxFQUFFLElBQUs7SUFDeEI7SUFDQSxJQUFJWCxjQUFjLElBQUlXLEVBQUUsQ0FBQ0MsTUFBTSxLQUFLLENBQUMsRUFBRTtNQUNuQztJQUNKO0lBQ0FDLG1CQUFtQixDQUFDQyxvQkFBb0IsQ0FBQ0gsRUFBRSxDQUFDLEVBQUVBLEVBQUUsQ0FBQztFQUNyRCxDQUFDO0VBQ0QsTUFBTUksU0FBUyxHQUFJSixFQUFFLElBQUs7SUFDdEJFLG1CQUFtQixDQUFDZixTQUFTLEVBQUVhLEVBQUUsQ0FBQztFQUN0QyxDQUFDO0VBQ0QsTUFBTUUsbUJBQW1CLEdB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QUVELENBQUMsRUFBRSxFQUFFO01BQ3RDLE1BQU1qQyxFQUFFLEdBQUdnQyxJQUFJLENBQUNDLENBQUMsQ0FBQztNQUNsQixJQUFJLEVBQUVqQyxFQUFFLFlBQVltQyxVQUFVLENBQUMsSUFBSW5DLEVBQUUsQ0FBQ0ssU0FBUyxDQUFDQyxRQUFRLENBQUMsaUJBQWlCLENBQUMsRUFBRTtRQUN6RSxPQUFPTixFQUFFO01BQ2I7SUFDSjtFQUNKLENBQUMsTUFDSTtJQUNELE9BQU9MLEVBQUUsQ0FBQ3lDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDLGtCQUFrQixDQUFDO0VBQ2hEO0FBQ0osQ0FBQztBQUNELE1BQU12QixTQUFTLEdBQUlkLEVBQUUsSUFBSztFQUN0QixPQUFPQSxFQUFFLENBQUNLLFNBQVMsQ0FBQ0MsUUFBUSxDQUFDLHlCQUF5QixDQUFDO0FBQzNELENBQUM7QUFDRCxNQUFNZSxlQUFlLEdBQUlyQixFQUFFLElBQUs7RUFDNUIsSUFBSUEsRUFBRSxDQUFDc0MsVUFBVSxFQUFFO0lBQ2YsTUFBTUMsTUFBTSxHQUFHdkMsRUFBRSxDQUFDc0MsVUFBVSxDQUFDRSxhQUFhLENBQUMsbUJBQW1CLENBQUM7SUFDL0QsSUFBSUQsTUFBTSxFQUFFO01BQ1IsT0FBT0EsTUFBTTtJQUNqQjtFQUNKO0VBQ0EsT0FBT3ZDLEVBQUUsQ0FBQ3dDLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQztBQUNoRCxDQUFDO0FBQ0QsTUFBTWpDLFNBQVMsR0FBRyxlQUFlO0FBQ2pDLE1BQU1TLG9CQUFvQixHQUFHLEdBQUc7QUFDaEMsTUFBTVksa0JBQWtCLEdBQUcsR0FBRyIsInNvdXJjZXMiOlsiLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW5kZXgtNDA4OTRmNGIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IGQgYXMgZG9jIH0gZnJvbSAnLi9pbmRleC1hNWQ1MGRhZi5qcyc7XG5pbXBvcnQgeyBxIGFzIHBvaW50ZXJDb29yZCB9IGZyb20gJy4vaGVscGVycy03OGVmZWVjMy5qcyc7XG5cbmNvbnN0IHN0YXJ0VGFwQ2xpY2sgPSAoY29uZmlnKSA9PiB7XG4gICAgaWYgKGRvYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGxhc3RBY3RpdmF0ZWQgPSAwO1xuICAgIGxldCBhY3RpdmF0YWJsZUVsZTtcbiAgICBsZXQgYWN0aXZlUmlwcGxlO1xuICAgIGxldCBhY3RpdmVEZWZlcjtcbiAgICBjb25zdCB1c2VSaXBwbGVFZmZlY3QgPSBjb25maWcuZ2V0Qm9vbGVhbignYW5pbWF0ZWQnLCB0cnVlKSAmJiBjb25maWcuZ2V0Qm9vbGVhbigncmlwcGxlRWZmZWN0JywgdHJ1ZSk7XG4gICAgY29uc3QgY2xlYXJEZWZlcnMgPSBuZXcgV2Vha01hcCgpO1xuICAgIGNvbnN0IGNhbmNlbEFjdGl2ZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZURlZmVyKVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGFjdGl2ZURlZmVyKTtcbiAgICAgICAgYWN0aXZlRGVmZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChhY3RpdmF0YWJsZUVsZSkge1xuICAgICAgICAgICAgcmVtb3ZlQWN0aXZhdGVkKGZhbHNlKTtcbiAgICAgICAgICAgIGFjdGl2YXRhYmxlRWxlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwb2ludGVyRG93biA9IChldikgPT4ge1xuICAgICAgICAvLyBJZ25vcmUgcmlnaHQgY2xpY2tzXG4gICAgICAgIGlmIChhY3RpdmF0YWJsZUVsZSB8fCBldi5idXR0b24gPT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRBY3RpdmF0ZWRFbGVtZW50KGdldEFjdGl2YXRhYmxlVGFyZ2V0KGV2KSwgZXYpO1xuICAgIH07XG4gICAgY29uc3QgcG9pbnRlclVwID0gKGV2KSA9PiB7XG4gICAgICAgIHNldEFjdGl2YXRlZEVsZW1lbnQodW5kZWZpbmVkLCBldik7XG4gICAgfTtcbiAgICBjb25zdCBzZXRBY3RpdmF0ZWRFbGVtZW50ID0gKGVsLCBldikgPT4ge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICAgIGlmIChlbCAmJiBlbCA9PT0gYWN0aXZhdGFibGVFbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aXZlRGVmZXIpXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoYWN0aXZlRGVmZXIpO1xuICAgICAgICBhY3RpdmVEZWZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBwb2ludGVyQ29vcmQoZXYpO1xuICAgICAgICAvLyBkZWFjdGl2YXRlIHNlbGVjdGVkXG4gICAgICAgIGlmIChhY3RpdmF0YWJsZUVsZSkge1xuICAgICAgICAgICAgaWYgKGNsZWFyRGVmZXJzLmhhcyhhY3RpdmF0YWJsZUVsZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludGVybmFsIGVycm9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWFjdGl2YXRhYmxlRWxlLmNsYXNzTGlzdC5jb250YWlucyhBQ1RJVkFURUQpKSB7XG4gICAgICAgICAgICAgICAgYWRkQWN0aXZhdGVkKGFjdGl2YXRhYmxlRWxlLCB4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbW92ZUFjdGl2YXRlZCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhY3RpdmF0ZVxuICAgICAgICBpZiAoZWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmVySWQgPSBjbGVhckRlZmVycy5nZXQoZWwpO1xuICAgICAgICAgICAgaWYgKGRlZmVySWQpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoZGVmZXJJZCk7XG4gICAgICAgICAgICAgICAgY2xlYXJEZWZlcnMuZGVsZXRlKGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoQUNUSVZBVEVEKTtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFkZEFjdGl2YXRlZChlbCwgeCwgeSk7XG4gICAgICAgICAgICAgICAgYWN0aXZlRGVmZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGlzSW5zdGFudChlbCkpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlRGVmZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCBBRERfQUNUSVZBVEVEX0RFRkVSUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZhdGFibGVFbGUgPSBlbDtcbiAgICB9O1xuICAgIGNvbnN0IGFkZEFjdGl2YXRlZCA9IChlbCwgeCwgeSkgPT4ge1xuICAgICAgICBsYXN0QWN0aXZhdGVkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChBQ1RJVkFURUQpO1xuICAgICAgICBpZiAoIXVzZVJpcHBsZUVmZmVjdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgcmlwcGxlRWZmZWN0ID0gZ2V0UmlwcGxlRWZmZWN0KGVsKTtcbiAgICAgICAgaWYgKHJpcHBsZUVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVtb3ZlUmlwcGxlKCk7XG4gICAgICAgICAgICBhY3RpdmVSaXBwbGUgPSByaXBwbGVFZmZlY3QuYWRkUmlwcGxlKHgsIHkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVSaXBwbGUgPSAoKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmVSaXBwbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYWN0aXZlUmlwcGxlLnRoZW4oKHJlbW92ZSkgPT4gcmVtb3ZlKCkpO1xuICAgICAgICAgICAgYWN0aXZlUmlwcGxlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVBY3RpdmF0ZWQgPSAoc21vb3RoKSA9PiB7XG4gICAgICAgIHJlbW92ZVJpcHBsZSgpO1xuICAgICAgICBjb25zdCBhY3RpdmUgPSBhY3RpdmF0YWJsZUVsZTtcbiAgICAgICAgaWYgKCFhY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0aW1lID0gQ0xFQVJfU1RBVEVfREVGRVJTIC0gRGF0ZS5ub3coKSArIGxhc3RBY3RpdmF0ZWQ7XG4gICAgICAgIGlmIChzbW9vdGggJiYgdGltZSA+IDAgJiYgIWlzSW5zdGFudChhY3RpdmUpKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZlcklkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgYWN0aXZlLmNsYXNzTGlzdC5yZW1vdmUoQUNUSVZBVEVEKTtcbiAgICAgICAgICAgICAgICBjbGVhckRlZmVycy5kZWxldGUoYWN0aXZlKTtcbiAgICAgICAgICAgIH0sIENMRUFSX1NUQVRFX0RFRkVSUyk7XG4gICAgICAgICAgICBjbGVhckRlZmVycy5zZXQoYWN0aXZlLCBkZWZlcklkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZS5jbGFzc0xpc3QucmVtb3ZlKEFDVElWQVRFRCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdpb25HZXN0dXJlQ2FwdHVyZWQnLCBjYW5jZWxBY3RpdmUpO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgcG9pbnRlclVwLCB0cnVlKTtcbiAgICAvKipcbiAgICAgKiBUYXAgY2xpY2sgZWZmZWN0cyBzdWNoIGFzIHRoZSByaXBwbGUgZWZmZWN0IHNob3VsZFxuICAgICAqIG5vdCBoYXBwZW4gd2hlbiBzY3JvbGxpbmcuIEZvciBleGFtcGxlLCBpZiBhIHVzZXIgc2Nyb2xsc1xuICAgICAqIHRoZSBwYWdlIGJ1dCBhbHNvIGhhcHBlbnMgdG8gZG8gYSB0b3VjaHN0YXJ0IG9uIGEgYnV0dG9uXG4gICAgICogYXMgcGFydCBvZiB0aGUgc2Nyb2xsLCB0aGUgcmlwcGxlIGVmZmVjdCBzaG91bGQgbm90XG4gICAgICogYmUgZGlzcGF0Y2hlZC4gVGhlIHJpcHBsZSBlZmZlY3Qgc2hvdWxkIG9ubHkgaGFwcGVuXG4gICAgICogaWYgdGhlIGJ1dHRvbiBpcyBhY3RpdmF0ZWQgYW5kIHRoZSBwYWdlIGlzIG5vdCBzY3JvbGxpbmcuXG4gICAgICpcbiAgICAgKiBwb2ludGVyY2FuY2VsIGlzIGRpc3BhdGNoZWQgb24gYSBnZXN0dXJlIHdoZW4gc2Nyb2xsaW5nXG4gICAgICogc3RhcnRzLCBzbyB0aGlzIGxldHMgdXMgYXZvaWQgaGF2aW5nIHRvIGxpc3RlbiBmb3JcbiAgICAgKiBpb24tY29udGVudCdzIHNjcm9sbCBldmVudHMuXG4gICAgICovXG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCBjYW5jZWxBY3RpdmUsIHRydWUpO1xufTtcbi8vIFRPRE8oRlctMjgzMik6IHR5cGVcbmNvbnN0IGdldEFjdGl2YXRhYmxlVGFyZ2V0ID0gKGV2KSA9PiB7XG4gICAgaWYgKGV2LmNvbXBvc2VkUGF0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjb21wb3NlZFBhdGggcmV0dXJucyBFdmVudFRhcmdldFtdLiBIb3dldmVyLFxuICAgICAgICAgKiBvYmplY3RzIG90aGVyIHRoYW4gRWxlbWVudCBjYW4gYmUgdGFyZ2V0cyB0b28uXG4gICAgICAgICAqIEZvciBleGFtcGxlLCBBdWRpb0NvbnRleHQgY2FuIGJlIGEgdGFyZ2V0LiBJbiB0aGlzXG4gICAgICAgICAqIGNhc2UsIHdlIGtub3cgdGhhdCB0aGUgZXZlbnQgaXMgYSBVSUV2ZW50IHNvIHdlXG4gICAgICAgICAqIGNhbiBhc3N1bWUgdGhhdCB0aGUgcGF0aCB3aWxsIGNvbnRhaW4gZWl0aGVyIEVsZW1lbnRcbiAgICAgICAgICogb3IgU2hhZG93Um9vdC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHBhdGggPSBldi5jb21wb3NlZFBhdGgoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aCAtIDI7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWwgPSBwYXRoW2ldO1xuICAgICAgICAgICAgaWYgKCEoZWwgaW5zdGFuY2VvZiBTaGFkb3dSb290KSAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2lvbi1hY3RpdmF0YWJsZScpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZXYudGFyZ2V0LmNsb3Nlc3QoJy5pb24tYWN0aXZhdGFibGUnKTtcbiAgICB9XG59O1xuY29uc3QgaXNJbnN0YW50ID0gKGVsKSA9PiB7XG4gICAgcmV0dXJuIGVsLmNsYXNzTGlzdC5jb250YWlucygnaW9uLWFjdGl2YXRhYmxlLWluc3RhbnQnKTtcbn07XG5jb25zdCBnZXRSaXBwbGVFZmZlY3QgPSAoZWwpID0+IHtcbiAgICBpZiAoZWwuc2hhZG93Um9vdCkge1xuICAgICAgICBjb25zdCByaXBwbGUgPSBlbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1yaXBwbGUtZWZmZWN0Jyk7XG4gICAgICAgIGlmIChyaXBwbGUpIHtcbiAgICAgICAgICAgIHJldHVybiByaXBwbGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1yaXBwbGUtZWZmZWN0Jyk7XG59O1xuY29uc3QgQUNUSVZBVEVEID0gJ2lvbi1hY3RpdmF0ZWQnO1xuY29uc3QgQUREX0FDVElWQVRFRF9ERUZFUlMgPSAxMDA7XG5jb25zdCBDTEVBUl9TVEFURV9ERUZFUlMgPSAxNTA7XG5cbmV4cG9ydCB7IHN0YXJ0VGFwQ2xpY2sgfTtcbiJdLCJuYW1lcyI6WyJkIiwiZG9jIiwicSIsInBvaW50ZXJDb29yZCIsInN0YXJ0VGFwQ2xpY2siLCJjb25maWciLCJ1bmRlZmluZWQiLCJsYXN0QWN0aXZhdGVkIiwiYWN0aXZhdGFibGVFbGUiLCJhY3RpdmVSaXBwbGUiLCJhY3RpdmVEZWZlciIsInVzZVJpcHBsZUVmZmVjdCIsImdldEJvb2xlYW4iLCJjbGVhckRlZmVycyIsIldlYWtNYXAiLCJjYW5jZWxBY3RpdmUiLCJjbGVhclRpbWVvdXQiLCJyZW1vdmVBY3RpdmF0ZWQiLCJwb2ludGVyRG93biIsImV2IiwiYnV0dG9uIiwic2V0QWN0aXZhdGVkRWxlbWVudCIsImdldEFjdGl2YXRhYmxlVGFyZ2V0IiwicG9pbnRlclVwIiwiZWwiLCJ4IiwieSIsImhhcyIsIkVycm9yIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJBQ1RJVkFURUQiLCJhZGRBY3RpdmF0ZWQiLCJkZWZlcklkIiwiZ2V0IiwiZGVsZXRlIiwicmVtb3ZlIiwiY2FsbGJhY2siLCJpc0luc3RhbnQiLCJzZXRUaW1lb3V0IiwiQUREX0FDVElWQVRFRF9ERUZFUlMiLCJEYXRlIiwibm93IiwiYWRkIiwicmlwcGxlRWZmZWN0IiwiZ2V0UmlwcGxlRWZmZWN0IiwicmVtb3ZlUmlwcGxlIiwiYWRkUmlwcGxlIiwidGhlbiIsInNtb290aCIsImFjdGl2ZSIsInRpbWUiLCJDTEVBUl9TVEFURV9ERUZFUlMiLCJzZXQiLCJhZGRFdmVudExpc3RlbmVyIiwiY29tcG9zZWRQYXRoIiwicGF0aCIsImkiLCJsZW5ndGgiLCJTaGFkb3dSb290IiwidGFyZ2V0IiwiY2xvc2VzdCIsInNoYWRvd1Jvb3QiLCJyaXBwbGUiLCJxdWVyeVNlbGVjdG9yIl0sInNvdXJjZVJvb3QiOiJ3ZWJwYWNrOi8vLyIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswXX0=