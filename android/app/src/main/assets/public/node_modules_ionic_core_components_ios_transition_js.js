"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_components_ios_transition_js"],{

/***/ 9528:
/*!***************************************************************!*\
  !*** ./node_modules/@ionic/core/components/ios.transition.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   iosTransitionAnimation: () => (/* binding */ iosTransitionAnimation),
/* harmony export */   shadow: () => (/* binding */ shadow)
/* harmony export */ });
/* harmony import */ var _animation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./animation.js */ 318);
/* harmony import */ var _index2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index2.js */ 3112);
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */


const DURATION = 540;
// TODO(FW-2832): types
const getClonedElement = tagName => {
  return document.querySelector(`${tagName}.ion-cloned-element`);
};
const shadow = el => {
  return el.shadowRoot || el;
};
const getLargeTitle = refEl => {
  const tabs = refEl.tagName === 'ION-TABS' ? refEl : refEl.querySelector('ion-tabs');
  const query = 'ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large';
  if (tabs != null) {
    const activeTab = tabs.querySelector('ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)');
    return activeTab != null ? activeTab.querySelector(query) : null;
  }
  return refEl.querySelector(query);
};
const getBackButton = (refEl, backDirection) => {
  const tabs = refEl.tagName === 'ION-TABS' ? refEl : refEl.querySelector('ion-tabs');
  let buttonsList = [];
  if (tabs != null) {
    const activeTab = tabs.querySelector('ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)');
    if (activeTab != null) {
      buttonsList = activeTab.querySelectorAll('ion-buttons');
    }
  } else {
    buttonsList = refEl.querySelectorAll('ion-buttons');
  }
  for (const buttons of buttonsList) {
    const parentHeader = buttons.closest('ion-header');
    const activeHeader = parentHeader && !parentHeader.classList.contains('header-collapse-condense-inactive');
    const backButton = buttons.querySelector('ion-back-button');
    const buttonsCollapse = buttons.classList.contains('buttons-collapse');
    const startSlot = buttons.slot === 'start' || buttons.slot === '';
    if (backButton !== null && startSlot && (buttonsCollapse && activeHeader && backDirection || !buttonsCollapse)) {
      return backButton;
    }
  }
  return null;
};
const createLargeTitleTransition = (rootAnimation, rtl, backDirection, enteringEl, leavingEl) => {
  const enteringBackButton = getBackButton(enteringEl, backDirection);
  const leavingLargeTitle = getLargeTitle(leavingEl);
  const enteringLargeTitle = getLargeTitle(enteringEl);
  const leavingBackButton = getBackButton(leavingEl, backDirection);
  const shouldAnimationForward = enteringBackButton !== null && leavingLargeTitle !== null && !backDirection;
  const shouldAnimationBackward = enteringLargeTitle !== null && leavingBackButton !== null && backDirection;
  if (shouldAnimationForward) {
    const leavingLargeTitleBox = leavingLargeTitle.getBoundingClientRect();
    const enteringBackButtonBox = enteringBackButton.getBoundingClientRect();
    const enteringBackButtonTextEl = shadow(enteringBackButton).querySelector('.button-text');
    // Text element not rendered if developers pass text="" to the back button
    const enteringBackButtonTextBox = enteringBackButtonTextEl === null || enteringBackButtonTextEl === void 0 ? void 0 : enteringBackButtonTextEl.getBoundingClientRect();
    const leavingLargeTitleTextEl = shadow(leavingLargeTitle).querySelector('.toolbar-title');
    const leavingLargeTitleTextBox = leavingLargeTitleTextEl.getBoundingClientRect();
    animateLargeTitle(rootAnimation, rtl, backDirection, leavingLargeTitle, leavingLargeTitleBox, leavingLargeTitleTextBox, enteringBackButtonBox, enteringBackButtonTextEl, enteringBackButtonTextBox);
    animateBackButton(rootAnimation, rtl, backDirection, enteringBackButton, enteringBackButtonBox, enteringBackButtonTextEl, enteringBackButtonTextBox, leavingLargeTitle, leavingLargeTitleTextBox);
  } else if (shouldAnimationBackward) {
    const enteringLargeTitleBox = enteringLargeTitle.getBoundingClientRect();
    const leavingBackButtonBox = leavingBackButton.getBoundingClientRect();
    const leavingBackButtonTextEl = shadow(leavingBackButton).querySelector('.button-text');
    // Text element not rendered if developers pass text="" to the back button
    const leavingBackButtonTextBox = leavingBackButtonTextEl === null || leavingBackButtonTextEl === void 0 ? void 0 : leavingBackButtonTextEl.getBoundingClientRect();
    const enteringLargeTitleTextEl = shadow(enteringLargeTitle).querySelector('.toolbar-title');
    const enteringLargeTitleTextBox = enteringLargeTitleTextEl.getBoundingClientRect();
    animateLargeTitle(rootAnimation, rtl, backDirection, enteringLargeTitle, enteringLargeTitleBox, enteringLargeTitleTextBox, leavingBackButtonBox, leavingBackButtonTextEl, leavingBackButtonTextBox);
    animateBackButton(rootAnimation, rtl, backDirection, leavingBackButton, leavingBackButtonBox, leavingBackButtonTextEl, leavingBackButtonTextBox, enteringLargeTitle, enteringLargeTitleTextBox);
  }
  return {
    forward: shouldAnimationForward,
    backward: shouldAnimationBackward
  };
};
const animateBackButton = (rootAnimation, rtl, backDirection, backButtonEl, backButtonBox, backButtonTextEl, backButtonTextBox, largeTitleEl, largeTitleTextBox) => {
  var _a, _b;
  const BACK_BUTTON_START_OFFSET = rtl ? `calc(100% - ${backButtonBox.right + 4}px)` : `${backButtonBox.left - 4}px`;
  const TEXT_ORIGIN_X = rtl ? 'right' : 'left';
  const ICON_ORIGIN_X = rtl ? 'left' : 'right';
  const CONTAINER_ORIGIN_X = rtl ? 'right' : 'left';
  let WIDTH_SCALE = 1;
  let HEIGHT_SCALE = 1;
  let TEXT_START_SCALE = `scale(${HEIGHT_SCALE})`;
  const TEXT_END_SCALE = 'scale(1)';
  if (backButtonTextEl && backButtonTextBox) {
    /**
     * When the title and back button texts match then they should overlap during the
     * page transition. If the texts do not match up then the back button text scale
     * adjusts to not perfectly match the large title text otherwise the proportions
     * will be incorrect. When the texts match we scale both the width and height to
     * account for font weight differences between the title and back button.
     */
    const doTitleAndButtonTextsMatch = ((_a = backButtonTextEl.textContent) === null || _a === void 0 ? void 0 : _a.trim()) === ((_b = largeTitleEl.textContent) === null || _b === void 0 ? void 0 : _b.trim());
    WIDTH_SCALE = largeTitleTextBox.width / backButtonTextBox.width;
    /**
     * Subtract an offset to account for slight sizing/padding differences between the
     * title and the back button.
     */
    HEIGHT_SCALE = (largeTitleTextBox.height - LARGE_TITLE_SIZE_OFFSET) / backButtonTextBox.height;
    /**
     * Even though we set TEXT_START_SCALE to HEIGHT_SCALE above, we potentially need
     * to re-compute this here since the HEIGHT_SCALE may have changed.
     */
    TEXT_START_SCALE = doTitleAndButtonTextsMatch ? `scale(${WIDTH_SCALE}, ${HEIGHT_SCALE})` : `scale(${HEIGHT_SCALE})`;
  }
  const backButtonIconEl = shadow(backButtonEl).querySelector('ion-icon');
  const backButtonIconBox = backButtonIconEl.getBoundingClientRect();
  /**
   * We need to offset the container by the icon dimensions
   * so that the back button text aligns with the large title
   * text. Otherwise, the back button icon will align with the
   * large title text but the back button text will not.
   */
  const CONTAINER_START_TRANSLATE_X = rtl ? `${backButtonIconBox.width / 2 - (backButtonIconBox.right - backButtonBox.right)}px` : `${backButtonBox.left - backButtonIconBox.width / 2}px`;
  const CONTAINER_END_TRANSLATE_X = rtl ? `-${window.innerWidth - backButtonBox.right}px` : `${backButtonBox.left}px`;
  /**
   * Back button container should be
   * aligned to the top of the title container
   * so the texts overlap as the back button
   * text begins to fade in.
   */
  const CONTAINER_START_TRANSLATE_Y = `${largeTitleTextBox.top}px`;
  /**
   * The cloned back button should align exactly with the
   * real back button on the entering page otherwise there will
   * be a layout shift.
   */
  const CONTAINER_END_TRANSLATE_Y = `${backButtonBox.top}px`;
  /**
   * In the forward direction, the cloned back button
   * container should translate from over the large title
   * to over the back button. In the backward direction,
   * it should translate from over the back button to over
   * the large title.
   */
  const FORWARD_CONTAINER_KEYFRAMES = [{
    offset: 0,
    transform: `translate3d(${CONTAINER_START_TRANSLATE_X}, ${CONTAINER_START_TRANSLATE_Y}, 0)`
  }, {
    offset: 1,
    transform: `translate3d(${CONTAINER_END_TRANSLATE_X}, ${CONTAINER_END_TRANSLATE_Y}, 0)`
  }];
  const BACKWARD_CONTAINER_KEYFRAMES = [{
    offset: 0,
    transform: `translate3d(${CONTAINER_END_TRANSLATE_X}, ${CONTAINER_END_TRANSLATE_Y}, 0)`
  }, {
    offset: 1,
    transform: `translate3d(${CONTAINER_START_TRANSLATE_X}, ${CONTAINER_START_TRANSLATE_Y}, 0)`
  }];
  const CONTAINER_KEYFRAMES = backDirection ? BACKWARD_CONTAINER_KEYFRAMES : FORWARD_CONTAINER_KEYFRAMES;
  /**
   * In the forward direction, the text in the cloned back button
   * should start to be (roughly) the size of the large title
   * and then scale down to be the size of the actual back button.
   * The text should also translate, but that translate is handled
   * by the container keyframes.
   */
  const FORWARD_TEXT_KEYFRAMES = [{
    offset: 0,
    opacity: 0,
    transform: TEXT_START_SCALE
  }, {
    offset: 1,
    opacity: 1,
    transform: TEXT_END_SCALE
  }];
  const BACKWARD_TEXT_KEYFRAMES = [{
    offset: 0,
    opacity: 1,
    transform: TEXT_END_SCALE
  }, {
    offset: 1,
    opacity: 0,
    transform: TEXT_START_SCALE
  }];
  const TEXT_KEYFRAMES = backDirection ? BACKWARD_TEXT_KEYFRAMES : FORWARD_TEXT_KEYFRAMES;
  /**
   * The icon should scale in/out in the second
   * half of the animation. The icon should also
   * translate, but that translate is handled by the
   * container keyframes.
   */
  const FORWARD_ICON_KEYFRAMES = [{
    offset: 0,
    opacity: 0,
    transform: 'scale(0.6)'
  }, {
    offset: 0.6,
    opacity: 0,
    transform: 'scale(0.6)'
  }, {
    offset: 1,
    opacity: 1,
    transform: 'scale(1)'
  }];
  const BACKWARD_ICON_KEYFRAMES = [{
    offset: 0,
    opacity: 1,
    transform: 'scale(1)'
  }, {
    offset: 0.2,
    opacity: 0,
    transform: 'scale(0.6)'
  }, {
    offset: 1,
    opacity: 0,
    transform: 'scale(0.6)'
  }];
  const ICON_KEYFRAMES = backDirection ? BACKWARD_ICON_KEYFRAMES : FORWARD_ICON_KEYFRAMES;
  const enteringBackButtonTextAnimation = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
  const enteringBackButtonIconAnimation = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
  const enteringBackButtonAnimation = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
  const clonedBackButtonEl = getClonedElement('ion-back-button');
  const clonedBackButtonTextEl = shadow(clonedBackButtonEl).querySelector('.button-text');
  const clonedBackButtonIconEl = shadow(clonedBackButtonEl).querySelector('ion-icon');
  clonedBackButtonEl.text = backButtonEl.text;
  clonedBackButtonEl.mode = backButtonEl.mode;
  clonedBackButtonEl.icon = backButtonEl.icon;
  clonedBackButtonEl.color = backButtonEl.color;
  clonedBackButtonEl.disabled = backButtonEl.disabled;
  clonedBackButtonEl.style.setProperty('display', 'block');
  clonedBackButtonEl.style.setProperty('position', 'fixed');
  enteringBackButtonIconAnimation.addElement(clonedBackButtonIconEl);
  enteringBackButtonTextAnimation.addElement(clonedBackButtonTextEl);
  enteringBackButtonAnimation.addElement(clonedBackButtonEl);
  enteringBackButtonAnimation.beforeStyles({
    position: 'absolute',
    top: '0px',
    [CONTAINER_ORIGIN_X]: '0px'
  })
  /**
   * The write hooks must be set on this animation as it is guaranteed to run. Other
   * animations such as the back button text animation will not run if the back button
   * has no visible text.
   */.beforeAddWrite(() => {
    backButtonEl.style.setProperty('display', 'none');
    clonedBackButtonEl.style.setProperty(TEXT_ORIGIN_X, BACK_BUTTON_START_OFFSET);
  }).afterAddWrite(() => {
    backButtonEl.style.setProperty('display', '');
    clonedBackButtonEl.style.setProperty('display', 'none');
    clonedBackButtonEl.style.removeProperty(TEXT_ORIGIN_X);
  }).keyframes(CONTAINER_KEYFRAMES);
  enteringBackButtonTextAnimation.beforeStyles({
    'transform-origin': `${TEXT_ORIGIN_X} top`
  }).keyframes(TEXT_KEYFRAMES);
  enteringBackButtonIconAnimation.beforeStyles({
    'transform-origin': `${ICON_ORIGIN_X} center`
  }).keyframes(ICON_KEYFRAMES);
  rootAnimation.addAnimation([enteringBackButtonTextAnimation, enteringBackButtonIconAnimation, enteringBackButtonAnimation]);
};
const animateLargeTitle = (rootAnimation, rtl, backDirection, largeTitleEl, largeTitleBox, largeTitleTextBox, backButtonBox, backButtonTextEl, backButtonTextBox) => {
  var _a, _b;
  /**
   * The horizontal transform origin for the large title
   */
  const ORIGIN_X = rtl ? 'right' : 'left';
  const TITLE_START_OFFSET = rtl ? `calc(100% - ${largeTitleBox.right}px)` : `${largeTitleBox.left}px`;
  /**
   * The cloned large should align exactly with the
   * real large title on the leaving page otherwise there will
   * be a layout shift.
   */
  const START_TRANSLATE_X = '0px';
  const START_TRANSLATE_Y = `${largeTitleBox.top}px`;
  /**
   * How much to offset the large title translation by.
   * This accounts for differences in sizing between the large
   * title and the back button due to padding and font weight.
   */
  const LARGE_TITLE_TRANSLATION_OFFSET = 8;
  let END_TRANSLATE_X = rtl ? `-${window.innerWidth - backButtonBox.right - LARGE_TITLE_TRANSLATION_OFFSET}px` : `${backButtonBox.x + LARGE_TITLE_TRANSLATION_OFFSET}px`;
  /**
   * How much to scale the large title up/down by.
   */
  let HEIGHT_SCALE = 0.5;
  /**
   * The large title always starts full size.
   */
  const START_SCALE = 'scale(1)';
  /**
   * By default, we don't worry about having the large title scaled to perfectly
   * match the back button because we don't know if the back button's text matches
   * the large title's text.
   */
  let END_SCALE = `scale(${HEIGHT_SCALE})`;
  // Text element not rendered if developers pass text="" to the back button
  if (backButtonTextEl && backButtonTextBox) {
    /**
     * The scaled title should (roughly) overlap the back button. This ensures that
     * the back button and title overlap during the animation. Note that since both
     * elements either fade in or fade out over the course of the animation, neither
     * element will be fully visible on top of the other. As a result, the overlap
     * does not need to be perfect, so approximate values are acceptable here.
     */
    END_TRANSLATE_X = rtl ? `-${window.innerWidth - backButtonTextBox.right - LARGE_TITLE_TRANSLATION_OFFSET}px` : `${backButtonTextBox.x - LARGE_TITLE_TRANSLATION_OFFSET}px`;
    /**
     * In the forward direction, the large title should start at its normal size and
     * then scale down to be (roughly) the size of the back button on the other view.
     * In the backward direction, the large title should start at (roughly) the size
     * of the back button and then scale up to its original size.
     * Note that since both elements either fade in or fade out over the course of the
     * animation, neither element will be fully visible on top of the other. As a result,
     * the overlap  does not need to be perfect, so approximate values are acceptable here.
     */
    /**
     * When the title and back button texts match then they should overlap during the
     * page transition. If the texts do not match up then the large title text scale
     * adjusts to not perfectly match the back button text otherwise the proportions
     * will be incorrect. When the texts match we scale both the width and height to
     * account for font weight differences between the title and back button.
     */
    const doTitleAndButtonTextsMatch = ((_a = backButtonTextEl.textContent) === null || _a === void 0 ? void 0 : _a.trim()) === ((_b = largeTitleEl.textContent) === null || _b === void 0 ? void 0 : _b.trim());
    const WIDTH_SCALE = backButtonTextBox.width / largeTitleTextBox.width;
    HEIGHT_SCALE = backButtonTextBox.height / (largeTitleTextBox.height - LARGE_TITLE_SIZE_OFFSET);
    /**
     * Even though we set TEXT_START_SCALE to HEIGHT_SCALE above, we potentially need
     * to re-compute this here since the HEIGHT_SCALE may have changed.
     */
    END_SCALE = doTitleAndButtonTextsMatch ? `scale(${WIDTH_SCALE}, ${HEIGHT_SCALE})` : `scale(${HEIGHT_SCALE})`;
  }
  /**
   * The midpoints of the back button and the title should align such that the back
   * button and title appear to be centered with each other.
   */
  const backButtonMidPoint = backButtonBox.top + backButtonBox.height / 2;
  const titleMidPoint = largeTitleBox.height * HEIGHT_SCALE / 2;
  const END_TRANSLATE_Y = `${backButtonMidPoint - titleMidPoint}px`;
  const BACKWARDS_KEYFRAMES = [{
    offset: 0,
    opacity: 0,
    transform: `translate3d(${END_TRANSLATE_X}, ${END_TRANSLATE_Y}, 0) ${END_SCALE}`
  }, {
    offset: 0.1,
    opacity: 0
  }, {
    offset: 1,
    opacity: 1,
    transform: `translate3d(${START_TRANSLATE_X}, ${START_TRANSLATE_Y}, 0) ${START_SCALE}`
  }];
  const FORWARDS_KEYFRAMES = [{
    offset: 0,
    opacity: 0.99,
    transform: `translate3d(${START_TRANSLATE_X}, ${START_TRANSLATE_Y}, 0) ${START_SCALE}`
  }, {
    offset: 0.6,
    opacity: 0
  }, {
    offset: 1,
    opacity: 0,
    transform: `translate3d(${END_TRANSLATE_X}, ${END_TRANSLATE_Y}, 0) ${END_SCALE}`
  }];
  const KEYFRAMES = backDirection ? BACKWARDS_KEYFRAMES : FORWARDS_KEYFRAMES;
  const clonedTitleEl = getClonedElement('ion-title');
  const clonedLargeTitleAnimation = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
  clonedTitleEl.innerText = largeTitleEl.innerText;
  clonedTitleEl.size = largeTitleEl.size;
  clonedTitleEl.color = largeTitleEl.color;
  clonedLargeTitleAnimation.addElement(clonedTitleEl);
  clonedLargeTitleAnimation.beforeStyles({
    'transform-origin': `${ORIGIN_X} top`,
    /**
     * Since font size changes will cause
     * the dimension of the large title to change
     * we need to set the cloned title height
     * equal to that of the original large title height.
     */
    height: `${largeTitleBox.height}px`,
    display: '',
    position: 'relative',
    [ORIGIN_X]: TITLE_START_OFFSET
  }).beforeAddWrite(() => {
    largeTitleEl.style.setProperty('opacity', '0');
  }).afterAddWrite(() => {
    largeTitleEl.style.setProperty('opacity', '');
    clonedTitleEl.style.setProperty('display', 'none');
  }).keyframes(KEYFRAMES);
  rootAnimation.addAnimation(clonedLargeTitleAnimation);
};
const iosTransitionAnimation = (navEl, opts) => {
  var _a;
  try {
    const EASING = 'cubic-bezier(0.32,0.72,0,1)';
    const OPACITY = 'opacity';
    const TRANSFORM = 'transform';
    const CENTER = '0%';
    const OFF_OPACITY = 0.8;
    const isRTL = navEl.ownerDocument.dir === 'rtl';
    const OFF_RIGHT = isRTL ? '-99.5%' : '99.5%';
    const OFF_LEFT = isRTL ? '33%' : '-33%';
    const enteringEl = opts.enteringEl;
    const leavingEl = opts.leavingEl;
    const backDirection = opts.direction === 'back';
    const contentEl = enteringEl.querySelector(':scope > ion-content');
    const headerEls = enteringEl.querySelectorAll(':scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *');
    const enteringToolBarEls = enteringEl.querySelectorAll(':scope > ion-header > ion-toolbar');
    const rootAnimation = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
    const enteringContentAnimation = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
    rootAnimation.addElement(enteringEl).duration(((_a = opts.duration) !== null && _a !== void 0 ? _a : 0) || DURATION).easing(opts.easing || EASING).fill('both').beforeRemoveClass('ion-page-invisible');
    // eslint-disable-next-line @typescript-eslint/prefer-optional-chain
    if (leavingEl && navEl !== null && navEl !== undefined) {
      const navDecorAnimation = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
      navDecorAnimation.addElement(navEl);
      rootAnimation.addAnimation(navDecorAnimation);
    }
    if (!contentEl && enteringToolBarEls.length === 0 && headerEls.length === 0) {
      enteringContentAnimation.addElement(enteringEl.querySelector(':scope > .ion-page, :scope > ion-nav, :scope > ion-tabs')); // REVIEW
    } else {
      enteringContentAnimation.addElement(contentEl); // REVIEW
      enteringContentAnimation.addElement(headerEls);
    }
    rootAnimation.addAnimation(enteringContentAnimation);
    if (backDirection) {
      enteringContentAnimation.beforeClearStyles([OPACITY]).fromTo('transform', `translateX(${OFF_LEFT})`, `translateX(${CENTER})`).fromTo(OPACITY, OFF_OPACITY, 1);
    } else {
      // entering content, forward direction
      enteringContentAnimation.beforeClearStyles([OPACITY]).fromTo('transform', `translateX(${OFF_RIGHT})`, `translateX(${CENTER})`);
    }
    if (contentEl) {
      const enteringTransitionEffectEl = shadow(contentEl).querySelector('.transition-effect');
      if (enteringTransitionEffectEl) {
        const enteringTransitionCoverEl = enteringTransitionEffectEl.querySelector('.transition-cover');
        const enteringTransitionShadowEl = enteringTransitionEffectEl.querySelector('.transition-shadow');
        const enteringTransitionEffect = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        const enteringTransitionCover = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        const enteringTransitionShadow = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        enteringTransitionEffect.addElement(enteringTransitionEffectEl).beforeStyles({
          opacity: '1',
          display: 'block'
        }).afterStyles({
          opacity: '',
          display: ''
        });
        enteringTransitionCover.addElement(enteringTransitionCoverEl) // REVIEW
        .beforeClearStyles([OPACITY]).fromTo(OPACITY, 0, 0.1);
        enteringTransitionShadow.addElement(enteringTransitionShadowEl) // REVIEW
        .beforeClearStyles([OPACITY]).fromTo(OPACITY, 0.03, 0.7);
        enteringTransitionEffect.addAnimation([enteringTransitionCover, enteringTransitionShadow]);
        enteringContentAnimation.addAnimation([enteringTransitionEffect]);
      }
    }
    const enteringContentHasLargeTitle = enteringEl.querySelector('ion-header.header-collapse-condense');
    const {
      forward,
      backward
    } = createLargeTitleTransition(rootAnimation, isRTL, backDirection, enteringEl, leavingEl);
    enteringToolBarEls.forEach(enteringToolBarEl => {
      const enteringToolBar = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
      enteringToolBar.addElement(enteringToolBarEl);
      rootAnimation.addAnimation(enteringToolBar);
      const enteringTitle = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
      enteringTitle.addElement(enteringToolBarEl.querySelector('ion-title')); // REVIEW
      const enteringToolBarButtons = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
      const buttons = Array.from(enteringToolBarEl.querySelectorAll('ion-buttons,[menuToggle]'));
      const parentHeader = enteringToolBarEl.closest('ion-header');
      const inactiveHeader = parentHeader === null || parentHeader === void 0 ? void 0 : parentHeader.classList.contains('header-collapse-condense-inactive');
      let buttonsToAnimate;
      if (backDirection) {
        buttonsToAnimate = buttons.filter(button => {
          const isCollapseButton = button.classList.contains('buttons-collapse');
          return isCollapseButton && !inactiveHeader || !isCollapseButton;
        });
      } else {
        buttonsToAnimate = buttons.filter(button => !button.classList.contains('buttons-collapse'));
      }
      enteringToolBarButtons.addElement(buttonsToAnimate);
      const enteringToolBarItems = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
      enteringToolBarItems.addElement(enteringToolBarEl.querySelectorAll(':scope > *:not(ion-title):not(ion-buttons):not([menuToggle])'));
      const enteringToolBarBg = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
      enteringToolBarBg.addElement(shadow(enteringToolBarEl).querySelector('.toolbar-background')); // REVIEW
      const enteringBackButton = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
      const backButtonEl = enteringToolBarEl.querySelector('ion-back-button');
      if (backButtonEl) {
        enteringBackButton.addElement(backButtonEl);
      }
      enteringToolBar.addAnimation([enteringTitle, enteringToolBarButtons, enteringToolBarItems, enteringToolBarBg, enteringBackButton]);
      enteringToolBarButtons.fromTo(OPACITY, 0.01, 1);
      enteringToolBarItems.fromTo(OPACITY, 0.01, 1);
      if (backDirection) {
        if (!inactiveHeader) {
          enteringTitle.fromTo('transform', `translateX(${OFF_LEFT})`, `translateX(${CENTER})`).fromTo(OPACITY, 0.01, 1);
        }
        enteringToolBarItems.fromTo('transform', `translateX(${OFF_LEFT})`, `translateX(${CENTER})`);
        // back direction, entering page has a back button
        enteringBackButton.fromTo(OPACITY, 0.01, 1);
      } else {
        // entering toolbar, forward direction
        if (!enteringContentHasLargeTitle) {
          enteringTitle.fromTo('transform', `translateX(${OFF_RIGHT})`, `translateX(${CENTER})`).fromTo(OPACITY, 0.01, 1);
        }
        enteringToolBarItems.fromTo('transform', `translateX(${OFF_RIGHT})`, `translateX(${CENTER})`);
        enteringToolBarBg.beforeClearStyles([OPACITY, 'transform']);
        const translucentHeader = parentHeader === null || parentHeader === void 0 ? void 0 : parentHeader.translucent;
        if (!translucentHeader) {
          enteringToolBarBg.fromTo(OPACITY, 0.01, 'var(--opacity)');
        } else {
          enteringToolBarBg.fromTo('transform', isRTL ? 'translateX(-100%)' : 'translateX(100%)', 'translateX(0px)');
        }
        // forward direction, entering page has a back button
        if (!forward) {
          enteringBackButton.fromTo(OPACITY, 0.01, 1);
        }
        if (backButtonEl && !forward) {
          const enteringBackBtnText = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
          enteringBackBtnText.addElement(shadow(backButtonEl).querySelector('.button-text')) // REVIEW
          .fromTo(`transform`, isRTL ? 'translateX(-100px)' : 'translateX(100px)', 'translateX(0px)');
          enteringToolBar.addAnimation(enteringBackBtnText);
        }
      }
    });
    // setup leaving view
    if (leavingEl) {
      const leavingContent = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
      const leavingContentEl = leavingEl.querySelector(':scope > ion-content');
      const leavingToolBarEls = leavingEl.querySelectorAll(':scope > ion-header > ion-toolbar');
      const leavingHeaderEls = leavingEl.querySelectorAll(':scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *');
      if (!leavingContentEl && leavingToolBarEls.length === 0 && leavingHeaderEls.length === 0) {
        leavingContent.addElement(leavingEl.querySelector(':scope > .ion-page, :scope > ion-nav, :scope > ion-tabs')); // REVIEW
      } else {
        leavingContent.addElement(leavingContentEl); // REVIEW
        leavingContent.addElement(leavingHeaderEls);
      }
      rootAnimation.addAnimation(leavingContent);
      if (backDirection) {
        // leaving content, back direction
        leavingContent.beforeClearStyles([OPACITY]).fromTo('transform', `translateX(${CENTER})`, isRTL ? 'translateX(-100%)' : 'translateX(100%)');
        const leavingPage = (0,_index2_js__WEBPACK_IMPORTED_MODULE_1__.g)(leavingEl);
        rootAnimation.afterAddWrite(() => {
          if (rootAnimation.getDirection() === 'normal') {
            leavingPage.style.setProperty('display', 'none');
          }
        });
      } else {
        // leaving content, forward direction
        leavingContent.fromTo('transform', `translateX(${CENTER})`, `translateX(${OFF_LEFT})`).fromTo(OPACITY, 1, OFF_OPACITY);
      }
      if (leavingContentEl) {
        const leavingTransitionEffectEl = shadow(leavingContentEl).querySelector('.transition-effect');
        if (leavingTransitionEffectEl) {
          const leavingTransitionCoverEl = leavingTransitionEffectEl.querySelector('.transition-cover');
          const leavingTransitionShadowEl = leavingTransitionEffectEl.querySelector('.transition-shadow');
          const leavingTransitionEffect = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
          const leavingTransitionCover = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
          const leavingTransitionShadow = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
          leavingTransitionEffect.addElement(leavingTransitionEffectEl).beforeStyles({
            opacity: '1',
            display: 'block'
          }).afterStyles({
            opacity: '',
            display: ''
          });
          leavingTransitionCover.addElement(leavingTransitionCoverEl) // REVIEW
          .beforeClearStyles([OPACITY]).fromTo(OPACITY, 0.1, 0);
          leavingTransitionShadow.addElement(leavingTransitionShadowEl) // REVIEW
          .beforeClearStyles([OPACITY]).fromTo(OPACITY, 0.7, 0.03);
          leavingTransitionEffect.addAnimation([leavingTransitionCover, leavingTransitionShadow]);
          leavingContent.addAnimation([leavingTransitionEffect]);
        }
      }
      leavingToolBarEls.forEach(leavingToolBarEl => {
        const leavingToolBar = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        leavingToolBar.addElement(leavingToolBarEl);
        const leavingTitle = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        leavingTitle.addElement(leavingToolBarEl.querySelector('ion-title')); // REVIEW
        const leavingToolBarButtons = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        const buttons = leavingToolBarEl.querySelectorAll('ion-buttons,[menuToggle]');
        const parentHeader = leavingToolBarEl.closest('ion-header');
        const inactiveHeader = parentHeader === null || parentHeader === void 0 ? void 0 : parentHeader.classList.contains('header-collapse-condense-inactive');
        const buttonsToAnimate = Array.from(buttons).filter(button => {
          const isCollapseButton = button.classList.contains('buttons-collapse');
          return isCollapseButton && !inactiveHeader || !isCollapseButton;
        });
        leavingToolBarButtons.addElement(buttonsToAnimate);
        const leavingToolBarItems = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        const leavingToolBarItemEls = leavingToolBarEl.querySelectorAll(':scope > *:not(ion-title):not(ion-buttons):not([menuToggle])');
        if (leavingToolBarItemEls.length > 0) {
          leavingToolBarItems.addElement(leavingToolBarItemEls);
        }
        const leavingToolBarBg = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        leavingToolBarBg.addElement(shadow(leavingToolBarEl).querySelector('.toolbar-background')); // REVIEW
        const leavingBackButton = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        const backButtonEl = leavingToolBarEl.querySelector('ion-back-button');
        if (backButtonEl) {
          leavingBackButton.addElement(backButtonEl);
        }
        leavingToolBar.addAnimation([leavingTitle, leavingToolBarButtons, leavingToolBarItems, leavingBackButton, leavingToolBarBg]);
        rootAnimation.addAnimation(leavingToolBar);
        // fade out leaving toolbar items
        leavingBackButton.fromTo(OPACITY, 0.99, 0);
        leavingToolBarButtons.fromTo(OPACITY, 0.99, 0);
        leavingToolBarItems.fromTo(OPACITY, 0.99, 0);
        if (backDirection) {
          if (!inactiveHeader) {
            // leaving toolbar, back direction
            leavingTitle.fromTo('transform', `translateX(${CENTER})`, isRTL ? 'translateX(-100%)' : 'translateX(100%)').fromTo(OPACITY, 0.99, 0);
          }
          leavingToolBarItems.fromTo('transform', `translateX(${CENTER})`, isRTL ? 'translateX(-100%)' : 'translateX(100%)');
          leavingToolBarBg.beforeClearStyles([OPACITY, 'transform']);
          // leaving toolbar, back direction, and there's no entering toolbar
          // should just slide out, no fading out
          const translucentHeader = parentHeader === null || parentHeader === void 0 ? void 0 : parentHeader.translucent;
          if (!translucentHeader) {
            leavingToolBarBg.fromTo(OPACITY, 'var(--opacity)', 0);
          } else {
            leavingToolBarBg.fromTo('transform', 'translateX(0px)', isRTL ? 'translateX(-100%)' : 'translateX(100%)');
          }
          if (backButtonEl && !backward) {
            const leavingBackBtnText = (0,_animation_js__WEBPACK_IMPORTED_MODULE_0__.c)();
            leavingBackBtnText.addElement(shadow(backButtonEl).querySelector('.button-text')) // REVIEW
            .fromTo('transform', `translateX(${CENTER})`, `translateX(${(isRTL ? -124 : 124) + 'px'})`);
            leavingToolBar.addAnimation(leavingBackBtnText);
          }
        } else {
          // leaving toolbar, forward direction
          if (!inactiveHeader) {
            leavingTitle.fromTo('transform', `translateX(${CENTER})`, `translateX(${OFF_LEFT})`).fromTo(OPACITY, 0.99, 0).afterClearStyles([TRANSFORM, OPACITY]);
          }
          leavingToolBarItems.fromTo('transform', `translateX(${CENTER})`, `translateX(${OFF_LEFT})`).afterClearStyles([TRANSFORM, OPACITY]);
          leavingBackButton.afterClearStyles([OPACITY]);
          leavingTitle.afterClearStyles([OPACITY]);
          leavingToolBarButtons.afterClearStyles([OPACITY]);
        }
      });
    }
    return rootAnimation;
  } catch (err) {
    throw err;
  }
};
/**
 * The scale of the back button during the animation
 * is computed based on the scale of the large title
 * and vice versa. However, we need to account for slight
 * variations in the size of the large title due to
 * padding and font weight. This value should be used to subtract
 * a small amount from the large title height when computing scales
 * to get more accurate scale results.
 */
const LARGE_TITLE_SIZE_OFFSET = 10;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfY29tcG9uZW50c19pb3NfdHJhbnNpdGlvbl9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ3NEO0FBQ0Q7QUFFckQsTUFBTUksUUFBUSxHQUFHLEdBQUc7QUFDcEI7QUFDQSxNQUFNQyxnQkFBZ0IsR0FBSUMsT0FBTyxJQUFLO0VBQ2xDLE9BQU9DLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLEdBQUdGLE9BQU8scUJBQXFCLENBQUM7QUFDbEUsQ0FBQztBQUNELE1BQU1HLE1BQU0sR0FBSUMsRUFBRSxJQUFLO0VBQ25CLE9BQU9BLEVBQUUsQ0FBQ0MsVUFBVSxJQUFJRCxFQUFFO0FBQzlCLENBQUM7QUFDRCxNQUFNRSxhQUFhLEdBQUlDLEtBQUssSUFBSztFQUM3QixNQUFNQyxJQUFJLEdBQUdELEtBQUssQ0FBQ1AsT0FBTyxLQUFLLFVBQVUsR0FBR08sS0FBSyxHQUFHQSxLQUFLLENBQUNMLGFBQWEsQ0FBQyxVQUFVLENBQUM7RUFDbkYsTUFBTU8sS0FBSyxHQUFHLHNGQUFzRjtFQUNwRyxJQUFJRCxJQUFJLElBQUksSUFBSSxFQUFFO0lBQ2QsTUFBTUUsU0FBUyxHQUFHRixJQUFJLENBQUNOLGFBQWEsQ0FBQywyREFBMkQsQ0FBQztJQUNqRyxPQUFPUSxTQUFTLElBQUksSUFBSSxHQUFHQSxTQUFTLENBQUNSLGFBQWEsQ0FBQ08sS0FBSyxDQUFDLEdBQUcsSUFBSTtFQUNwRTtFQUNBLE9BQU9GLEtBQUssQ0FBQ0wsYUFBYSxDQUFDTyxLQUFLLENBQUM7QUFDckMsQ0FBQztBQUNELE1BQU1FLGFBQWEsR0FBR0EsQ0FBQ0osS0FBSyxFQUFFSyxhQUFhLEtBQUs7RUFDNUMsTUFBTUosSUFBSSxHQUFHRCxLQUFLLENBQUNQLE9BQU8sS0FBSyxVQUFVLEdBQUdPLEtBQUssR0FBR0EsS0FBSyxDQUFDTCxhQUFhLENBQUMsVUFBVSxDQUFDO0VBQ25GLElBQUlXLFdBQVcsR0FBRyxFQUFF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QW1CLENBQ2QxQyxNQUFNLENBQUMsV0FBVyxFQUFFLGNBQWNwQixNQUFNLEdBQUcsRUFBRSxjQUFjTSxRQUFRLEdBQUcsQ0FBQyxDQUN2RTRELGdCQUFnQixDQUFDLENBQUNuRSxTQUFTLEVBQUVELE9BQU8sQ0FBQyxDQUFDO1VBQzNDL0csaUJBQWlCLENBQUNtTCxnQkFBZ0IsQ0FBQyxDQUFDcEUsT0FBTyxDQUFDLENBQUM7VUFDN0M4RCxZQUFZLENBQUNNLGdCQUFnQixDQUFDLENBQUNwRSxPQUFPLENBQUMsQ0FBQztVQUN4QytELHFCQUFxQixDQUFDSyxnQkFBZ0IsQ0FBQyxDQUFDcEUsT0FBTyxDQUFDLENBQUM7UUFDckQ7TUFDSixDQUFDLENBQUM7SUFDTjtJQUNBLE9BQU90SCxhQUFhO0VBQ3hCLENBQUMsQ0FDRCxPQUFPMkwsR0FBRyxFQUFFO0lBQ1IsTUFBTUEsR0FBRztFQUNiO0FBQ0osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU16SSx1QkFBdUIsR0FBRyxFQUFFIiwic291cmNlcyI6WyIuL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9jb21wb25lbnRzL2lvcy50cmFuc2l0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUFuaW1hdGlvbiB9IGZyb20gJy4vYW5pbWF0aW9uLmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0SW9uUGFnZUVsZW1lbnQgfSBmcm9tICcuL2luZGV4Mi5qcyc7XG5cbmNvbnN0IERVUkFUSU9OID0gNTQwO1xuLy8gVE9ETyhGVy0yODMyKTogdHlwZXNcbmNvbnN0IGdldENsb25lZEVsZW1lbnQgPSAodGFnTmFtZSkgPT4ge1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RhZ05hbWV9Lmlvbi1jbG9uZWQtZWxlbWVudGApO1xufTtcbmNvbnN0IHNoYWRvdyA9IChlbCkgPT4ge1xuICAgIHJldHVybiBlbC5zaGFkb3dSb290IHx8IGVsO1xufTtcbmNvbnN0IGdldExhcmdlVGl0bGUgPSAocmVmRWwpID0+IHtcbiAgICBjb25zdCB0YWJzID0gcmVmRWwudGFnTmFtZSA9PT0gJ0lPTi1UQUJTJyA/IHJlZkVsIDogcmVmRWwucXVlcnlTZWxlY3RvcignaW9uLXRhYnMnKTtcbiAgICBjb25zdCBxdWVyeSA9ICdpb24tY29udGVudCBpb24taGVhZGVyOm5vdCguaGVhZGVyLWNvbGxhcHNlLWNvbmRlbnNlLWluYWN0aXZlKSBpb24tdGl0bGUudGl0bGUtbGFyZ2UnO1xuICAgIGlmICh0YWJzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlVGFiID0gdGFicy5xdWVyeVNlbGVjdG9yKCdpb24tdGFiOm5vdCgudGFiLWhpZGRlbiksIC5pb24tcGFnZTpub3QoLmlvbi1wYWdlLWhpZGRlbiknKTtcbiAgICAgICAgcmV0dXJuIGFjdGl2ZVRhYiAhPSBudWxsID8gYWN0aXZlVGFiLnF1ZXJ5U2VsZWN0b3IocXVlcnkpIDogbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHJlZkVsLnF1ZXJ5U2VsZWN0b3IocXVlcnkpO1xufTtcbmNvbnN0IGdldEJhY2tCdXR0b24gPSAocmVmRWwsIGJhY2tEaXJlY3Rpb24pID0+IHtcbiAgICBjb25zdCB0YWJzID0gcmVmRWwudGFnTmFtZSA9PT0gJ0lPTi1UQUJTJyA/IHJlZkVsIDogcmVmRWwucXVlcnlTZWxlY3RvcignaW9uLXRhYnMnKTtcbiAgICBsZXQgYnV0dG9uc0xpc3QgPSBbXTtcbiAgICBpZiAodGFicyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVRhYiA9IHRhYnMucXVlcnlTZWxlY3RvcignaW9uLXRhYjpub3QoLnRhYi1oaWRkZW4pLCAuaW9uLXBhZ2U6bm90KC5pb24tcGFnZS1oaWRkZW4pJyk7XG4gICAgICAgIGlmIChhY3RpdmVUYWIgIT0gbnVsbCkge1xuICAgICAgICAgICAgYnV0dG9uc0xpc3QgPSBhY3RpdmVUYWIucXVlcnlTZWxlY3RvckFsbCgnaW9uLWJ1dHRvbnMnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYnV0dG9uc0xpc3QgPSByZWZFbC5xdWVyeVNlbGVjdG9yQWxsKCdpb24tYnV0dG9ucycpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGJ1dHRvbnMgb2YgYnV0dG9uc0xpc3QpIHtcbiAgICAgICAgY29uc3QgcGFyZW50SGVhZGVyID0gYnV0dG9ucy5jbG9zZXN0KCdpb24taGVhZGVyJyk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUhlYWRlciA9IHBhcmVudEhlYWRlciAmJiAhcGFyZW50SGVhZGVyLmNsYXNzTGlzdC5jb250YWlucygnaGVhZGVyLWNvbGxhcHNlLWNvbmRlbnNlLWluYWN0aXZlJyk7XG4gICAgICAgIGNvbnN0IGJhY2tCdXR0b24gPSBidXR0b25zLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrLWJ1dHRvbicpO1xuICAgICAgICBjb25zdCBidXR0b25zQ29sbGFwc2UgPSBidXR0b25zLmNsYXNzTGlzdC5jb250YWlucygnYnV0dG9ucy1jb2xsYXBzZScpO1xuICAgICAgICBjb25zdCBzdGFydFNsb3QgPSBidXR0b25zLnNsb3QgPT09ICdzdGFydCcgfHwgYnV0dG9ucy5zbG90ID09PSAnJztcbiAgICAgICAgaWYgKGJhY2tCdXR0b24gIT09IG51bGwgJiYgc3RhcnRTbG90ICYmICgoYnV0dG9uc0NvbGxhcHNlICYmIGFjdGl2ZUhlYWRlciAmJiBiYWNrRGlyZWN0aW9uKSB8fCAhYnV0dG9uc0NvbGxhcHNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGJhY2tCdXR0b247XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuY29uc3QgY3JlYXRlTGFyZ2VUaXRsZVRyYW5zaXRpb24gPSAocm9vdEFuaW1hdGlvbiwgcnRsLCBiYWNrRGlyZWN0aW9uLCBlbnRlcmluZ0VsLCBsZWF2aW5nRWwpID0+IHtcbiAgICBjb25zdCBlbnRlcmluZ0JhY2tCdXR0b24gPSBnZXRCYWNrQnV0dG9uKGVudGVyaW5nRWwsIGJhY2tEaXJlY3Rpb24pO1xuICAgIGNvbnN0IGxlYXZpbmdMYXJnZVRpdGxlID0gZ2V0TGFyZ2VUaXRsZShsZWF2aW5nRWwpO1xuICAgIGNvbnN0IGVudGVyaW5nTGFyZ2VUaXRsZSA9IGdldExhcmdlVGl0bGUoZW50ZXJpbmdFbCk7XG4gICAgY29uc3QgbGVhdmluZ0JhY2tCdXR0b24gPSBnZXRCYWNrQnV0dG9uKGxlYXZpbmdFbCwgYmFja0RpcmVjdGlvbik7XG4gICAgY29uc3Qgc2hvdWxkQW5pbWF0aW9uRm9yd2FyZCA9IGVudGVyaW5nQmFja0J1dHRvbiAhPT0gbnVsbCAmJiBsZWF2aW5nTGFyZ2VUaXRsZSAhPT0gbnVsbCAmJiAhYmFja0RpcmVjdGlvbjtcbiAgICBjb25zdCBzaG91bGRBbmltYXRpb25CYWNrd2FyZCA9IGVudGVyaW5nTGFyZ2VUaXRsZSAhPT0gbnVsbCAmJiBsZWF2aW5nQmFja0J1dHRvbiAhPT0gbnVsbCAmJiBiYWNrRGlyZWN0aW9uO1xuICAgIGlmIChzaG91bGRBbmltYXRpb25Gb3J3YXJkKSB7XG4gICAgICAgIGNvbnN0IGxlYXZpbmdMYXJnZVRpdGxlQm94ID0gbGVhdmluZ0xhcmdlVGl0bGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IGVudGVyaW5nQmFja0J1dHRvbkJveCA9IGVudGVyaW5nQmFja0J1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEVsID0gc2hhZG93KGVudGVyaW5nQmFja0J1dHRvbikucXVlcnlTZWxlY3RvcignLmJ1dHRvbi10ZXh0Jyk7XG4gICAgICAgIC8vIFRleHQgZWxlbWVudCBub3QgcmVuZGVyZWQgaWYgZGV2ZWxvcGVycyBwYXNzIHRleHQ9XCJcIiB0byB0aGUgYmFjayBidXR0b25cbiAgICAgICAgY29uc3QgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEJveCA9IGVudGVyaW5nQmFja0J1dHRvblRleHRFbCA9PT0gbnVsbCB8fCBlbnRlcmluZ0JhY2tCdXR0b25UZXh0RWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVudGVyaW5nQmFja0J1dHRvblRleHRFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgbGVhdmluZ0xhcmdlVGl0bGVUZXh0RWwgPSBzaGFkb3cobGVhdmluZ0xhcmdlVGl0bGUpLnF1ZXJ5U2VsZWN0b3IoJy50b29sYmFyLXRpdGxlJyk7XG4gICAgICAgIGNvbnN0IGxlYXZpbmdMYXJnZVRpdGxlVGV4dEJveCA9IGxlYXZpbmdMYXJnZVRpdGxlVGV4dEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBhbmltYXRlTGFyZ2VUaXRsZShyb290QW5pbWF0aW9uLCBydGwsIGJhY2tEaXJlY3Rpb24sIGxlYXZpbmdMYXJnZVRpdGxlLCBsZWF2aW5nTGFyZ2VUaXRsZUJveCwgbGVhdmluZ0xhcmdlVGl0bGVUZXh0Qm94LCBlbnRlcmluZ0JhY2tCdXR0b25Cb3gsIGVudGVyaW5nQmFja0J1dHRvblRleHRFbCwgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEJveCk7XG4gICAgICAgIGFuaW1hdGVCYWNrQnV0dG9uKHJvb3RBbmltYXRpb24sIHJ0bCwgYmFja0RpcmVjdGlvbiwgZW50ZXJpbmdCYWNrQnV0dG9uLCBlbnRlcmluZ0JhY2tCdXR0b25Cb3gsIGVudGVyaW5nQmFja0J1dHRvblRleHRFbCwgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEJveCwgbGVhdmluZ0xhcmdlVGl0bGUsIGxlYXZpbmdMYXJnZVRpdGxlVGV4dEJveCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNob3VsZEFuaW1hdGlvbkJhY2t3YXJkKSB7XG4gICAgICAgIGNvbnN0IGVudGVyaW5nTGFyZ2VUaXRsZUJveCA9IGVudGVyaW5nTGFyZ2VUaXRsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgbGVhdmluZ0JhY2tCdXR0b25Cb3ggPSBsZWF2aW5nQmFja0J1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgbGVhdmluZ0JhY2tCdXR0b25UZXh0RWwgPSBzaGFkb3cobGVhdmluZ0JhY2tCdXR0b24pLnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tdGV4dCcpO1xuICAgICAgICAvLyBUZXh0IGVsZW1lbnQgbm90IHJlbmRlcmVkIGlmIGRldmVsb3BlcnMgcGFzcyB0ZXh0PVwiXCIgdG8gdGhlIGJhY2sgYnV0dG9uXG4gICAgICAgIGNvbnN0IGxlYXZpbmdCYWNrQnV0dG9uVGV4dEJveCA9IGxlYXZpbmdCYWNrQnV0dG9uVGV4dEVsID09PSBudWxsIHx8IGxlYXZpbmdCYWNrQnV0dG9uVGV4dEVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsZWF2aW5nQmFja0J1dHRvblRleHRFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgZW50ZXJpbmdMYXJnZVRpdGxlVGV4dEVsID0gc2hhZG93KGVudGVyaW5nTGFyZ2VUaXRsZSkucXVlcnlTZWxlY3RvcignLnRvb2xiYXItdGl0bGUnKTtcbiAgICAgICAgY29uc3QgZW50ZXJpbmdMYXJnZVRpdGxlVGV4dEJveCA9IGVudGVyaW5nTGFyZ2VUaXRsZVRleHRFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgYW5pbWF0ZUxhcmdlVGl0bGUocm9vdEFuaW1hdGlvbiwgcnRsLCBiYWNrRGlyZWN0aW9uLCBlbnRlcmluZ0xhcmdlVGl0bGUsIGVudGVyaW5nTGFyZ2VUaXRsZUJveCwgZW50ZXJpbmdMYXJnZVRpdGxlVGV4dEJveCwgbGVhdmluZ0JhY2tCdXR0b25Cb3gsIGxlYXZpbmdCYWNrQnV0dG9uVGV4dEVsLCBsZWF2aW5nQmFja0J1dHRvblRleHRCb3gpO1xuICAgICAgICBhbmltYXRlQmFja0J1dHRvbihyb290QW5pbWF0aW9uLCBydGwsIGJhY2tEaXJlY3Rpb24sIGxlYXZpbmdCYWNrQnV0dG9uLCBsZWF2aW5nQmFja0J1dHRvbkJveCwgbGVhdmluZ0JhY2tCdXR0b25UZXh0RWwsIGxlYXZpbmdCYWNrQnV0dG9uVGV4dEJveCwgZW50ZXJpbmdMYXJnZVRpdGxlLCBlbnRlcmluZ0xhcmdlVGl0bGVUZXh0Qm94KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZm9yd2FyZDogc2hvdWxkQW5pbWF0aW9uRm9yd2FyZCxcbiAgICAgICAgYmFja3dhcmQ6IHNob3VsZEFuaW1hdGlvbkJhY2t3YXJkLFxuICAgIH07XG59O1xuY29uc3QgYW5pbWF0ZUJhY2tCdXR0b24gPSAocm9vdEFuaW1hdGlvbiwgcnRsLCBiYWNrRGlyZWN0aW9uLCBiYWNrQnV0dG9uRWwsIGJhY2tCdXR0b25Cb3gsIGJhY2tCdXR0b25UZXh0RWwsIGJhY2tCdXR0b25UZXh0Qm94LCBsYXJnZVRpdGxlRWwsIGxhcmdlVGl0bGVUZXh0Qm94KSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBCQUNLX0JVVFRPTl9TVEFSVF9PRkZTRVQgPSBydGwgPyBgY2FsYygxMDAlIC0gJHtiYWNrQnV0dG9uQm94LnJpZ2h0ICsgNH1weClgIDogYCR7YmFja0J1dHRvbkJveC5sZWZ0IC0gNH1weGA7XG4gICAgY29uc3QgVEVYVF9PUklHSU5fWCA9IHJ0bCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgY29uc3QgSUNPTl9PUklHSU5fWCA9IHJ0bCA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgY29uc3QgQ09OVEFJTkVSX09SSUdJTl9YID0gcnRsID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICBsZXQgV0lEVEhfU0NBTEUgPSAxO1xuICAgIGxldCBIRUlHSFRfU0NBTEUgPSAxO1xuICAgIGxldCBURVhUX1NUQVJUX1NDQUxFID0gYHNjYWxlKCR7SEVJR0hUX1NDQUxFfSlgO1xuICAgIGNvbnN0IFRFWFRfRU5EX1NDQUxFID0gJ3NjYWxlKDEpJztcbiAgICBpZiAoYmFja0J1dHRvblRleHRFbCAmJiBiYWNrQnV0dG9uVGV4dEJveCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgdGl0bGUgYW5kIGJhY2sgYnV0dG9uIHRleHRzIG1hdGNoIHRoZW4gdGhleSBzaG91bGQgb3ZlcmxhcCBkdXJpbmcgdGhlXG4gICAgICAgICAqIHBhZ2UgdHJhbnNpdGlvbi4gSWYgdGhlIHRleHRzIGRvIG5vdCBtYXRjaCB1cCB0aGVuIHRoZSBiYWNrIGJ1dHRvbiB0ZXh0IHNjYWxlXG4gICAgICAgICAqIGFkanVzdHMgdG8gbm90IHBlcmZlY3RseSBtYXRjaCB0aGUgbGFyZ2UgdGl0bGUgdGV4dCBvdGhlcndpc2UgdGhlIHByb3BvcnRpb25zXG4gICAgICAgICAqIHdpbGwgYmUgaW5jb3JyZWN0LiBXaGVuIHRoZSB0ZXh0cyBtYXRjaCB3ZSBzY2FsZSBib3RoIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IHRvXG4gICAgICAgICAqIGFjY291bnQgZm9yIGZvbnQgd2VpZ2h0IGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIHRpdGxlIGFuZCBiYWNrIGJ1dHRvbi5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGRvVGl0bGVBbmRCdXR0b25UZXh0c01hdGNoID0gKChfYSA9IGJhY2tCdXR0b25UZXh0RWwudGV4dENvbnRlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50cmltKCkpID09PSAoKF9iID0gbGFyZ2VUaXRsZUVsLnRleHRDb250ZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudHJpbSgpKTtcbiAgICAgICAgV0lEVEhfU0NBTEUgPSBsYXJnZVRpdGxlVGV4dEJveC53aWR0aCAvIGJhY2tCdXR0b25UZXh0Qm94LndpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3VidHJhY3QgYW4gb2Zmc2V0IHRvIGFjY291bnQgZm9yIHNsaWdodCBzaXppbmcvcGFkZGluZyBkaWZmZXJlbmNlcyBiZXR3ZWVuIHRoZVxuICAgICAgICAgKiB0aXRsZSBhbmQgdGhlIGJhY2sgYnV0dG9uLlxuICAgICAgICAgKi9cbiAgICAgICAgSEVJR0hUX1NDQUxFID0gKGxhcmdlVGl0bGVUZXh0Qm94LmhlaWdodCAtIExBUkdFX1RJVExFX1NJWkVfT0ZGU0VUKSAvIGJhY2tCdXR0b25UZXh0Qm94LmhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV2ZW4gdGhvdWdoIHdlIHNldCBURVhUX1NUQVJUX1NDQUxFIHRvIEhFSUdIVF9TQ0FMRSBhYm92ZSwgd2UgcG90ZW50aWFsbHkgbmVlZFxuICAgICAgICAgKiB0byByZS1jb21wdXRlIHRoaXMgaGVyZSBzaW5jZSB0aGUgSEVJR0hUX1NDQUxFIG1heSBoYXZlIGNoYW5nZWQuXG4gICAgICAgICAqL1xuICAgICAgICBURVhUX1NUQVJUX1NDQUxFID0gZG9UaXRsZUFuZEJ1dHRvblRleHRzTWF0Y2ggPyBgc2NhbGUoJHtXSURUSF9TQ0FMRX0sICR7SEVJR0hUX1NDQUxFfSlgIDogYHNjYWxlKCR7SEVJR0hUX1NDQUxFfSlgO1xuICAgIH1cbiAgICBjb25zdCBiYWNrQnV0dG9uSWNvbkVsID0gc2hhZG93KGJhY2tCdXR0b25FbCkucXVlcnlTZWxlY3RvcignaW9uLWljb24nKTtcbiAgICBjb25zdCBiYWNrQnV0dG9uSWNvbkJveCA9IGJhY2tCdXR0b25JY29uRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgLyoqXG4gICAgICogV2UgbmVlZCB0byBvZmZzZXQgdGhlIGNvbnRhaW5lciBieSB0aGUgaWNvbiBkaW1lbnNpb25zXG4gICAgICogc28gdGhhdCB0aGUgYmFjayBidXR0b24gdGV4dCBhbGlnbnMgd2l0aCB0aGUgbGFyZ2UgdGl0bGVcbiAgICAgKiB0ZXh0LiBPdGhlcndpc2UsIHRoZSBiYWNrIGJ1dHRvbiBpY29uIHdpbGwgYWxpZ24gd2l0aCB0aGVcbiAgICAgKiBsYXJnZSB0aXRsZSB0ZXh0IGJ1dCB0aGUgYmFjayBidXR0b24gdGV4dCB3aWxsIG5vdC5cbiAgICAgKi9cbiAgICBjb25zdCBDT05UQUlORVJfU1RBUlRfVFJBTlNMQVRFX1ggPSBydGxcbiAgICAgICAgPyBgJHtiYWNrQnV0dG9uSWNvbkJveC53aWR0aCAvIDIgLSAoYmFja0J1dHRvbkljb25Cb3gucmlnaHQgLSBiYWNrQnV0dG9uQm94LnJpZ2h0KX1weGBcbiAgICAgICAgOiBgJHtiYWNrQnV0dG9uQm94LmxlZnQgLSBiYWNrQnV0dG9uSWNvbkJveC53aWR0aCAvIDJ9cHhgO1xuICAgIGNvbnN0IENPTlRBSU5FUl9FTkRfVFJBTlNMQVRFX1ggPSBydGwgPyBgLSR7d2luZG93LmlubmVyV2lkdGggLSBiYWNrQnV0dG9uQm94LnJpZ2h0fXB4YCA6IGAke2JhY2tCdXR0b25Cb3gubGVmdH1weGA7XG4gICAgLyoqXG4gICAgICogQmFjayBidXR0b24gY29udGFpbmVyIHNob3VsZCBiZVxuICAgICAqIGFsaWduZWQgdG8gdGhlIHRvcCBvZiB0aGUgdGl0bGUgY29udGFpbmVyXG4gICAgICogc28gdGhlIHRleHRzIG92ZXJsYXAgYXMgdGhlIGJhY2sgYnV0dG9uXG4gICAgICogdGV4dCBiZWdpbnMgdG8gZmFkZSBpbi5cbiAgICAgKi9cbiAgICBjb25zdCBDT05UQUlORVJfU1RBUlRfVFJBTlNMQVRFX1kgPSBgJHtsYXJnZVRpdGxlVGV4dEJveC50b3B9cHhgO1xuICAgIC8qKlxuICAgICAqIFRoZSBjbG9uZWQgYmFjayBidXR0b24gc2hvdWxkIGFsaWduIGV4YWN0bHkgd2l0aCB0aGVcbiAgICAgKiByZWFsIGJhY2sgYnV0dG9uIG9uIHRoZSBlbnRlcmluZyBwYWdlIG90aGVyd2lzZSB0aGVyZSB3aWxsXG4gICAgICogYmUgYSBsYXlvdXQgc2hpZnQuXG4gICAgICovXG4gICAgY29uc3QgQ09OVEFJTkVSX0VORF9UUkFOU0xBVEVfWSA9IGAke2JhY2tCdXR0b25Cb3gudG9wfXB4YDtcbiAgICAvKipcbiAgICAgKiBJbiB0aGUgZm9yd2FyZCBkaXJlY3Rpb24sIHRoZSBjbG9uZWQgYmFjayBidXR0b25cbiAgICAgKiBjb250YWluZXIgc2hvdWxkIHRyYW5zbGF0ZSBmcm9tIG92ZXIgdGhlIGxhcmdlIHRpdGxlXG4gICAgICogdG8gb3ZlciB0aGUgYmFjayBidXR0b24uIEluIHRoZSBiYWNrd2FyZCBkaXJlY3Rpb24sXG4gICAgICogaXQgc2hvdWxkIHRyYW5zbGF0ZSBmcm9tIG92ZXIgdGhlIGJhY2sgYnV0dG9uIHRvIG92ZXJcbiAgICAgKiB0aGUgbGFyZ2UgdGl0bGUuXG4gICAgICovXG4gICAgY29uc3QgRk9SV0FSRF9DT05UQUlORVJfS0VZRlJBTUVTID0gW1xuICAgICAgICB7IG9mZnNldDogMCwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHtDT05UQUlORVJfU1RBUlRfVFJBTlNMQVRFX1h9LCAke0NPTlRBSU5FUl9TVEFSVF9UUkFOU0xBVEVfWX0sIDApYCB9LFxuICAgICAgICB7IG9mZnNldDogMSwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHtDT05UQUlORVJfRU5EX1RSQU5TTEFURV9YfSwgJHtDT05UQUlORVJfRU5EX1RSQU5TTEFURV9ZfSwgMClgIH0sXG4gICAgXTtcbiAgICBjb25zdCBCQUNLV0FSRF9DT05UQUlORVJfS0VZRlJBTUVTID0gW1xuICAgICAgICB7IG9mZnNldDogMCwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHtDT05UQUlORVJfRU5EX1RSQU5TTEFURV9YfSwgJHtDT05UQUlORVJfRU5EX1RSQU5TTEFURV9ZfSwgMClgIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAxLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke0NPTlRBSU5FUl9TVEFSVF9UUkFOU0xBVEVfWH0sICR7Q09OVEFJTkVSX1NUQVJUX1RSQU5TTEFURV9ZfSwgMClgIH0sXG4gICAgXTtcbiAgICBjb25zdCBDT05UQUlORVJfS0VZRlJBTUVTID0gYmFja0RpcmVjdGlvbiA/IEJBQ0tXQVJEX0NPTlRBSU5FUl9LRVlGUkFNRVMgOiBGT1JXQVJEX0NPTlRBSU5FUl9LRVlGUkFNRVM7XG4gICAgLyoqXG4gICAgICogSW4gdGhlIGZvcndhcmQgZGlyZWN0aW9uLCB0aGUgdGV4dCBpbiB0aGUgY2xvbmVkIGJhY2sgYnV0dG9uXG4gICAgICogc2hvdWxkIHN0YXJ0IHRvIGJlIChyb3VnaGx5KSB0aGUgc2l6ZSBvZiB0aGUgbGFyZ2UgdGl0bGVcbiAgICAgKiBhbmQgdGhlbiBzY2FsZSBkb3duIHRvIGJlIHRoZSBzaXplIG9mIHRoZSBhY3R1YWwgYmFjayBidXR0b24uXG4gICAgICogVGhlIHRleHQgc2hvdWxkIGFsc28gdHJhbnNsYXRlLCBidXQgdGhhdCB0cmFuc2xhdGUgaXMgaGFuZGxlZFxuICAgICAqIGJ5IHRoZSBjb250YWluZXIga2V5ZnJhbWVzLlxuICAgICAqL1xuICAgIGNvbnN0IEZPUldBUkRfVEVYVF9LRVlGUkFNRVMgPSBbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06IFRFWFRfU1RBUlRfU0NBTEUgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogVEVYVF9FTkRfU0NBTEUgfSxcbiAgICBdO1xuICAgIGNvbnN0IEJBQ0tXQVJEX1RFWFRfS0VZRlJBTUVTID0gW1xuICAgICAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiBURVhUX0VORF9TQ0FMRSB9LFxuICAgICAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiBURVhUX1NUQVJUX1NDQUxFIH0sXG4gICAgXTtcbiAgICBjb25zdCBURVhUX0tFWUZSQU1FUyA9IGJhY2tEaXJlY3Rpb24gPyBCQUNLV0FSRF9URVhUX0tFWUZSQU1FUyA6IEZPUldBUkRfVEVYVF9LRVlGUkFNRVM7XG4gICAgLyoqXG4gICAgICogVGhlIGljb24gc2hvdWxkIHNjYWxlIGluL291dCBpbiB0aGUgc2Vjb25kXG4gICAgICogaGFsZiBvZiB0aGUgYW5pbWF0aW9uLiBUaGUgaWNvbiBzaG91bGQgYWxzb1xuICAgICAqIHRyYW5zbGF0ZSwgYnV0IHRoYXQgdHJhbnNsYXRlIGlzIGhhbmRsZWQgYnkgdGhlXG4gICAgICogY29udGFpbmVyIGtleWZyYW1lcy5cbiAgICAgKi9cbiAgICBjb25zdCBGT1JXQVJEX0lDT05fS0VZRlJBTUVTID0gW1xuICAgICAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAnc2NhbGUoMC42KScgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDAuNiwgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAnc2NhbGUoMC42KScgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogJ3NjYWxlKDEpJyB9LFxuICAgIF07XG4gICAgY29uc3QgQkFDS1dBUkRfSUNPTl9LRVlGUkFNRVMgPSBbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06ICdzY2FsZSgxKScgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDAuMiwgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAnc2NhbGUoMC42KScgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3NjYWxlKDAuNiknIH0sXG4gICAgXTtcbiAgICBjb25zdCBJQ09OX0tFWUZSQU1FUyA9IGJhY2tEaXJlY3Rpb24gPyBCQUNLV0FSRF9JQ09OX0tFWUZSQU1FUyA6IEZPUldBUkRfSUNPTl9LRVlGUkFNRVM7XG4gICAgY29uc3QgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgIGNvbnN0IGVudGVyaW5nQmFja0J1dHRvbkljb25BbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICBjb25zdCBlbnRlcmluZ0JhY2tCdXR0b25BbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICBjb25zdCBjbG9uZWRCYWNrQnV0dG9uRWwgPSBnZXRDbG9uZWRFbGVtZW50KCdpb24tYmFjay1idXR0b24nKTtcbiAgICBjb25zdCBjbG9uZWRCYWNrQnV0dG9uVGV4dEVsID0gc2hhZG93KGNsb25lZEJhY2tCdXR0b25FbCkucXVlcnlTZWxlY3RvcignLmJ1dHRvbi10ZXh0Jyk7XG4gICAgY29uc3QgY2xvbmVkQmFja0J1dHRvbkljb25FbCA9IHNoYWRvdyhjbG9uZWRCYWNrQnV0dG9uRWwpLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1pY29uJyk7XG4gICAgY2xvbmVkQmFja0J1dHRvbkVsLnRleHQgPSBiYWNrQnV0dG9uRWwudGV4dDtcbiAgICBjbG9uZWRCYWNrQnV0dG9uRWwubW9kZSA9IGJhY2tCdXR0b25FbC5tb2RlO1xuICAgIGNsb25lZEJhY2tCdXR0b25FbC5pY29uID0gYmFja0J1dHRvbkVsLmljb247XG4gICAgY2xvbmVkQmFja0J1dHRvbkVsLmNvbG9yID0gYmFja0J1dHRvbkVsLmNvbG9yO1xuICAgIGNsb25lZEJhY2tCdXR0b25FbC5kaXNhYmxlZCA9IGJhY2tCdXR0b25FbC5kaXNhYmxlZDtcbiAgICBjbG9uZWRCYWNrQnV0dG9uRWwuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICBjbG9uZWRCYWNrQnV0dG9uRWwuc3R5bGUuc2V0UHJvcGVydHkoJ3Bvc2l0aW9uJywgJ2ZpeGVkJyk7XG4gICAgZW50ZXJpbmdCYWNrQnV0dG9uSWNvbkFuaW1hdGlvbi5hZGRFbGVtZW50KGNsb25lZEJhY2tCdXR0b25JY29uRWwpO1xuICAgIGVudGVyaW5nQmFja0J1dHRvblRleHRBbmltYXRpb24uYWRkRWxlbWVudChjbG9uZWRCYWNrQnV0dG9uVGV4dEVsKTtcbiAgICBlbnRlcmluZ0JhY2tCdXR0b25BbmltYXRpb24uYWRkRWxlbWVudChjbG9uZWRCYWNrQnV0dG9uRWwpO1xuICAgIGVudGVyaW5nQmFja0J1dHRvbkFuaW1hdGlvblxuICAgICAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHRvcDogJzBweCcsXG4gICAgICAgIFtDT05UQUlORVJfT1JJR0lOX1hdOiAnMHB4JyxcbiAgICB9KVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdyaXRlIGhvb2tzIG11c3QgYmUgc2V0IG9uIHRoaXMgYW5pbWF0aW9uIGFzIGl0IGlzIGd1YXJhbnRlZWQgdG8gcnVuLiBPdGhlclxuICAgICAgICAgKiBhbmltYXRpb25zIHN1Y2ggYXMgdGhlIGJhY2sgYnV0dG9uIHRleHQgYW5pbWF0aW9uIHdpbGwgbm90IHJ1biBpZiB0aGUgYmFjayBidXR0b25cbiAgICAgICAgICogaGFzIG5vIHZpc2libGUgdGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIC5iZWZvcmVBZGRXcml0ZSgoKSA9PiB7XG4gICAgICAgIGJhY2tCdXR0b25FbC5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIGNsb25lZEJhY2tCdXR0b25FbC5zdHlsZS5zZXRQcm9wZXJ0eShURVhUX09SSUdJTl9YLCBCQUNLX0JVVFRPTl9TVEFSVF9PRkZTRVQpO1xuICAgIH0pXG4gICAgICAgIC5hZnRlckFkZFdyaXRlKCgpID0+IHtcbiAgICAgICAgYmFja0J1dHRvbkVsLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJycpO1xuICAgICAgICBjbG9uZWRCYWNrQnV0dG9uRWwuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICBjbG9uZWRCYWNrQnV0dG9uRWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoVEVYVF9PUklHSU5fWCk7XG4gICAgfSlcbiAgICAgICAgLmtleWZyYW1lcyhDT05UQUlORVJfS0VZRlJBTUVTKTtcbiAgICBlbnRlcmluZ0JhY2tCdXR0b25UZXh0QW5pbWF0aW9uXG4gICAgICAgIC5iZWZvcmVTdHlsZXMoe1xuICAgICAgICAndHJhbnNmb3JtLW9yaWdpbic6IGAke1RFWFRfT1JJR0lOX1h9IHRvcGAsXG4gICAgfSlcbiAgICAgICAgLmtleWZyYW1lcyhURVhUX0tFWUZSQU1FUyk7XG4gICAgZW50ZXJpbmdCYWNrQnV0dG9uSWNvbkFuaW1hdGlvblxuICAgICAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAgICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiBgJHtJQ09OX09SSUdJTl9YfSBjZW50ZXJgLFxuICAgIH0pXG4gICAgICAgIC5rZXlmcmFtZXMoSUNPTl9LRVlGUkFNRVMpO1xuICAgIHJvb3RBbmltYXRpb24uYWRkQW5pbWF0aW9uKFtcbiAgICAgICAgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEFuaW1hdGlvbixcbiAgICAgICAgZW50ZXJpbmdCYWNrQnV0dG9uSWNvbkFuaW1hdGlvbixcbiAgICAgICAgZW50ZXJpbmdCYWNrQnV0dG9uQW5pbWF0aW9uLFxuICAgIF0pO1xufTtcbmNvbnN0IGFuaW1hdGVMYXJnZVRpdGxlID0gKHJvb3RBbmltYXRpb24sIHJ0bCwgYmFja0RpcmVjdGlvbiwgbGFyZ2VUaXRsZUVsLCBsYXJnZVRpdGxlQm94LCBsYXJnZVRpdGxlVGV4dEJveCwgYmFja0J1dHRvbkJveCwgYmFja0J1dHRvblRleHRFbCwgYmFja0J1dHRvblRleHRCb3gpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIC8qKlxuICAgICAqIFRoZSBob3Jpem9udGFsIHRyYW5zZm9ybSBvcmlnaW4gZm9yIHRoZSBsYXJnZSB0aXRsZVxuICAgICAqL1xuICAgIGNvbnN0IE9SSUdJTl9YID0gcnRsID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICBjb25zdCBUSVRMRV9TVEFSVF9PRkZTRVQgPSBydGwgPyBgY2FsYygxMDAlIC0gJHtsYXJnZVRpdGxlQm94LnJpZ2h0fXB4KWAgOiBgJHtsYXJnZVRpdGxlQm94LmxlZnR9cHhgO1xuICAgIC8qKlxuICAgICAqIFRoZSBjbG9uZWQgbGFyZ2Ugc2hvdWxkIGFsaWduIGV4YWN0bHkgd2l0aCB0aGVcbiAgICAgKiByZWFsIGxhcmdlIHRpdGxlIG9uIHRoZSBsZWF2aW5nIHBhZ2Ugb3RoZXJ3aXNlIHRoZXJlIHdpbGxcbiAgICAgKiBiZSBhIGxheW91dCBzaGlmdC5cbiAgICAgKi9cbiAgICBjb25zdCBTVEFSVF9UUkFOU0xBVEVfWCA9ICcwcHgnO1xuICAgIGNvbnN0IFNUQVJUX1RSQU5TTEFURV9ZID0gYCR7bGFyZ2VUaXRsZUJveC50b3B9cHhgO1xuICAgIC8qKlxuICAgICAqIEhvdyBtdWNoIHRvIG9mZnNldCB0aGUgbGFyZ2UgdGl0bGUgdHJhbnNsYXRpb24gYnkuXG4gICAgICogVGhpcyBhY2NvdW50cyBmb3IgZGlmZmVyZW5jZXMgaW4gc2l6aW5nIGJldHdlZW4gdGhlIGxhcmdlXG4gICAgICogdGl0bGUgYW5kIHRoZSBiYWNrIGJ1dHRvbiBkdWUgdG8gcGFkZGluZyBhbmQgZm9udCB3ZWlnaHQuXG4gICAgICovXG4gICAgY29uc3QgTEFSR0VfVElUTEVfVFJBTlNMQVRJT05fT0ZGU0VUID0gODtcbiAgICBsZXQgRU5EX1RSQU5TTEFURV9YID0gcnRsXG4gICAgICAgID8gYC0ke3dpbmRvdy5pbm5lcldpZHRoIC0gYmFja0J1dHRvbkJveC5yaWdodCAtIExBUkdFX1RJVExFX1RSQU5TTEFUSU9OX09GRlNFVH1weGBcbiAgICAgICAgOiBgJHtiYWNrQnV0dG9uQm94LnggKyBMQVJHRV9USVRMRV9UUkFOU0xBVElPTl9PRkZTRVR9cHhgO1xuICAgIC8qKlxuICAgICAqIEhvdyBtdWNoIHRvIHNjYWxlIHRoZSBsYXJnZSB0aXRsZSB1cC9kb3duIGJ5LlxuICAgICAqL1xuICAgIGxldCBIRUlHSFRfU0NBTEUgPSAwLjU7XG4gICAgLyoqXG4gICAgICogVGhlIGxhcmdlIHRpdGxlIGFsd2F5cyBzdGFydHMgZnVsbCBzaXplLlxuICAgICAqL1xuICAgIGNvbnN0IFNUQVJUX1NDQUxFID0gJ3NjYWxlKDEpJztcbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0LCB3ZSBkb24ndCB3b3JyeSBhYm91dCBoYXZpbmcgdGhlIGxhcmdlIHRpdGxlIHNjYWxlZCB0byBwZXJmZWN0bHlcbiAgICAgKiBtYXRjaCB0aGUgYmFjayBidXR0b24gYmVjYXVzZSB3ZSBkb24ndCBrbm93IGlmIHRoZSBiYWNrIGJ1dHRvbidzIHRleHQgbWF0Y2hlc1xuICAgICAqIHRoZSBsYXJnZSB0aXRsZSdzIHRleHQuXG4gICAgICovXG4gICAgbGV0IEVORF9TQ0FMRSA9IGBzY2FsZSgke0hFSUdIVF9TQ0FMRX0pYDtcbiAgICAvLyBUZXh0IGVsZW1lbnQgbm90IHJlbmRlcmVkIGlmIGRldmVsb3BlcnMgcGFzcyB0ZXh0PVwiXCIgdG8gdGhlIGJhY2sgYnV0dG9uXG4gICAgaWYgKGJhY2tCdXR0b25UZXh0RWwgJiYgYmFja0J1dHRvblRleHRCb3gpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZWQgdGl0bGUgc2hvdWxkIChyb3VnaGx5KSBvdmVybGFwIHRoZSBiYWNrIGJ1dHRvbi4gVGhpcyBlbnN1cmVzIHRoYXRcbiAgICAgICAgICogdGhlIGJhY2sgYnV0dG9uIGFuZCB0aXRsZSBvdmVybGFwIGR1cmluZyB0aGUgYW5pbWF0aW9uLiBOb3RlIHRoYXQgc2luY2UgYm90aFxuICAgICAgICAgKiBlbGVtZW50cyBlaXRoZXIgZmFkZSBpbiBvciBmYWRlIG91dCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlIGFuaW1hdGlvbiwgbmVpdGhlclxuICAgICAgICAgKiBlbGVtZW50IHdpbGwgYmUgZnVsbHkgdmlzaWJsZSBvbiB0b3Agb2YgdGhlIG90aGVyLiBBcyBhIHJlc3VsdCwgdGhlIG92ZXJsYXBcbiAgICAgICAgICogZG9lcyBub3QgbmVlZCB0byBiZSBwZXJmZWN0LCBzbyBhcHByb3hpbWF0ZSB2YWx1ZXMgYXJlIGFjY2VwdGFibGUgaGVyZS5cbiAgICAgICAgICovXG4gICAgICAgIEVORF9UUkFOU0xBVEVfWCA9IHJ0bFxuICAgICAgICAgICAgPyBgLSR7d2luZG93LmlubmVyV2lkdGggLSBiYWNrQnV0dG9uVGV4dEJveC5yaWdodCAtIExBUkdFX1RJVExFX1RSQU5TTEFUSU9OX09GRlNFVH1weGBcbiAgICAgICAgICAgIDogYCR7YmFja0J1dHRvblRleHRCb3gueCAtIExBUkdFX1RJVExFX1RSQU5TTEFUSU9OX09GRlNFVH1weGA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbiB0aGUgZm9yd2FyZCBkaXJlY3Rpb24sIHRoZSBsYXJnZSB0aXRsZSBzaG91bGQgc3RhcnQgYXQgaXRzIG5vcm1hbCBzaXplIGFuZFxuICAgICAgICAgKiB0aGVuIHNjYWxlIGRvd24gdG8gYmUgKHJvdWdobHkpIHRoZSBzaXplIG9mIHRoZSBiYWNrIGJ1dHRvbiBvbiB0aGUgb3RoZXIgdmlldy5cbiAgICAgICAgICogSW4gdGhlIGJhY2t3YXJkIGRpcmVjdGlvbiwgdGhlIGxhcmdlIHRpdGxlIHNob3VsZCBzdGFydCBhdCAocm91Z2hseSkgdGhlIHNpemVcbiAgICAgICAgICogb2YgdGhlIGJhY2sgYnV0dG9uIGFuZCB0aGVuIHNjYWxlIHVwIHRvIGl0cyBvcmlnaW5hbCBzaXplLlxuICAgICAgICAgKiBOb3RlIHRoYXQgc2luY2UgYm90aCBlbGVtZW50cyBlaXRoZXIgZmFkZSBpbiBvciBmYWRlIG91dCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlXG4gICAgICAgICAqIGFuaW1hdGlvbiwgbmVpdGhlciBlbGVtZW50IHdpbGwgYmUgZnVsbHkgdmlzaWJsZSBvbiB0b3Agb2YgdGhlIG90aGVyLiBBcyBhIHJlc3VsdCxcbiAgICAgICAgICogdGhlIG92ZXJsYXAgIGRvZXMgbm90IG5lZWQgdG8gYmUgcGVyZmVjdCwgc28gYXBwcm94aW1hdGUgdmFsdWVzIGFyZSBhY2NlcHRhYmxlIGhlcmUuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgdGl0bGUgYW5kIGJhY2sgYnV0dG9uIHRleHRzIG1hdGNoIHRoZW4gdGhleSBzaG91bGQgb3ZlcmxhcCBkdXJpbmcgdGhlXG4gICAgICAgICAqIHBhZ2UgdHJhbnNpdGlvbi4gSWYgdGhlIHRleHRzIGRvIG5vdCBtYXRjaCB1cCB0aGVuIHRoZSBsYXJnZSB0aXRsZSB0ZXh0IHNjYWxlXG4gICAgICAgICAqIGFkanVzdHMgdG8gbm90IHBlcmZlY3RseSBtYXRjaCB0aGUgYmFjayBidXR0b24gdGV4dCBvdGhlcndpc2UgdGhlIHByb3BvcnRpb25zXG4gICAgICAgICAqIHdpbGwgYmUgaW5jb3JyZWN0LiBXaGVuIHRoZSB0ZXh0cyBtYXRjaCB3ZSBzY2FsZSBib3RoIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IHRvXG4gICAgICAgICAqIGFjY291bnQgZm9yIGZvbnQgd2VpZ2h0IGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIHRpdGxlIGFuZCBiYWNrIGJ1dHRvbi5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGRvVGl0bGVBbmRCdXR0b25UZXh0c01hdGNoID0gKChfYSA9IGJhY2tCdXR0b25UZXh0RWwudGV4dENvbnRlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50cmltKCkpID09PSAoKF9iID0gbGFyZ2VUaXRsZUVsLnRleHRDb250ZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudHJpbSgpKTtcbiAgICAgICAgY29uc3QgV0lEVEhfU0NBTEUgPSBiYWNrQnV0dG9uVGV4dEJveC53aWR0aCAvIGxhcmdlVGl0bGVUZXh0Qm94LndpZHRoO1xuICAgICAgICBIRUlHSFRfU0NBTEUgPSBiYWNrQnV0dG9uVGV4dEJveC5oZWlnaHQgLyAobGFyZ2VUaXRsZVRleHRCb3guaGVpZ2h0IC0gTEFSR0VfVElUTEVfU0laRV9PRkZTRVQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRXZlbiB0aG91Z2ggd2Ugc2V0IFRFWFRfU1RBUlRfU0NBTEUgdG8gSEVJR0hUX1NDQUxFIGFib3ZlLCB3ZSBwb3RlbnRpYWxseSBuZWVkXG4gICAgICAgICAqIHRvIHJlLWNvbXB1dGUgdGhpcyBoZXJlIHNpbmNlIHRoZSBIRUlHSFRfU0NBTEUgbWF5IGhhdmUgY2hhbmdlZC5cbiAgICAgICAgICovXG4gICAgICAgIEVORF9TQ0FMRSA9IGRvVGl0bGVBbmRCdXR0b25UZXh0c01hdGNoID8gYHNjYWxlKCR7V0lEVEhfU0NBTEV9LCAke0hFSUdIVF9TQ0FMRX0pYCA6IGBzY2FsZSgke0hFSUdIVF9TQ0FMRX0pYDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG1pZHBvaW50cyBvZiB0aGUgYmFjayBidXR0b24gYW5kIHRoZSB0aXRsZSBzaG91bGQgYWxpZ24gc3VjaCB0aGF0IHRoZSBiYWNrXG4gICAgICogYnV0dG9uIGFuZCB0aXRsZSBhcHBlYXIgdG8gYmUgY2VudGVyZWQgd2l0aCBlYWNoIG90aGVyLlxuICAgICAqL1xuICAgIGNvbnN0IGJhY2tCdXR0b25NaWRQb2ludCA9IGJhY2tCdXR0b25Cb3gudG9wICsgYmFja0J1dHRvbkJveC5oZWlnaHQgLyAyO1xuICAgIGNvbnN0IHRpdGxlTWlkUG9pbnQgPSAobGFyZ2VUaXRsZUJveC5oZWlnaHQgKiBIRUlHSFRfU0NBTEUpIC8gMjtcbiAgICBjb25zdCBFTkRfVFJBTlNMQVRFX1kgPSBgJHtiYWNrQnV0dG9uTWlkUG9pbnQgLSB0aXRsZU1pZFBvaW50fXB4YDtcbiAgICBjb25zdCBCQUNLV0FSRFNfS0VZRlJBTUVTID0gW1xuICAgICAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHtFTkRfVFJBTlNMQVRFX1h9LCAke0VORF9UUkFOU0xBVEVfWX0sIDApICR7RU5EX1NDQUxFfWAgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDAuMSwgb3BhY2l0eTogMCB9LFxuICAgICAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHtTVEFSVF9UUkFOU0xBVEVfWH0sICR7U1RBUlRfVFJBTlNMQVRFX1l9LCAwKSAke1NUQVJUX1NDQUxFfWAgfSxcbiAgICBdO1xuICAgIGNvbnN0IEZPUldBUkRTX0tFWUZSQU1FUyA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgb3BhY2l0eTogMC45OSxcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKCR7U1RBUlRfVFJBTlNMQVRFX1h9LCAke1NUQVJUX1RSQU5TTEFURV9ZfSwgMCkgJHtTVEFSVF9TQ0FMRX1gLFxuICAgICAgICB9LFxuICAgICAgICB7IG9mZnNldDogMC42LCBvcGFjaXR5OiAwIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke0VORF9UUkFOU0xBVEVfWH0sICR7RU5EX1RSQU5TTEFURV9ZfSwgMCkgJHtFTkRfU0NBTEV9YCB9LFxuICAgIF07XG4gICAgY29uc3QgS0VZRlJBTUVTID0gYmFja0RpcmVjdGlvbiA/IEJBQ0tXQVJEU19LRVlGUkFNRVMgOiBGT1JXQVJEU19LRVlGUkFNRVM7XG4gICAgY29uc3QgY2xvbmVkVGl0bGVFbCA9IGdldENsb25lZEVsZW1lbnQoJ2lvbi10aXRsZScpO1xuICAgIGNvbnN0IGNsb25lZExhcmdlVGl0bGVBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICBjbG9uZWRUaXRsZUVsLmlubmVyVGV4dCA9IGxhcmdlVGl0bGVFbC5pbm5lclRleHQ7XG4gICAgY2xvbmVkVGl0bGVFbC5zaXplID0gbGFyZ2VUaXRsZUVsLnNpemU7XG4gICAgY2xvbmVkVGl0bGVFbC5jb2xvciA9IGxhcmdlVGl0bGVFbC5jb2xvcjtcbiAgICBjbG9uZWRMYXJnZVRpdGxlQW5pbWF0aW9uLmFkZEVsZW1lbnQoY2xvbmVkVGl0bGVFbCk7XG4gICAgY2xvbmVkTGFyZ2VUaXRsZUFuaW1hdGlvblxuICAgICAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAgICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiBgJHtPUklHSU5fWH0gdG9wYCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNpbmNlIGZvbnQgc2l6ZSBjaGFuZ2VzIHdpbGwgY2F1c2VcbiAgICAgICAgICogdGhlIGRpbWVuc2lvbiBvZiB0aGUgbGFyZ2UgdGl0bGUgdG8gY2hhbmdlXG4gICAgICAgICAqIHdlIG5lZWQgdG8gc2V0IHRoZSBjbG9uZWQgdGl0bGUgaGVpZ2h0XG4gICAgICAgICAqIGVxdWFsIHRvIHRoYXQgb2YgdGhlIG9yaWdpbmFsIGxhcmdlIHRpdGxlIGhlaWdodC5cbiAgICAgICAgICovXG4gICAgICAgIGhlaWdodDogYCR7bGFyZ2VUaXRsZUJveC5oZWlnaHR9cHhgLFxuICAgICAgICBkaXNwbGF5OiAnJyxcbiAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgIFtPUklHSU5fWF06IFRJVExFX1NUQVJUX09GRlNFVCxcbiAgICB9KVxuICAgICAgICAuYmVmb3JlQWRkV3JpdGUoKCkgPT4ge1xuICAgICAgICBsYXJnZVRpdGxlRWwuc3R5bGUuc2V0UHJvcGVydHkoJ29wYWNpdHknLCAnMCcpO1xuICAgIH0pXG4gICAgICAgIC5hZnRlckFkZFdyaXRlKCgpID0+IHtcbiAgICAgICAgbGFyZ2VUaXRsZUVsLnN0eWxlLnNldFByb3BlcnR5KCdvcGFjaXR5JywgJycpO1xuICAgICAgICBjbG9uZWRUaXRsZUVsLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICB9KVxuICAgICAgICAua2V5ZnJhbWVzKEtFWUZSQU1FUyk7XG4gICAgcm9vdEFuaW1hdGlvbi5hZGRBbmltYXRpb24oY2xvbmVkTGFyZ2VUaXRsZUFuaW1hdGlvbik7XG59O1xuY29uc3QgaW9zVHJhbnNpdGlvbkFuaW1hdGlvbiA9IChuYXZFbCwgb3B0cykgPT4ge1xuICAgIHZhciBfYTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBFQVNJTkcgPSAnY3ViaWMtYmV6aWVyKDAuMzIsMC43MiwwLDEpJztcbiAgICAgICAgY29uc3QgT1BBQ0lUWSA9ICdvcGFjaXR5JztcbiAgICAgICAgY29uc3QgVFJBTlNGT1JNID0gJ3RyYW5zZm9ybSc7XG4gICAgICAgIGNvbnN0IENFTlRFUiA9ICcwJSc7XG4gICAgICAgIGNvbnN0IE9GRl9PUEFDSVRZID0gMC44O1xuICAgICAgICBjb25zdCBpc1JUTCA9IG5hdkVsLm93bmVyRG9jdW1lbnQuZGlyID09PSAncnRsJztcbiAgICAgICAgY29uc3QgT0ZGX1JJR0hUID0gaXNSVEwgPyAnLTk5LjUlJyA6ICc5OS41JSc7XG4gICAgICAgIGNvbnN0IE9GRl9MRUZUID0gaXNSVEwgPyAnMzMlJyA6ICctMzMlJztcbiAgICAgICAgY29uc3QgZW50ZXJpbmdFbCA9IG9wdHMuZW50ZXJpbmdFbDtcbiAgICAgICAgY29uc3QgbGVhdmluZ0VsID0gb3B0cy5sZWF2aW5nRWw7XG4gICAgICAgIGNvbnN0IGJhY2tEaXJlY3Rpb24gPSBvcHRzLmRpcmVjdGlvbiA9PT0gJ2JhY2snO1xuICAgICAgICBjb25zdCBjb250ZW50RWwgPSBlbnRlcmluZ0VsLnF1ZXJ5U2VsZWN0b3IoJzpzY29wZSA+IGlvbi1jb250ZW50Jyk7XG4gICAgICAgIGNvbnN0IGhlYWRlckVscyA9IGVudGVyaW5nRWwucXVlcnlTZWxlY3RvckFsbCgnOnNjb3BlID4gaW9uLWhlYWRlciA+ICo6bm90KGlvbi10b29sYmFyKSwgOnNjb3BlID4gaW9uLWZvb3RlciA+IConKTtcbiAgICAgICAgY29uc3QgZW50ZXJpbmdUb29sQmFyRWxzID0gZW50ZXJpbmdFbC5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiBpb24taGVhZGVyID4gaW9uLXRvb2xiYXInKTtcbiAgICAgICAgY29uc3Qgcm9vdEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICBjb25zdCBlbnRlcmluZ0NvbnRlbnRBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgcm9vdEFuaW1hdGlvblxuICAgICAgICAgICAgLmFkZEVsZW1lbnQoZW50ZXJpbmdFbClcbiAgICAgICAgICAgIC5kdXJhdGlvbigoKF9hID0gb3B0cy5kdXJhdGlvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCkgfHwgRFVSQVRJT04pXG4gICAgICAgICAgICAuZWFzaW5nKG9wdHMuZWFzaW5nIHx8IEVBU0lORylcbiAgICAgICAgICAgIC5maWxsKCdib3RoJylcbiAgICAgICAgICAgIC5iZWZvcmVSZW1vdmVDbGFzcygnaW9uLXBhZ2UtaW52aXNpYmxlJyk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcHJlZmVyLW9wdGlvbmFsLWNoYWluXG4gICAgICAgIGlmIChsZWF2aW5nRWwgJiYgbmF2RWwgIT09IG51bGwgJiYgbmF2RWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgbmF2RGVjb3JBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgIG5hdkRlY29yQW5pbWF0aW9uLmFkZEVsZW1lbnQobmF2RWwpO1xuICAgICAgICAgICAgcm9vdEFuaW1hdGlvbi5hZGRBbmltYXRpb24obmF2RGVjb3JBbmltYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29udGVudEVsICYmIGVudGVyaW5nVG9vbEJhckVscy5sZW5ndGggPT09IDAgJiYgaGVhZGVyRWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50ZXJpbmdDb250ZW50QW5pbWF0aW9uLmFkZEVsZW1lbnQoZW50ZXJpbmdFbC5xdWVyeVNlbGVjdG9yKCc6c2NvcGUgPiAuaW9uLXBhZ2UsIDpzY29wZSA+IGlvbi1uYXYsIDpzY29wZSA+IGlvbi10YWJzJykpOyAvLyBSRVZJRVdcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVudGVyaW5nQ29udGVudEFuaW1hdGlvbi5hZGRFbGVtZW50KGNvbnRlbnRFbCk7IC8vIFJFVklFV1xuICAgICAgICAgICAgZW50ZXJpbmdDb250ZW50QW5pbWF0aW9uLmFkZEVsZW1lbnQoaGVhZGVyRWxzKTtcbiAgICAgICAgfVxuICAgICAgICByb290QW5pbWF0aW9uLmFkZEFuaW1hdGlvbihlbnRlcmluZ0NvbnRlbnRBbmltYXRpb24pO1xuICAgICAgICBpZiAoYmFja0RpcmVjdGlvbikge1xuICAgICAgICAgICAgZW50ZXJpbmdDb250ZW50QW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZXSlcbiAgICAgICAgICAgICAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlWCgke09GRl9MRUZUfSlgLCBgdHJhbnNsYXRlWCgke0NFTlRFUn0pYClcbiAgICAgICAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIE9GRl9PUEFDSVRZLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVudGVyaW5nIGNvbnRlbnQsIGZvcndhcmQgZGlyZWN0aW9uXG4gICAgICAgICAgICBlbnRlcmluZ0NvbnRlbnRBbmltYXRpb25cbiAgICAgICAgICAgICAgICAuYmVmb3JlQ2xlYXJTdHlsZXMoW09QQUNJVFldKVxuICAgICAgICAgICAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7T0ZGX1JJR0hUfSlgLCBgdHJhbnNsYXRlWCgke0NFTlRFUn0pYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRlbnRFbCkge1xuICAgICAgICAgICAgY29uc3QgZW50ZXJpbmdUcmFuc2l0aW9uRWZmZWN0RWwgPSBzaGFkb3coY29udGVudEVsKS5xdWVyeVNlbGVjdG9yKCcudHJhbnNpdGlvbi1lZmZlY3QnKTtcbiAgICAgICAgICAgIGlmIChlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3RFbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudGVyaW5nVHJhbnNpdGlvbkNvdmVyRWwgPSBlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3RFbC5xdWVyeVNlbGVjdG9yKCcudHJhbnNpdGlvbi1jb3ZlcicpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudGVyaW5nVHJhbnNpdGlvblNoYWRvd0VsID0gZW50ZXJpbmdUcmFuc2l0aW9uRWZmZWN0RWwucXVlcnlTZWxlY3RvcignLnRyYW5zaXRpb24tc2hhZG93Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50ZXJpbmdUcmFuc2l0aW9uRWZmZWN0ID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50ZXJpbmdUcmFuc2l0aW9uQ292ZXIgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRlcmluZ1RyYW5zaXRpb25TaGFkb3cgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3RcbiAgICAgICAgICAgICAgICAgICAgLmFkZEVsZW1lbnQoZW50ZXJpbmdUcmFuc2l0aW9uRWZmZWN0RWwpXG4gICAgICAgICAgICAgICAgICAgIC5iZWZvcmVTdHlsZXMoeyBvcGFjaXR5OiAnMScsIGRpc3BsYXk6ICdibG9jaycgfSlcbiAgICAgICAgICAgICAgICAgICAgLmFmdGVyU3R5bGVzKHsgb3BhY2l0eTogJycsIGRpc3BsYXk6ICcnIH0pO1xuICAgICAgICAgICAgICAgIGVudGVyaW5nVHJhbnNpdGlvbkNvdmVyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRFbGVtZW50KGVudGVyaW5nVHJhbnNpdGlvbkNvdmVyRWwpIC8vIFJFVklFV1xuICAgICAgICAgICAgICAgICAgICAuYmVmb3JlQ2xlYXJTdHlsZXMoW09QQUNJVFldKVxuICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIDAsIDAuMSk7XG4gICAgICAgICAgICAgICAgZW50ZXJpbmdUcmFuc2l0aW9uU2hhZG93XG4gICAgICAgICAgICAgICAgICAgIC5hZGRFbGVtZW50KGVudGVyaW5nVHJhbnNpdGlvblNoYWRvd0VsKSAvLyBSRVZJRVdcbiAgICAgICAgICAgICAgICAgICAgLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZXSlcbiAgICAgICAgICAgICAgICAgICAgLmZyb21UbyhPUEFDSVRZLCAwLjAzLCAwLjcpO1xuICAgICAgICAgICAgICAgIGVudGVyaW5nVHJhbnNpdGlvbkVmZmVjdC5hZGRBbmltYXRpb24oW2VudGVyaW5nVHJhbnNpdGlvbkNvdmVyLCBlbnRlcmluZ1RyYW5zaXRpb25TaGFkb3ddKTtcbiAgICAgICAgICAgICAgICBlbnRlcmluZ0NvbnRlbnRBbmltYXRpb24uYWRkQW5pbWF0aW9uKFtlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3RdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbnRlcmluZ0NvbnRlbnRIYXNMYXJnZVRpdGxlID0gZW50ZXJpbmdFbC5xdWVyeVNlbGVjdG9yKCdpb24taGVhZGVyLmhlYWRlci1jb2xsYXBzZS1jb25kZW5zZScpO1xuICAgICAgICBjb25zdCB7IGZvcndhcmQsIGJhY2t3YXJkIH0gPSBjcmVhdGVMYXJnZVRpdGxlVHJhbnNpdGlvbihyb290QW5pbWF0aW9uLCBpc1JUTCwgYmFja0RpcmVjdGlvbiwgZW50ZXJpbmdFbCwgbGVhdmluZ0VsKTtcbiAgICAgICAgZW50ZXJpbmdUb29sQmFyRWxzLmZvckVhY2goKGVudGVyaW5nVG9vbEJhckVsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbnRlcmluZ1Rvb2xCYXIgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgIGVudGVyaW5nVG9vbEJhci5hZGRFbGVtZW50KGVudGVyaW5nVG9vbEJhckVsKTtcbiAgICAgICAgICAgIHJvb3RBbmltYXRpb24uYWRkQW5pbWF0aW9uKGVudGVyaW5nVG9vbEJhcik7XG4gICAgICAgICAgICBjb25zdCBlbnRlcmluZ1RpdGxlID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBlbnRlcmluZ1RpdGxlLmFkZEVsZW1lbnQoZW50ZXJpbmdUb29sQmFyRWwucXVlcnlTZWxlY3RvcignaW9uLXRpdGxlJykpOyAvLyBSRVZJRVdcbiAgICAgICAgICAgIGNvbnN0IGVudGVyaW5nVG9vbEJhckJ1dHRvbnMgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBBcnJheS5mcm9tKGVudGVyaW5nVG9vbEJhckVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lvbi1idXR0b25zLFttZW51VG9nZ2xlXScpKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudEhlYWRlciA9IGVudGVyaW5nVG9vbEJhckVsLmNsb3Nlc3QoJ2lvbi1oZWFkZXInKTtcbiAgICAgICAgICAgIGNvbnN0IGluYWN0aXZlSGVhZGVyID0gcGFyZW50SGVhZGVyID09PSBudWxsIHx8IHBhcmVudEhlYWRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50SGVhZGVyLmNsYXNzTGlzdC5jb250YWlucygnaGVhZGVyLWNvbGxhcHNlLWNvbmRlbnNlLWluYWN0aXZlJyk7XG4gICAgICAgICAgICBsZXQgYnV0dG9uc1RvQW5pbWF0ZTtcbiAgICAgICAgICAgIGlmIChiYWNrRGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgYnV0dG9uc1RvQW5pbWF0ZSA9IGJ1dHRvbnMuZmlsdGVyKChidXR0b24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNDb2xsYXBzZUJ1dHRvbiA9IGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2J1dHRvbnMtY29sbGFwc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc0NvbGxhcHNlQnV0dG9uICYmICFpbmFjdGl2ZUhlYWRlcikgfHwgIWlzQ29sbGFwc2VCdXR0b247XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBidXR0b25zVG9BbmltYXRlID0gYnV0dG9ucy5maWx0ZXIoKGJ1dHRvbikgPT4gIWJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2J1dHRvbnMtY29sbGFwc2UnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJCdXR0b25zLmFkZEVsZW1lbnQoYnV0dG9uc1RvQW5pbWF0ZSk7XG4gICAgICAgICAgICBjb25zdCBlbnRlcmluZ1Rvb2xCYXJJdGVtcyA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgZW50ZXJpbmdUb29sQmFySXRlbXMuYWRkRWxlbWVudChlbnRlcmluZ1Rvb2xCYXJFbC5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiAqOm5vdChpb24tdGl0bGUpOm5vdChpb24tYnV0dG9ucyk6bm90KFttZW51VG9nZ2xlXSknKSk7XG4gICAgICAgICAgICBjb25zdCBlbnRlcmluZ1Rvb2xCYXJCZyA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgZW50ZXJpbmdUb29sQmFyQmcuYWRkRWxlbWVudChzaGFkb3coZW50ZXJpbmdUb29sQmFyRWwpLnF1ZXJ5U2VsZWN0b3IoJy50b29sYmFyLWJhY2tncm91bmQnKSk7IC8vIFJFVklFV1xuICAgICAgICAgICAgY29uc3QgZW50ZXJpbmdCYWNrQnV0dG9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBjb25zdCBiYWNrQnV0dG9uRWwgPSBlbnRlcmluZ1Rvb2xCYXJFbC5xdWVyeVNlbGVjdG9yKCdpb24tYmFjay1idXR0b24nKTtcbiAgICAgICAgICAgIGlmIChiYWNrQnV0dG9uRWwpIHtcbiAgICAgICAgICAgICAgICBlbnRlcmluZ0JhY2tCdXR0b24uYWRkRWxlbWVudChiYWNrQnV0dG9uRWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW50ZXJpbmdUb29sQmFyLmFkZEFuaW1hdGlvbihbXG4gICAgICAgICAgICAgICAgZW50ZXJpbmdUaXRsZSxcbiAgICAgICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJCdXR0b25zLFxuICAgICAgICAgICAgICAgIGVudGVyaW5nVG9vbEJhckl0ZW1zLFxuICAgICAgICAgICAgICAgIGVudGVyaW5nVG9vbEJhckJnLFxuICAgICAgICAgICAgICAgIGVudGVyaW5nQmFja0J1dHRvbixcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgZW50ZXJpbmdUb29sQmFyQnV0dG9ucy5mcm9tVG8oT1BBQ0lUWSwgMC4wMSwgMSk7XG4gICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJJdGVtcy5mcm9tVG8oT1BBQ0lUWSwgMC4wMSwgMSk7XG4gICAgICAgICAgICBpZiAoYmFja0RpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmICghaW5hY3RpdmVIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50ZXJpbmdUaXRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtPRkZfTEVGVH0pYCwgYHRyYW5zbGF0ZVgoJHtDRU5URVJ9KWApXG4gICAgICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIDAuMDEsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJJdGVtcy5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7T0ZGX0xFRlR9KWAsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgKTtcbiAgICAgICAgICAgICAgICAvLyBiYWNrIGRpcmVjdGlvbiwgZW50ZXJpbmcgcGFnZSBoYXMgYSBiYWNrIGJ1dHRvblxuICAgICAgICAgICAgICAgIGVudGVyaW5nQmFja0J1dHRvbi5mcm9tVG8oT1BBQ0lUWSwgMC4wMSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBlbnRlcmluZyB0b29sYmFyLCBmb3J3YXJkIGRpcmVjdGlvblxuICAgICAgICAgICAgICAgIGlmICghZW50ZXJpbmdDb250ZW50SGFzTGFyZ2VUaXRsZSkge1xuICAgICAgICAgICAgICAgICAgICBlbnRlcmluZ1RpdGxlXG4gICAgICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlWCgke09GRl9SSUdIVH0pYCwgYHRyYW5zbGF0ZVgoJHtDRU5URVJ9KWApXG4gICAgICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIDAuMDEsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJJdGVtcy5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7T0ZGX1JJR0hUfSlgLCBgdHJhbnNsYXRlWCgke0NFTlRFUn0pYCk7XG4gICAgICAgICAgICAgICAgZW50ZXJpbmdUb29sQmFyQmcuYmVmb3JlQ2xlYXJTdHlsZXMoW09QQUNJVFksICd0cmFuc2Zvcm0nXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNsdWNlbnRIZWFkZXIgPSBwYXJlbnRIZWFkZXIgPT09IG51bGwgfHwgcGFyZW50SGVhZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnRIZWFkZXIudHJhbnNsdWNlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFuc2x1Y2VudEhlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJCZy5mcm9tVG8oT1BBQ0lUWSwgMC4wMSwgJ3ZhcigtLW9wYWNpdHkpJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJCZy5mcm9tVG8oJ3RyYW5zZm9ybScsIGlzUlRMID8gJ3RyYW5zbGF0ZVgoLTEwMCUpJyA6ICd0cmFuc2xhdGVYKDEwMCUpJywgJ3RyYW5zbGF0ZVgoMHB4KScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBmb3J3YXJkIGRpcmVjdGlvbiwgZW50ZXJpbmcgcGFnZSBoYXMgYSBiYWNrIGJ1dHRvblxuICAgICAgICAgICAgICAgIGlmICghZm9yd2FyZCkge1xuICAgICAgICAgICAgICAgICAgICBlbnRlcmluZ0JhY2tCdXR0b24uZnJvbVRvKE9QQUNJVFksIDAuMDEsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYmFja0J1dHRvbkVsICYmICFmb3J3YXJkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudGVyaW5nQmFja0J0blRleHQgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgZW50ZXJpbmdCYWNrQnRuVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEVsZW1lbnQoc2hhZG93KGJhY2tCdXR0b25FbCkucXVlcnlTZWxlY3RvcignLmJ1dHRvbi10ZXh0JykpIC8vIFJFVklFV1xuICAgICAgICAgICAgICAgICAgICAgICAgLmZyb21UbyhgdHJhbnNmb3JtYCwgaXNSVEwgPyAndHJhbnNsYXRlWCgtMTAwcHgpJyA6ICd0cmFuc2xhdGVYKDEwMHB4KScsICd0cmFuc2xhdGVYKDBweCknKTtcbiAgICAgICAgICAgICAgICAgICAgZW50ZXJpbmdUb29sQmFyLmFkZEFuaW1hdGlvbihlbnRlcmluZ0JhY2tCdG5UZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBzZXR1cCBsZWF2aW5nIHZpZXdcbiAgICAgICAgaWYgKGxlYXZpbmdFbCkge1xuICAgICAgICAgICAgY29uc3QgbGVhdmluZ0NvbnRlbnQgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdDb250ZW50RWwgPSBsZWF2aW5nRWwucXVlcnlTZWxlY3RvcignOnNjb3BlID4gaW9uLWNvbnRlbnQnKTtcbiAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdUb29sQmFyRWxzID0gbGVhdmluZ0VsLnF1ZXJ5U2VsZWN0b3JBbGwoJzpzY29wZSA+IGlvbi1oZWFkZXIgPiBpb24tdG9vbGJhcicpO1xuICAgICAgICAgICAgY29uc3QgbGVhdmluZ0hlYWRlckVscyA9IGxlYXZpbmdFbC5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiBpb24taGVhZGVyID4gKjpub3QoaW9uLXRvb2xiYXIpLCA6c2NvcGUgPiBpb24tZm9vdGVyID4gKicpO1xuICAgICAgICAgICAgaWYgKCFsZWF2aW5nQ29udGVudEVsICYmIGxlYXZpbmdUb29sQmFyRWxzLmxlbmd0aCA9PT0gMCAmJiBsZWF2aW5nSGVhZGVyRWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGxlYXZpbmdDb250ZW50LmFkZEVsZW1lbnQobGVhdmluZ0VsLnF1ZXJ5U2VsZWN0b3IoJzpzY29wZSA+IC5pb24tcGFnZSwgOnNjb3BlID4gaW9uLW5hdiwgOnNjb3BlID4gaW9uLXRhYnMnKSk7IC8vIFJFVklFV1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGVhdmluZ0NvbnRlbnQuYWRkRWxlbWVudChsZWF2aW5nQ29udGVudEVsKTsgLy8gUkVWSUVXXG4gICAgICAgICAgICAgICAgbGVhdmluZ0NvbnRlbnQuYWRkRWxlbWVudChsZWF2aW5nSGVhZGVyRWxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvb3RBbmltYXRpb24uYWRkQW5pbWF0aW9uKGxlYXZpbmdDb250ZW50KTtcbiAgICAgICAgICAgIGlmIChiYWNrRGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gbGVhdmluZyBjb250ZW50LCBiYWNrIGRpcmVjdGlvblxuICAgICAgICAgICAgICAgIGxlYXZpbmdDb250ZW50XG4gICAgICAgICAgICAgICAgICAgIC5iZWZvcmVDbGVhclN0eWxlcyhbT1BBQ0lUWV0pXG4gICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgLCBpc1JUTCA/ICd0cmFuc2xhdGVYKC0xMDAlKScgOiAndHJhbnNsYXRlWCgxMDAlKScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdQYWdlID0gZ2V0SW9uUGFnZUVsZW1lbnQobGVhdmluZ0VsKTtcbiAgICAgICAgICAgICAgICByb290QW5pbWF0aW9uLmFmdGVyQWRkV3JpdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocm9vdEFuaW1hdGlvbi5nZXREaXJlY3Rpb24oKSA9PT0gJ25vcm1hbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZpbmdQYWdlLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbGVhdmluZyBjb250ZW50LCBmb3J3YXJkIGRpcmVjdGlvblxuICAgICAgICAgICAgICAgIGxlYXZpbmdDb250ZW50XG4gICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgLCBgdHJhbnNsYXRlWCgke09GRl9MRUZUfSlgKVxuICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIDEsIE9GRl9PUEFDSVRZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsZWF2aW5nQ29udGVudEVsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ1RyYW5zaXRpb25FZmZlY3RFbCA9IHNoYWRvdyhsZWF2aW5nQ29udGVudEVsKS5xdWVyeVNlbGVjdG9yKCcudHJhbnNpdGlvbi1lZmZlY3QnKTtcbiAgICAgICAgICAgICAgICBpZiAobGVhdmluZ1RyYW5zaXRpb25FZmZlY3RFbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nVHJhbnNpdGlvbkNvdmVyRWwgPSBsZWF2aW5nVHJhbnNpdGlvbkVmZmVjdEVsLnF1ZXJ5U2VsZWN0b3IoJy50cmFuc2l0aW9uLWNvdmVyJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdUcmFuc2l0aW9uU2hhZG93RWwgPSBsZWF2aW5nVHJhbnNpdGlvbkVmZmVjdEVsLnF1ZXJ5U2VsZWN0b3IoJy50cmFuc2l0aW9uLXNoYWRvdycpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nVHJhbnNpdGlvbkVmZmVjdCA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nVHJhbnNpdGlvbkNvdmVyID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdUcmFuc2l0aW9uU2hhZG93ID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUcmFuc2l0aW9uRWZmZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkRWxlbWVudChsZWF2aW5nVHJhbnNpdGlvbkVmZmVjdEVsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmJlZm9yZVN0eWxlcyh7IG9wYWNpdHk6ICcxJywgZGlzcGxheTogJ2Jsb2NrJyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFmdGVyU3R5bGVzKHsgb3BhY2l0eTogJycsIGRpc3BsYXk6ICcnIH0pO1xuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVHJhbnNpdGlvbkNvdmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkRWxlbWVudChsZWF2aW5nVHJhbnNpdGlvbkNvdmVyRWwpIC8vIFJFVklFV1xuICAgICAgICAgICAgICAgICAgICAgICAgLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oT1BBQ0lUWSwgMC4xLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1RyYW5zaXRpb25TaGFkb3dcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRFbGVtZW50KGxlYXZpbmdUcmFuc2l0aW9uU2hhZG93RWwpIC8vIFJFVklFV1xuICAgICAgICAgICAgICAgICAgICAgICAgLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oT1BBQ0lUWSwgMC43LCAwLjAzKTtcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1RyYW5zaXRpb25FZmZlY3QuYWRkQW5pbWF0aW9uKFtsZWF2aW5nVHJhbnNpdGlvbkNvdmVyLCBsZWF2aW5nVHJhbnNpdGlvblNoYWRvd10pO1xuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nQ29udGVudC5hZGRBbmltYXRpb24oW2xlYXZpbmdUcmFuc2l0aW9uRWZmZWN0XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXJFbHMuZm9yRWFjaCgobGVhdmluZ1Rvb2xCYXJFbCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdUb29sQmFyID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXIuYWRkRWxlbWVudChsZWF2aW5nVG9vbEJhckVsKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nVGl0bGUgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBsZWF2aW5nVGl0bGUuYWRkRWxlbWVudChsZWF2aW5nVG9vbEJhckVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi10aXRsZScpKTsgLy8gUkVWSUVXXG4gICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ1Rvb2xCYXJCdXR0b25zID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9ucyA9IGxlYXZpbmdUb29sQmFyRWwucXVlcnlTZWxlY3RvckFsbCgnaW9uLWJ1dHRvbnMsW21lbnVUb2dnbGVdJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50SGVhZGVyID0gbGVhdmluZ1Rvb2xCYXJFbC5jbG9zZXN0KCdpb24taGVhZGVyJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5hY3RpdmVIZWFkZXIgPSBwYXJlbnRIZWFkZXIgPT09IG51bGwgfHwgcGFyZW50SGVhZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnRIZWFkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdoZWFkZXItY29sbGFwc2UtY29uZGVuc2UtaW5hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBidXR0b25zVG9BbmltYXRlID0gQXJyYXkuZnJvbShidXR0b25zKS5maWx0ZXIoKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0NvbGxhcHNlQnV0dG9uID0gYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnYnV0dG9ucy1jb2xsYXBzZScpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGlzQ29sbGFwc2VCdXR0b24gJiYgIWluYWN0aXZlSGVhZGVyKSB8fCAhaXNDb2xsYXBzZUJ1dHRvbjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckJ1dHRvbnMuYWRkRWxlbWVudChidXR0b25zVG9BbmltYXRlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nVG9vbEJhckl0ZW1zID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ1Rvb2xCYXJJdGVtRWxzID0gbGVhdmluZ1Rvb2xCYXJFbC5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiAqOm5vdChpb24tdGl0bGUpOm5vdChpb24tYnV0dG9ucyk6bm90KFttZW51VG9nZ2xlXSknKTtcbiAgICAgICAgICAgICAgICBpZiAobGVhdmluZ1Rvb2xCYXJJdGVtRWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXJJdGVtcy5hZGRFbGVtZW50KGxlYXZpbmdUb29sQmFySXRlbUVscyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdUb29sQmFyQmcgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckJnLmFkZEVsZW1lbnQoc2hhZG93KGxlYXZpbmdUb29sQmFyRWwpLnF1ZXJ5U2VsZWN0b3IoJy50b29sYmFyLWJhY2tncm91bmQnKSk7IC8vIFJFVklFV1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdCYWNrQnV0dG9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFja0J1dHRvbkVsID0gbGVhdmluZ1Rvb2xCYXJFbC5xdWVyeVNlbGVjdG9yKCdpb24tYmFjay1idXR0b24nKTtcbiAgICAgICAgICAgICAgICBpZiAoYmFja0J1dHRvbkVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdCYWNrQnV0dG9uLmFkZEVsZW1lbnQoYmFja0J1dHRvbkVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXIuYWRkQW5pbWF0aW9uKFtcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1RpdGxlLFxuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckJ1dHRvbnMsXG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUb29sQmFySXRlbXMsXG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdCYWNrQnV0dG9uLFxuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckJnLFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIHJvb3RBbmltYXRpb24uYWRkQW5pbWF0aW9uKGxlYXZpbmdUb29sQmFyKTtcbiAgICAgICAgICAgICAgICAvLyBmYWRlIG91dCBsZWF2aW5nIHRvb2xiYXIgaXRlbXNcbiAgICAgICAgICAgICAgICBsZWF2aW5nQmFja0J1dHRvbi5mcm9tVG8oT1BBQ0lUWSwgMC45OSwgMCk7XG4gICAgICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXJCdXR0b25zLmZyb21UbyhPUEFDSVRZLCAwLjk5LCAwKTtcbiAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckl0ZW1zLmZyb21UbyhPUEFDSVRZLCAwLjk5LCAwKTtcbiAgICAgICAgICAgICAgICBpZiAoYmFja0RpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWluYWN0aXZlSGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZWF2aW5nIHRvb2xiYXIsIGJhY2sgZGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlWCgke0NFTlRFUn0pYCwgaXNSVEwgPyAndHJhbnNsYXRlWCgtMTAwJSknIDogJ3RyYW5zbGF0ZVgoMTAwJSknKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oT1BBQ0lUWSwgMC45OSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXJJdGVtcy5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgLCBpc1JUTCA/ICd0cmFuc2xhdGVYKC0xMDAlKScgOiAndHJhbnNsYXRlWCgxMDAlKScpO1xuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckJnLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZLCAndHJhbnNmb3JtJ10pO1xuICAgICAgICAgICAgICAgICAgICAvLyBsZWF2aW5nIHRvb2xiYXIsIGJhY2sgZGlyZWN0aW9uLCBhbmQgdGhlcmUncyBubyBlbnRlcmluZyB0b29sYmFyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBqdXN0IHNsaWRlIG91dCwgbm8gZmFkaW5nIG91dFxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2x1Y2VudEhlYWRlciA9IHBhcmVudEhlYWRlciA9PT0gbnVsbCB8fCBwYXJlbnRIZWFkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudEhlYWRlci50cmFuc2x1Y2VudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFuc2x1Y2VudEhlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXJCZy5mcm9tVG8oT1BBQ0lUWSwgJ3ZhcigtLW9wYWNpdHkpJywgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckJnLmZyb21UbygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZVgoMHB4KScsIGlzUlRMID8gJ3RyYW5zbGF0ZVgoLTEwMCUpJyA6ICd0cmFuc2xhdGVYKDEwMCUpJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhY2tCdXR0b25FbCAmJiAhYmFja3dhcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdCYWNrQnRuVGV4dCA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVhdmluZ0JhY2tCdG5UZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEVsZW1lbnQoc2hhZG93KGJhY2tCdXR0b25FbCkucXVlcnlTZWxlY3RvcignLmJ1dHRvbi10ZXh0JykpIC8vIFJFVklFV1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgLCBgdHJhbnNsYXRlWCgkeyhpc1JUTCA/IC0xMjQgOiAxMjQpICsgJ3B4J30pYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhci5hZGRBbmltYXRpb24obGVhdmluZ0JhY2tCdG5UZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbGVhdmluZyB0b29sYmFyLCBmb3J3YXJkIGRpcmVjdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluYWN0aXZlSGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlWCgke0NFTlRFUn0pYCwgYHRyYW5zbGF0ZVgoJHtPRkZfTEVGVH0pYClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIDAuOTksIDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFmdGVyQ2xlYXJTdHlsZXMoW1RSQU5TRk9STSwgT1BBQ0lUWV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUb29sQmFySXRlbXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgLCBgdHJhbnNsYXRlWCgke09GRl9MRUZUfSlgKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFmdGVyQ2xlYXJTdHlsZXMoW1RSQU5TRk9STSwgT1BBQ0lUWV0pO1xuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nQmFja0J1dHRvbi5hZnRlckNsZWFyU3R5bGVzKFtPUEFDSVRZXSk7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUaXRsZS5hZnRlckNsZWFyU3R5bGVzKFtPUEFDSVRZXSk7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUb29sQmFyQnV0dG9ucy5hZnRlckNsZWFyU3R5bGVzKFtPUEFDSVRZXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvb3RBbmltYXRpb247XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbn07XG4vKipcbiAqIFRoZSBzY2FsZSBvZiB0aGUgYmFjayBidXR0b24gZHVyaW5nIHRoZSBhbmltYXRpb25cbiAqIGlzIGNvbXB1dGVkIGJhc2VkIG9uIHRoZSBzY2FsZSBvZiB0aGUgbGFyZ2UgdGl0bGVcbiAqIGFuZCB2aWNlIHZlcnNhLiBIb3dldmVyLCB3ZSBuZWVkIHRvIGFjY291bnQgZm9yIHNsaWdodFxuICogdmFyaWF0aW9ucyBpbiB0aGUgc2l6ZSBvZiB0aGUgbGFyZ2UgdGl0bGUgZHVlIHRvXG4gKiBwYWRkaW5nIGFuZCBmb250IHdlaWdodC4gVGhpcyB2YWx1ZSBzaG91bGQgYmUgdXNlZCB0byBzdWJ0cmFjdFxuICogYSBzbWFsbCBhbW91bnQgZnJvbSB0aGUgbGFyZ2UgdGl0bGUgaGVpZ2h0IHdoZW4gY29tcHV0aW5nIHNjYWxlc1xuICogdG8gZ2V0IG1vcmUgYWNjdXJhdGUgc2NhbGUgcmVzdWx0cy5cbiAqL1xuY29uc3QgTEFSR0VfVElUTEVfU0laRV9PRkZTRVQgPSAxMDtcblxuZXhwb3J0IHsgaW9zVHJhbnNpdGlvbkFuaW1hdGlvbiwgc2hhZG93IH07XG4iXSwibmFtZXMiOlsiYyIsImNyZWF0ZUFuaW1hdGlvbiIsImciLCJnZXRJb25QYWdlRWxlbWVudCIsIkRVUkFUSU9OIiwiZ2V0Q2xvbmVkRWxlbWVudCIsInRhZ05hbWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzaGFkb3ciLCJlbCIsInNoYWRvd1Jvb3QiLCJnZXRMYXJnZVRpdGxlIiwicmVmRWwiLCJ0YWJzIiwicXVlcnkiLCJhY3RpdmVUYWIiLCJnZXRCYWNrQnV0dG9uIiwiYmFja0RpcmVjdGlvbiIsImJ1dHRvbnNMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsImJ1dHRvbnMiLCJwYXJlbnRIZWFkZXIiLCJjbG9zZXN0IiwiYWN0aXZlSGVhZGVyIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJiYWNrQnV0dG9uIiwiYnV0dG9uc0NvbGxhcHNlIiwic3RhcnRTbG90Iiwic2xvdCIsImNyZWF0ZUxhcmdlVGl0bGVUcmFuc2l0aW9uIiwicm9vdEFuaW1hdGlvbiIsInJ0bCIsImVudGVyaW5nRWwiLCJsZWF2aW5nRWwiLCJlbnRlcmluZ0JhY2tCdXR0b24iLCJsZWF2aW5nTGFyZ2VUaXRsZSIsImVudGVyaW5nTGFyZ2VUaXRsZSIsImxlYXZpbmdCYWNrQnV0dG9uIiwic2hvdWxkQW5pbWF0aW9uRm9yd2FyZCIsInNob3VsZEFuaW1hdGlvbkJhY2t3YXJkIiwibGVhdmluZ0xhcmdlVGl0bGVCb3giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJlbnRlcmluZ0JhY2tCdXR0b25Cb3giLCJlbnRlcmluZ0JhY2tCdXR0b25UZXh0RWwiLCJlbnRlcmluZ0JhY2tCdXR0b25UZXh0Qm94IiwibGVhdmluZ0xhcmdlVGl0bGVUZXh0RWwiLCJsZWF2aW5nTGFyZ2VUaXRsZVRleHRCb3giLCJhbmltYXRlTGFyZ2VUaXRsZSIsImFuaW1hdGVCYWNrQnV0dG9uIiwiZW50ZXJpbmdMYXJnZVRpdGxlQm94IiwibGVhdmluZ0JhY2tCdXR0b25Cb3giLCJsZWF2aW5nQmFja0J1dHRvblRleHRFbCIsImxlYXZpbmdCYWNrQnV0dG9uVGV4dEJveCIsImVudGVyaW5nTGFyZ2VUaXRsZVRleHRFbCIsImVudGVyaW5nTGFyZ2VUaXRsZVRleHRCb3giLCJmb3J3YXJkIiwiYmFja3dhcmQiLCJiYWNrQnV0dG9uRWwiLCJiYWNrQnV0dG9uQm94IiwiYmFja0J1dHRvblRleHRFbCIsImJhY2tCdXR0b25UZXh0Qm94IiwibGFyZ2VUaXRsZUVsIiwibGFyZ2VUaXRsZVRleHRCb3giLCJfYSIsIl9iIiwiQkFDS19CVVRUT05fU1RBUlRfT0ZGU0VUIiwicmlnaHQiLCJsZWZ0IiwiVEVYVF9PUklHSU5fWCIsIklDT05fT1JJR0lOX1giLCJDT05UQUlORVJfT1JJR0lOX1giLCJXSURUSF9TQ0FMRSIsIkhFSUdIVF9TQ0FMRSIsIlRFWFRfU1RBUlRfU0NBTEUiLCJURVhUX0VORF9TQ0FMRSIsImRvVGl0bGVBbmRCdXR0b25UZXh0c01hdGNoIiwidGV4dENvbnRlbnQiLCJ0cmltIiwid2lkdGgiLCJoZWlnaHQiLCJMQVJHRV9USVRMRV9TSVpFX09GRlNFVCIsImJhY2tCdXR0b25JY29uRWwiLCJiYWNrQnV0dG9uSWNvbkJveCIsIkNPTlRBSU5FUl9TVEFSVF9UUkFOU0xBVEVfWCIsIkNPTlRBSU5FUl9FTkRfVFJBTlNMQVRFX1giLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiQ09OVEFJTkVSX1NUQVJUX1RSQU5TTEFURV9ZIiwidG9wIiwiQ09OVEFJTkVSX0VORF9UUkFOU0xBVEVfWSIsIkZPUldBUkRfQ09OVEFJTkVSX0tFWUZSQU1FUyIsIm9mZnNldCIsInRyYW5zZm9ybSIsIkJBQ0tXQVJEX0NPTlRBSU5FUl9LRVlGUkFNRVMiLCJDT05UQUlORVJfS0VZRlJBTUVTIiwiRk9SV0FSRF9URVhUX0tFWUZSQU1FUyIsIm9wYWNpdHkiLCJCQUNLV0FSRF9URVhUX0tFWUZSQU1FUyIsIlRFWFRfS0VZRlJBTUVTIiwiRk9SV0FSRF9JQ09OX0tFWUZSQU1FUyIsIkJBQ0tXQVJEX0lDT05fS0VZRlJBTUVTIiwiSUNPTl9LRVlGUkFNRVMiLCJlbnRlcmluZ0JhY2tCdXR0b25UZXh0QW5pbWF0aW9uIiwiZW50ZXJpbmdCYWNrQnV0dG9uSWNvbkFuaW1hdGlvbiIsImVudGVyaW5nQmFja0J1dHRvbkFuaW1hdGlvbiIsImNsb25lZEJhY2tCdXR0b25FbCIsImNsb25lZEJhY2tCdXR0b25UZXh0RWwiLCJjbG9uZWRCYWNrQnV0dG9uSWNvbkVsIiwidGV4dCIsIm1vZGUiLCJpY29uIiwiY29sb3IiLCJkaXNhYmxlZCIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJhZGRFbGVtZW50IiwiYmVmb3JlU3R5bGVzIiwicG9zaXRpb24iLCJiZWZvcmVBZGRXcml0ZSIsImFmdGVyQWRkV3JpdGUiLCJyZW1vdmVQcm9wZXJ0eSIsImtleWZyYW1lcyIsImFkZEFuaW1hdGlvbiIsImxhcmdlVGl0bGVCb3giLCJPUklHSU5fWCIsIlRJVExFX1NUQVJUX09GRlNFVCIsIlNUQVJUX1RSQU5TTEFURV9YIiwiU1RBUlRfVFJBTlNMQVRFX1kiLCJMQVJHRV9USVRMRV9UUkFOU0xBVElPTl9PRkZTRVQiLCJFTkRfVFJBTlNMQVRFX1giLCJ4IiwiU1RBUlRfU0NBTEUiLCJFTkRfU0NBTEUiLCJiYWNrQnV0dG9uTWlkUG9pbnQiLCJ0aXRsZU1pZFBvaW50IiwiRU5EX1RSQU5TTEFURV9ZIiwiQkFDS1dBUkRTX0tFWUZSQU1FUyIsIkZPUldBUkRTX0tFWUZSQU1FUyIsIktFWUZSQU1FUyIsImNsb25lZFRpdGxlRWwiLCJjbG9uZWRMYXJnZVRpdGxlQW5pbWF0aW9uIiwiaW5uZXJUZXh0Iiwic2l6ZSIsImRpc3BsYXkiLCJpb3NUcmFuc2l0aW9uQW5pbWF0aW9uIiwibmF2RWwiLCJvcHRzIiwiRUFTSU5HIiwiT1BBQ0lUWSIsIlRSQU5TRk9STSIsIkNFTlRFUiIsIk9GRl9PUEFDSVRZIiwiaXNSVEwiLCJvd25lckRvY3VtZW50IiwiZGlyIiwiT0ZGX1JJR0hUIiwiT0ZGX0xFRlQiLCJkaXJlY3Rpb24iLCJjb250ZW50RWwiLCJoZWFkZXJFbHMiLCJlbnRlcmluZ1Rvb2xCYXJFbHMiLCJlbnRlcmluZ0NvbnRlbnRBbmltYXRpb24iLCJkdXJhdGlvbiIsImVhc2luZyIsImZpbGwiLCJiZWZvcmVSZW1vdmVDbGFzcyIsInVuZGVmaW5lZCIsIm5hdkRlY29yQW5pbWF0aW9uIiwibGVuZ3RoIiwiYmVmb3JlQ2xlYXJTdHlsZXMiLCJmcm9tVG8iLCJlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3RFbCIsImVudGVyaW5nVHJhbnNpdGlvbkNvdmVyRWwiLCJlbnRlcmluZ1RyYW5zaXRpb25TaGFkb3dFbCIsImVudGVyaW5nVHJhbnNpdGlvbkVmZmVjdCIsImVudGVyaW5nVHJhbnNpdGlvbkNvdmVyIiwiZW50ZXJpbmdUcmFuc2l0aW9uU2hhZG93IiwiYWZ0ZXJTdHlsZXMiLCJlbnRlcmluZ0NvbnRlbnRIYXNMYXJnZVRpdGxlIiwiZm9yRWFjaCIsImVudGVyaW5nVG9vbEJhckVsIiwiZW50ZXJpbmdUb29sQmFyIiwiZW50ZXJpbmdUaXRsZSIsImVudGVyaW5nVG9vbEJhckJ1dHRvbnMiLCJBcnJheSIsImZyb20iLCJpbmFjdGl2ZUhlYWRlciIsImJ1dHRvbnNUb0FuaW1hdGUiLCJmaWx0ZXIiLCJidXR0b24iLCJpc0NvbGxhcHNlQnV0dG9uIiwiZW50ZXJpbmdUb29sQmFySXRlbXMiLCJlbnRlcmluZ1Rvb2xCYXJCZyIsInRyYW5zbHVjZW50SGVhZGVyIiwidHJhbnNsdWNlbnQiLCJlbnRlcmluZ0JhY2tCdG5UZXh0IiwibGVhdmluZ0NvbnRlbnQiLCJsZWF2aW5nQ29udGVudEVsIiwibGVhdmluZ1Rvb2xCYXJFbHMiLCJsZWF2aW5nSGVhZGVyRWxzIiwibGVhdmluZ1BhZ2UiLCJnZXREaXJlY3Rpb24iLCJsZWF2aW5nVHJhbnNpdGlvbkVmZmVjdEVsIiwibGVhdmluZ1RyYW5zaXRpb25Db3ZlckVsIiwibGVhdmluZ1RyYW5zaXRpb25TaGFkb3dFbCIsImxlYXZpbmdUcmFuc2l0aW9uRWZmZWN0IiwibGVhdmluZ1RyYW5zaXRpb25Db3ZlciIsImxlYXZpbmdUcmFuc2l0aW9uU2hhZG93IiwibGVhdmluZ1Rvb2xCYXJFbCIsImxlYXZpbmdUb29sQmFyIiwibGVhdmluZ1RpdGxlIiwibGVhdmluZ1Rvb2xCYXJCdXR0b25zIiwibGVhdmluZ1Rvb2xCYXJJdGVtcyIsImxlYXZpbmdUb29sQmFySXRlbUVscyIsImxlYXZpbmdUb29sQmFyQmciLCJsZWF2aW5nQmFja0J0blRleHQiLCJhZnRlckNsZWFyU3R5bGVzIiwiZXJyIl0sInNvdXJjZVJvb3QiOiJ3ZWJwYWNrOi8vLyIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswXX0=