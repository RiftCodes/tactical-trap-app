"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_index-CWbP1eJz_js"],{

/***/ 9675:
/*!*************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/index-CWbP1eJz.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   startTapClick: () => (/* binding */ startTapClick)
/* harmony export */ });
/* harmony import */ var _index_ZjP4CjeZ_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-ZjP4CjeZ.js */ 575);
/* harmony import */ var _helpers_1O4D2b7y_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helpers-1O4D2b7y.js */ 450);
/* harmony import */ var _index_B_U9CtaY_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index-B_U9CtaY.js */ 4917);
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */



const startTapClick = config => {
  if (_index_ZjP4CjeZ_js__WEBPACK_IMPORTED_MODULE_0__.d === undefined) {
    return;
  }
  let lastActivated = 0;
  let activatableEle;
  let activeRipple;
  let activeDefer;
  const useRippleEffect = config.getBoolean('animated', true) && config.getBoolean('rippleEffect', true);
  const clearDefers = new WeakMap();
  const cancelActive = () => {
    if (activeDefer) clearTimeout(activeDefer);
    activeDefer = undefined;
    if (activatableEle) {
      removeActivated(false);
      activatableEle = undefined;
    }
  };
  const pointerDown = ev => {
    // Ignore right clicks
    if (activatableEle || ev.button === 2) {
      return;
    }
    setActivatedElement(getActivatableTarget(ev), ev);
  };
  const pointerUp = ev => {
    setActivatedElement(undefined, ev);
  };
  const setActivatedElement = (el, ev) => {
    // do nothing
    if (el && el === activatableEle) {
      return;
    }
    if (activeDefer) clearTimeout(activeDefer);
    activeDefer = undefined;
    const {
      x,
      y
    } = (0,_helpers_1O4D2b7y_js__WEBPACK_IMPORTED_MODULE_1__.q)(ev);
    // deactivate selected
    if (activatableEle) {
      if (clearDefers.has(activatableEle)) {
        throw new Error('internal error');
      }
      if (!activatableEle.classList.contains(ACTIVATED)) {
        addActivated(activatableEle, x, y);
      }
      removeActivated(true);
    }
    // activate
    if (el) {
      const deferId = clearDefers.get(el);
      if (deferId) {
        clearTimeout(deferId);
        clearDefers.delete(el);
      }
      el.classList.remove(ACTIVATED);
      const callback = () => {
        addActivated(el, x, y);
        activeDefer = undefined;
      };
      if (isInstant(el)) {
        callback();
      } else {
        activeDefer = setTimeout(callback, ADD_ACTIVATED_DEFERS);
      }
    }
    activatableEle = el;
  };
  const addActivated = (el, x, y) => {
    lastActivated = Date.now();
    el.classList.add(ACTIVATED);
    if (!useRippleEffect) return;
    const rippleEffect = getRippleEffect(el);
    if (rippleEffect !== null) {
      removeRipple();
      activeRipple = rippleEffect.addRipple(x, y);
    }
  };
  const removeRipple = () => {
    if (activeRipple !== undefined) {
      activeRipple.then(remove => remove());
      activeRipple = undefined;
    }
  };
  const removeActivated = smooth => {
    removeRipple();
    const active = activatableEle;
    if (!active) {
      return;
    }
    const time = CLEAR_STATE_DEFERS - Date.now() + lastActivated;
    if (smooth && time > 0 && !isInstant(active)) {
      const deferId = setTimeout(() => {
        active.classList.remove(ACTIVATED);
        clearDefers.delete(active);
      }, CLEAR_STATE_DEFERS);
      clearDefers.set(active, deferId);
    } else {
      active.classList.remove(ACTIVATED);
    }
  };
  _index_ZjP4CjeZ_js__WEBPACK_IMPORTED_MODULE_0__.d.addEventListener('ionGestureCaptured', cancelActive);
  _index_ZjP4CjeZ_js__WEBPACK_IMPORTED_MODULE_0__.d.addEventListener('pointerdown', pointerDown, true);
  _index_ZjP4CjeZ_js__WEBPACK_IMPORTED_MODULE_0__.d.addEventListener('pointerup', pointerUp, true);
  /**
   * Tap click effects such as the ripple effect should
   * not happen when scrolling. For example, if a user scrolls
   * the page but also happens to do a touchstart on a button
   * as part of the scroll, the ripple effect should not
   * be dispatched. The ripple effect should only happen
   * if the button is activated and the page is not scrolling.
   *
   * pointercancel is dispatched on a gesture when scrolling
   * starts, so this lets us avoid having to listen for
   * ion-content's scroll events.
   */
  _index_ZjP4CjeZ_js__WEBPACK_IMPORTED_MODULE_0__.d.addEventListener('pointercancel', cancelActive, true);
};
// TODO(FW-2832): type
const getActivatableTarget = ev => {
  if (ev.composedPath !== undefined) {
    /**
     * composedPath returns EventTarget[]. However,
     * objects other than Element can be targets too.
     * For example, AudioContext can be a target. In this
     * case, we know that the event is a UIEvent so we
     * can assume that the path will contain either Element
     * or ShadowRoot.
     */
    const path = ev.composedPath();
    for (let i = 0; i < path.length - 2; i++) {
      const el = path[i];
      if (!(el instanceof ShadowRoot) && el.classList.contains('ion-activatable')) {
        return el;
      }
    }
  } else {
    return ev.target.closest('.ion-activatable');
  }
};
const isInstant = el => {
  return el.classList.contains('ion-activatable-instant');
};
const getRippleEffect = el => {
  if (el.shadowRoot) {
    const ripple = el.shadowRoot.querySelector('ion-ripple-effect');
    if (ripple) {
      return ripple;
    }
  }
  return el.querySelector('ion-ripple-effect');
};
const ACTIVATED = 'ion-activated';
const ADD_ACTIVATED_DEFERS = 100;
const CLEAR_STATE_DEFERS = 150;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW5kZXgtQ1diUDFlSnpfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUMrQztBQUNXO0FBQzdCO0FBRTdCLE1BQU1JLGFBQWEsR0FBSUMsTUFBTSxJQUFLO0VBQzlCLElBQUlKLGlEQUFHLEtBQUtLLFNBQVMsRUFBRTtJQUNuQjtFQUNKO0VBQ0EsSUFBSUMsYUFBYSxHQUFHLENBQUM7RUFDckIsSUFBSUMsY0FBYztFQUNsQixJQUFJQyxZQUFZO0VBQ2hCLElBQUlDLFdBQVc7RUFDZixNQUFNQyxlQUFlLEdBQUdOLE1BQU0sQ0FBQ08sVUFBVSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsSUFBSVAsTUFBTSxDQUFDTyxVQUFVLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQztFQUN0RyxNQUFNQyxXQUFXLEdBQUcsSUFBSUMsT0FBTyxDQUFDLENBQUM7RUFDakMsTUFBTUMsWUFBWSxHQUFHQSxDQUFBLEtBQU07SUFDdkIsSUFBSUwsV0FBVyxFQUNYTSxZQUFZLENBQUNOLFdBQVcsQ0FBQztJQUM3QkEsV0FBVyxHQUFHSixTQUFTO0lBQ3ZCLElBQUlFLGNBQWMsRUFBRTtNQUNoQlMsZUFBZSxDQUFDLEtBQUssQ0FBQztNQUN0QlQsY0FBYyxHQUFHRixTQUFTO0lBQzlCO0VBQ0osQ0FBQztFQUNELE1BQU1ZLFdBQVcsR0FBSUMsRUFBRSxJQUFLO0lBQ3hCO0lBQ0EsSUFBSVgsY0FBYyxJQUFJVyxFQUFFLENBQUNDLE1BQU0sS0FBSyxDQUFDLEVBQUU7TUFDbkM7SUFDSjtJQUNBQyxtQkFBbUIsQ0FBQ0Msb0JBQW9CLENBQUNILEVBQUUsQ0FBQyxFQUFFQSxFQUFFLENBQUM7RUFDckQsQ0FBQztFQUNELE1BQU1JLFNBQVMsR0FBSUosRUFBRSxJQUFLO0lBQ3RCRSxtQkFBbUIsQ0FBQ2YsU0FBUyxFQUFFYSxFQUFFLENBQUM7RUFDdEMsQ0FBQztFQUNELE1BQU1FLG1C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Q0FBQyxFQUFFRCxDQUFDLEVBQUUsRUFBRTtNQUN0QyxNQUFNakMsRUFBRSxHQUFHZ0MsSUFBSSxDQUFDQyxDQUFDLENBQUM7TUFDbEIsSUFBSSxFQUFFakMsRUFBRSxZQUFZbUMsVUFBVSxDQUFDLElBQUluQyxFQUFFLENBQUNLLFNBQVMsQ0FBQ0MsUUFBUSxDQUFDLGlCQUFpQixDQUFDLEVBQUU7UUFDekUsT0FBT04sRUFBRTtNQUNiO0lBQ0o7RUFDSixDQUFDLE1BQ0k7SUFDRCxPQUFPTCxFQUFFLENBQUN5QyxNQUFNLENBQUNDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQztFQUNoRDtBQUNKLENBQUM7QUFDRCxNQUFNdkIsU0FBUyxHQUFJZCxFQUFFLElBQUs7RUFDdEIsT0FBT0EsRUFBRSxDQUFDSyxTQUFTLENBQUNDLFFBQVEsQ0FBQyx5QkFBeUIsQ0FBQztBQUMzRCxDQUFDO0FBQ0QsTUFBTWUsZUFBZSxHQUFJckIsRUFBRSxJQUFLO0VBQzVCLElBQUlBLEVBQUUsQ0FBQ3NDLFVBQVUsRUFBRTtJQUNmLE1BQU1DLE1BQU0sR0FBR3ZDLEVBQUUsQ0FBQ3NDLFVBQVUsQ0FBQ0UsYUFBYSxDQUFDLG1CQUFtQixDQUFDO0lBQy9ELElBQUlELE1BQU0sRUFBRTtNQUNSLE9BQU9BLE1BQU07SUFDakI7RUFDSjtFQUNBLE9BQU92QyxFQUFFLENBQUN3QyxhQUFhLENBQUMsbUJBQW1CLENBQUM7QUFDaEQsQ0FBQztBQUNELE1BQU1qQyxTQUFTLEdBQUcsZUFBZTtBQUNqQyxNQUFNUyxvQkFBb0IsR0FBRyxHQUFHO0FBQ2hDLE1BQU1ZLGtCQUFrQixHQUFHLEdBQUciLCJzb3VyY2VzIjpbIi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2luZGV4LUNXYlAxZUp6LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyBkIGFzIGRvYyB9IGZyb20gJy4vaW5kZXgtWmpQNENqZVouanMnO1xuaW1wb3J0IHsgcSBhcyBwb2ludGVyQ29vcmQgfSBmcm9tICcuL2hlbHBlcnMtMU80RDJiN3kuanMnO1xuaW1wb3J0ICcuL2luZGV4LUJfVTlDdGFZLmpzJztcblxuY29uc3Qgc3RhcnRUYXBDbGljayA9IChjb25maWcpID0+IHtcbiAgICBpZiAoZG9jID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbGFzdEFjdGl2YXRlZCA9IDA7XG4gICAgbGV0IGFjdGl2YXRhYmxlRWxlO1xuICAgIGxldCBhY3RpdmVSaXBwbGU7XG4gICAgbGV0IGFjdGl2ZURlZmVyO1xuICAgIGNvbnN0IHVzZVJpcHBsZUVmZmVjdCA9IGNvbmZpZy5nZXRCb29sZWFuKCdhbmltYXRlZCcsIHRydWUpICYmIGNvbmZpZy5nZXRCb29sZWFuKCdyaXBwbGVFZmZlY3QnLCB0cnVlKTtcbiAgICBjb25zdCBjbGVhckRlZmVycyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgY29uc3QgY2FuY2VsQWN0aXZlID0gKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlRGVmZXIpXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoYWN0aXZlRGVmZXIpO1xuICAgICAgICBhY3RpdmVEZWZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGFjdGl2YXRhYmxlRWxlKSB7XG4gICAgICAgICAgICByZW1vdmVBY3RpdmF0ZWQoZmFsc2UpO1xuICAgICAgICAgICAgYWN0aXZhdGFibGVFbGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHBvaW50ZXJEb3duID0gKGV2KSA9PiB7XG4gICAgICAgIC8vIElnbm9yZSByaWdodCBjbGlja3NcbiAgICAgICAgaWYgKGFjdGl2YXRhYmxlRWxlIHx8IGV2LmJ1dHRvbiA9PT0gMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEFjdGl2YXRlZEVsZW1lbnQoZ2V0QWN0aXZhdGFibGVUYXJnZXQoZXYpLCBldik7XG4gICAgfTtcbiAgICBjb25zdCBwb2ludGVyVXAgPSAoZXYpID0+IHtcbiAgICAgICAgc2V0QWN0aXZhdGVkRWxlbWVudCh1bmRlZmluZWQsIGV2KTtcbiAgICB9O1xuICAgIGNvbnN0IHNldEFjdGl2YXRlZEVsZW1lbnQgPSAoZWwsIGV2KSA9PiB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgICAgaWYgKGVsICYmIGVsID09PSBhY3RpdmF0YWJsZUVsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3RpdmVEZWZlcilcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChhY3RpdmVEZWZlcik7XG4gICAgICAgIGFjdGl2ZURlZmVyID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IHBvaW50ZXJDb29yZChldik7XG4gICAgICAgIC8vIGRlYWN0aXZhdGUgc2VsZWN0ZWRcbiAgICAgICAgaWYgKGFjdGl2YXRhYmxlRWxlKSB7XG4gICAgICAgICAgICBpZiAoY2xlYXJEZWZlcnMuaGFzKGFjdGl2YXRhYmxlRWxlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW50ZXJuYWwgZXJyb3InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghYWN0aXZhdGFibGVFbGUuY2xhc3NMaXN0LmNvbnRhaW5zKEFDVElWQVRFRCkpIHtcbiAgICAgICAgICAgICAgICBhZGRBY3RpdmF0ZWQoYWN0aXZhdGFibGVFbGUsIHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVtb3ZlQWN0aXZhdGVkKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFjdGl2YXRlXG4gICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgY29uc3QgZGVmZXJJZCA9IGNsZWFyRGVmZXJzLmdldChlbCk7XG4gICAgICAgICAgICBpZiAoZGVmZXJJZCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChkZWZlcklkKTtcbiAgICAgICAgICAgICAgICBjbGVhckRlZmVycy5kZWxldGUoZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShBQ1RJVkFURUQpO1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYWRkQWN0aXZhdGVkKGVsLCB4LCB5KTtcbiAgICAgICAgICAgICAgICBhY3RpdmVEZWZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoaXNJbnN0YW50KGVsKSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVEZWZlciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIEFERF9BQ1RJVkFURURfREVGRVJTKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhY3RpdmF0YWJsZUVsZSA9IGVsO1xuICAgIH07XG4gICAgY29uc3QgYWRkQWN0aXZhdGVkID0gKGVsLCB4LCB5KSA9PiB7XG4gICAgICAgIGxhc3RBY3RpdmF0ZWQgPSBEYXRlLm5vdygpO1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKEFDVElWQVRFRCk7XG4gICAgICAgIGlmICghdXNlUmlwcGxlRWZmZWN0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCByaXBwbGVFZmZlY3QgPSBnZXRSaXBwbGVFZmZlY3QoZWwpO1xuICAgICAgICBpZiAocmlwcGxlRWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZW1vdmVSaXBwbGUoKTtcbiAgICAgICAgICAgIGFjdGl2ZVJpcHBsZSA9IHJpcHBsZUVmZmVjdC5hZGRSaXBwbGUoeCwgeSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVJpcHBsZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZVJpcHBsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhY3RpdmVSaXBwbGUudGhlbigocmVtb3ZlKSA9PiByZW1vdmUoKSk7XG4gICAgICAgICAgICBhY3RpdmVSaXBwbGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZUFjdGl2YXRlZCA9IChzbW9vdGgpID0+IHtcbiAgICAgICAgcmVtb3ZlUmlwcGxlKCk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZSA9IGFjdGl2YXRhYmxlRWxlO1xuICAgICAgICBpZiAoIWFjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRpbWUgPSBDTEVBUl9TVEFURV9ERUZFUlMgLSBEYXRlLm5vdygpICsgbGFzdEFjdGl2YXRlZDtcbiAgICAgICAgaWYgKHNtb290aCAmJiB0aW1lID4gMCAmJiAhaXNJbnN0YW50KGFjdGl2ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmVySWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBhY3RpdmUuY2xhc3NMaXN0LnJlbW92ZShBQ1RJVkFURUQpO1xuICAgICAgICAgICAgICAgIGNsZWFyRGVmZXJzLmRlbGV0ZShhY3RpdmUpO1xuICAgICAgICAgICAgfSwgQ0xFQVJfU1RBVEVfREVGRVJTKTtcbiAgICAgICAgICAgIGNsZWFyRGVmZXJzLnNldChhY3RpdmUsIGRlZmVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWN0aXZlLmNsYXNzTGlzdC5yZW1vdmUoQUNUSVZBVEVEKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ2lvbkdlc3R1cmVDYXB0dXJlZCcsIGNhbmNlbEFjdGl2ZSk7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgcG9pbnRlckRvd24sIHRydWUpO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBwb2ludGVyVXAsIHRydWUpO1xuICAgIC8qKlxuICAgICAqIFRhcCBjbGljayBlZmZlY3RzIHN1Y2ggYXMgdGhlIHJpcHBsZSBlZmZlY3Qgc2hvdWxkXG4gICAgICogbm90IGhhcHBlbiB3aGVuIHNjcm9sbGluZy4gRm9yIGV4YW1wbGUsIGlmIGEgdXNlciBzY3JvbGxzXG4gICAgICogdGhlIHBhZ2UgYnV0IGFsc28gaGFwcGVucyB0byBkbyBhIHRvdWNoc3RhcnQgb24gYSBidXR0b25cbiAgICAgKiBhcyBwYXJ0IG9mIHRoZSBzY3JvbGwsIHRoZSByaXBwbGUgZWZmZWN0IHNob3VsZCBub3RcbiAgICAgKiBiZSBkaXNwYXRjaGVkLiBUaGUgcmlwcGxlIGVmZmVjdCBzaG91bGQgb25seSBoYXBwZW5cbiAgICAgKiBpZiB0aGUgYnV0dG9uIGlzIGFjdGl2YXRlZCBhbmQgdGhlIHBhZ2UgaXMgbm90IHNjcm9sbGluZy5cbiAgICAgKlxuICAgICAqIHBvaW50ZXJjYW5jZWwgaXMgZGlzcGF0Y2hlZCBvbiBhIGdlc3R1cmUgd2hlbiBzY3JvbGxpbmdcbiAgICAgKiBzdGFydHMsIHNvIHRoaXMgbGV0cyB1cyBhdm9pZCBoYXZpbmcgdG8gbGlzdGVuIGZvclxuICAgICAqIGlvbi1jb250ZW50J3Mgc2Nyb2xsIGV2ZW50cy5cbiAgICAgKi9cbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIGNhbmNlbEFjdGl2ZSwgdHJ1ZSk7XG59O1xuLy8gVE9ETyhGVy0yODMyKTogdHlwZVxuY29uc3QgZ2V0QWN0aXZhdGFibGVUYXJnZXQgPSAoZXYpID0+IHtcbiAgICBpZiAoZXYuY29tcG9zZWRQYXRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNvbXBvc2VkUGF0aCByZXR1cm5zIEV2ZW50VGFyZ2V0W10uIEhvd2V2ZXIsXG4gICAgICAgICAqIG9iamVjdHMgb3RoZXIgdGhhbiBFbGVtZW50IGNhbiBiZSB0YXJnZXRzIHRvby5cbiAgICAgICAgICogRm9yIGV4YW1wbGUsIEF1ZGlvQ29udGV4dCBjYW4gYmUgYSB0YXJnZXQuIEluIHRoaXNcbiAgICAgICAgICogY2FzZSwgd2Uga25vdyB0aGF0IHRoZSBldmVudCBpcyBhIFVJRXZlbnQgc28gd2VcbiAgICAgICAgICogY2FuIGFzc3VtZSB0aGF0IHRoZSBwYXRoIHdpbGwgY29udGFpbiBlaXRoZXIgRWxlbWVudFxuICAgICAgICAgKiBvciBTaGFkb3dSb290LlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgcGF0aCA9IGV2LmNvbXBvc2VkUGF0aCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoIC0gMjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbCA9IHBhdGhbaV07XG4gICAgICAgICAgICBpZiAoIShlbCBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QpICYmIGVsLmNsYXNzTGlzdC5jb250YWlucygnaW9uLWFjdGl2YXRhYmxlJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBldi50YXJnZXQuY2xvc2VzdCgnLmlvbi1hY3RpdmF0YWJsZScpO1xuICAgIH1cbn07XG5jb25zdCBpc0luc3RhbnQgPSAoZWwpID0+IHtcbiAgICByZXR1cm4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdpb24tYWN0aXZhdGFibGUtaW5zdGFudCcpO1xufTtcbmNvbnN0IGdldFJpcHBsZUVmZmVjdCA9IChlbCkgPT4ge1xuICAgIGlmIChlbC5zaGFkb3dSb290KSB7XG4gICAgICAgIGNvbnN0IHJpcHBsZSA9IGVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignaW9uLXJpcHBsZS1lZmZlY3QnKTtcbiAgICAgICAgaWYgKHJpcHBsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJpcHBsZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZWwucXVlcnlTZWxlY3RvcignaW9uLXJpcHBsZS1lZmZlY3QnKTtcbn07XG5jb25zdCBBQ1RJVkFURUQgPSAnaW9uLWFjdGl2YXRlZCc7XG5jb25zdCBBRERfQUNUSVZBVEVEX0RFRkVSUyA9IDEwMDtcbmNvbnN0IENMRUFSX1NUQVRFX0RFRkVSUyA9IDE1MDtcblxuZXhwb3J0IHsgc3RhcnRUYXBDbGljayB9O1xuIl0sIm5hbWVzIjpbImQiLCJkb2MiLCJxIiwicG9pbnRlckNvb3JkIiwic3RhcnRUYXBDbGljayIsImNvbmZpZyIsInVuZGVmaW5lZCIsImxhc3RBY3RpdmF0ZWQiLCJhY3RpdmF0YWJsZUVsZSIsImFjdGl2ZVJpcHBsZSIsImFjdGl2ZURlZmVyIiwidXNlUmlwcGxlRWZmZWN0IiwiZ2V0Qm9vbGVhbiIsImNsZWFyRGVmZXJzIiwiV2Vha01hcCIsImNhbmNlbEFjdGl2ZSIsImNsZWFyVGltZW91dCIsInJlbW92ZUFjdGl2YXRlZCIsInBvaW50ZXJEb3duIiwiZXYiLCJidXR0b24iLCJzZXRBY3RpdmF0ZWRFbGVtZW50IiwiZ2V0QWN0aXZhdGFibGVUYXJnZXQiLCJwb2ludGVyVXAiLCJlbCIsIngiLCJ5IiwiaGFzIiwiRXJyb3IiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsIkFDVElWQVRFRCIsImFkZEFjdGl2YXRlZCIsImRlZmVySWQiLCJnZXQiLCJkZWxldGUiLCJyZW1vdmUiLCJjYWxsYmFjayIsImlzSW5zdGFudCIsInNldFRpbWVvdXQiLCJBRERfQUNUSVZBVEVEX0RFRkVSUyIsIkRhdGUiLCJub3ciLCJhZGQiLCJyaXBwbGVFZmZlY3QiLCJnZXRSaXBwbGVFZmZlY3QiLCJyZW1vdmVSaXBwbGUiLCJhZGRSaXBwbGUiLCJ0aGVuIiwic21vb3RoIiwiYWN0aXZlIiwidGltZSIsIkNMRUFSX1NUQVRFX0RFRkVSUyIsInNldCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb21wb3NlZFBhdGgiLCJwYXRoIiwiaSIsImxlbmd0aCIsIlNoYWRvd1Jvb3QiLCJ0YXJnZXQiLCJjbG9zZXN0Iiwic2hhZG93Um9vdCIsInJpcHBsZSIsInF1ZXJ5U2VsZWN0b3IiXSwic291cmNlUm9vdCI6IndlYnBhY2s6Ly8vIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzBdfQ==